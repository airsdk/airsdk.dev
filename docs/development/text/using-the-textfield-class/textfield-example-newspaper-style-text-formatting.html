<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs docs-version-current docs-doc-page docs-doc-id-development/text/using-the-textfield-class/textfield-example-newspaper-style-text-formatting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">TextField Example: Newspaper-style text formatting | AIR SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://airsdk.dev/docs/development/text/using-the-textfield-class/textfield-example-newspaper-style-text-formatting"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="TextField Example: Newspaper-style text formatting | AIR SDK"><meta data-rh="true" name="description" content="The News Layout example formats text to look something like a story in a printed"><meta data-rh="true" property="og:description" content="The News Layout example formats text to look something like a story in a printed"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://airsdk.dev/docs/development/text/using-the-textfield-class/textfield-example-newspaper-style-text-formatting"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/text/using-the-textfield-class/textfield-example-newspaper-style-text-formatting" hreflang="en"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/text/using-the-textfield-class/textfield-example-newspaper-style-text-formatting" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Development","item":"https://airsdk.dev/docs/development/"},{"@type":"ListItem","position":2,"name":"Text","item":"https://airsdk.dev/docs/development/text/"},{"@type":"ListItem","position":3,"name":"Using the TextField class","item":"https://airsdk.dev/docs/development/text/using-the-textfield-class/"},{"@type":"ListItem","position":4,"name":"TextField Example: Newspaper-style text formatting","item":"https://airsdk.dev/docs/development/text/using-the-textfield-class/textfield-example-newspaper-style-text-formatting"}]}</script><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="AIR SDK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="AIR SDK Atom Feed">
<link rel="alternate" type="application/json" href="/news/feed.json" title="AIR SDK JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PBLKC63BP2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-PBLKC63BP2",{})</script>





<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Noto+Sans+JP&amp;family=Open+Sans&amp;family=Roboto&amp;family=Lato&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.574c5287.css">
<script src="/assets/js/runtime~main.1dfd2608.js" defer="defer"></script>
<script src="/assets/js/main.62f954ea.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/images/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.svg" alt="AIR SDK" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/logo.svg" alt="AIR SDK" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AIR SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/reference">Reference</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/news">News</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs"><span title="AIR" class="linkLabel_WmDU">AIR</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/features"><span title="Features" class="linkLabel_WmDU">Features</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/basics/getting-started"><span title="Basics" class="categoryLinkLabel_W154">Basics</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/tutorials"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/development"><span title="Development" class="categoryLinkLabel_W154">Development</span></a><button aria-label="Collapse sidebar category &#x27;Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/core-actionscript-classes"><span title="Core ActionScript Classes" class="categoryLinkLabel_W154">Core ActionScript Classes</span></a><button aria-label="Expand sidebar category &#x27;Core ActionScript Classes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/display"><span title="Display" class="categoryLinkLabel_W154">Display</span></a><button aria-label="Expand sidebar category &#x27;Display&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/development/text"><span title="Text" class="categoryLinkLabel_W154">Text</span></a><button aria-label="Collapse sidebar category &#x27;Text&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/basics-of-working-with-text"><span title="Basics of Working with text" class="linkLabel_WmDU">Basics of Working with text</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/development/text/using-the-textfield-class"><span title="Using the TextField class" class="categoryLinkLabel_W154">Using the TextField class</span></a><button aria-label="Collapse sidebar category &#x27;Using the TextField class&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/using-the-textfield-class/advanced-text-rendering"><span title="Advanced text rendering" class="linkLabel_WmDU">Advanced text rendering</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/using-the-textfield-class/capturing-text-input"><span title="Capturing text input" class="linkLabel_WmDU">Capturing text input</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/using-the-textfield-class/displaying-text"><span title="Displaying text" class="linkLabel_WmDU">Displaying text</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/using-the-textfield-class/formatting-text"><span title="Formatting text" class="linkLabel_WmDU">Formatting text</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/using-the-textfield-class/restricting-text-input"><span title="Restricting text input" class="linkLabel_WmDU">Restricting text input</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/using-the-textfield-class/selecting-and-manipulating-text"><span title="Selecting and manipulating text" class="linkLabel_WmDU">Selecting and manipulating text</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/development/text/using-the-textfield-class/textfield-example-newspaper-style-text-formatting"><span title="TextField Example: Newspaper-style text formatting" class="linkLabel_WmDU">TextField Example: Newspaper-style text formatting</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/using-the-textfield-class/working-with-static-text"><span title="Working with static text" class="linkLabel_WmDU">Working with static text</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/using-the-text-layout-framework"><span title="Using the Text Layout Framework" class="linkLabel_WmDU">Using the Text Layout Framework</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/text/using-the-flash-text-engine"><span title="Using the Flash Text Engine" class="categoryLinkLabel_W154">Using the Flash Text Engine</span></a><button aria-label="Expand sidebar category &#x27;Using the Flash Text Engine&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/text/embedding-fonts"><span title="Embedding fonts" class="linkLabel_WmDU">Embedding fonts</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/rich-media-content"><span title="Rich Media Content" class="categoryLinkLabel_W154">Rich Media Content</span></a><button aria-label="Expand sidebar category &#x27;Rich Media Content&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/user-interaction"><span title="User Interaction" class="categoryLinkLabel_W154">User Interaction</span></a><button aria-label="Expand sidebar category &#x27;User Interaction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/files-and-data"><span title="Files and data" class="categoryLinkLabel_W154">Files and data</span></a><button aria-label="Expand sidebar category &#x27;Files and data&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/networking-and-communication"><span title="Networking and communication" class="categoryLinkLabel_W154">Networking and communication</span></a><button aria-label="Expand sidebar category &#x27;Networking and communication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/client-system-interaction"><span title="Client system interaction" class="categoryLinkLabel_W154">Client system interaction</span></a><button aria-label="Expand sidebar category &#x27;Client system interaction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/internationalizing-applications"><span title="Internationalizing applications" class="categoryLinkLabel_W154">Internationalizing applications</span></a><button aria-label="Expand sidebar category &#x27;Internationalizing applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/html-content-in-air"><span title="HTML content in Adobe AIR" class="categoryLinkLabel_W154">HTML content in Adobe AIR</span></a><button aria-label="Expand sidebar category &#x27;HTML content in Adobe AIR&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/security"><span title="Security" class="categoryLinkLabel_W154">Security</span></a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/appendixes"><span title="Appendixes" class="categoryLinkLabel_W154">Appendixes</span></a><button aria-label="Expand sidebar category &#x27;Appendixes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/asdoc-comments"><span title="ASDoc Comments" class="linkLabel_WmDU">ASDoc Comments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/coding-conventions"><span title="Coding Conventions" class="linkLabel_WmDU">Coding Conventions</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/building/actionscript-compilers"><span title="Building" class="categoryLinkLabel_W154">Building</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tools/building/ant"><span title="Tools" class="categoryLinkLabel_W154">Tools</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/development"><span>Development</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/development/text"><span>Text</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/development/text/using-the-textfield-class"><span>Using the TextField class</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">TextField Example: Newspaper-style text formatting</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>TextField Example: Newspaper-style text formatting</h1></header>
<p>The News Layout example formats text to look something like a story in a printed
newspaper. The input text can contain a headline, a subtitle, and the body of
the story. Given a display width and height, this News Layout example formats
the headline and the subtitle to take the full width of the display area. The
story text is distributed across two or more columns.</p>
<p>This example illustrates the following ActionScript programming techniques:</p>
<ul>
<li class="">
<p>Extending the TextField class</p>
</li>
<li class="">
<p>Loading and applying an external CSS file</p>
</li>
<li class="">
<p>Converting CSS styles into TextFormat objects</p>
</li>
<li class="">
<p>Using the TextLineMetrics class to get information about text display size</p>
</li>
</ul>
<p>To get the application files for this sample, see
<a href="https://github.com/joshtynjala/flash-platform-as3-dev-guide-examples/releases/tag/original" target="_blank" rel="noopener noreferrer" class=""><em>FlashPlatformAS3DevGuideExamples.zip</em></a>.
The News Layout application files can be found in the folder Samples/NewsLayout.
The application consists of the following files:</p>
<table><thead><tr><th><p>File</p></th><th><p>Description</p></th></tr></thead><tbody><tr><td><p>NewsLayout.mxml</p><p>or</p><p>NewsLayout.fla</p></td><td><p></p><p>The user interface for the application for Flex (MXML) or Flash (FLA).</p><p></p></td></tr><tr><td><p>com/example/programmingas3/newslayout/StoryLayoutComponent.as</p></td><td><p>A Flex UIComponent class that places the StoryLayout instance.</p></td></tr><tr><td><p>com/example/programmingas3/newslayout/StoryLayout.as</p></td><td><p></p><p>The main ActionScript class that arranges all the components of a news
story for display.</p><p></p></td></tr><tr><td><p>com/example/programmingas3/newslayout/FormattedTextField.as</p></td><td><p></p><p>A subclass of the TextField class that manages its own TextFormat
object.</p><p></p></td></tr><tr><td><p>com/example/programmingas3/newslayout/HeadlineTextField.as</p></td><td><p></p><p>A subclass of the FormattedTextField class that adjusts font sizes to
fit a desired width.</p><p></p></td></tr><tr><td><p>com/example/programmingas3/newslayout/MultiColumnTextField.as</p></td><td><p></p><p>An ActionScript class that splits text across two or more columns.</p><p></p></td></tr><tr><td><p>story.css</p></td><td><p>A CSS file that defines text styles for the layout.</p></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="reading-the-external-css-file">Reading the external CSS file<a href="#reading-the-external-css-file" class="hash-link" aria-label="Direct link to Reading the external CSS file" title="Direct link to Reading the external CSS file" translate="no">​</a></h2>
<p>The News Layout application starts by reading story text from a local XML file.
Then it reads an external CSS file that provides the formatting information for
the headline, subtitle, and main text.</p>
<p>The CSS file defines three styles, a standard paragraph style for the story, and
the h1 and h2 styles for the headline and subtitle respectively.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">p {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    font-family: Georgia, &quot;Times New Roman&quot;, Times, _serif;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    font-size: 12;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    leading: 2;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    text-align: justify;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    indent: 24;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">h1 {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    font-family: Verdana, Arial, Helvetica, _sans;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    font-size: 20;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    font-weight: bold;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    color: #000099;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    text-align: left;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">h2 {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    font-family: Verdana, Arial, Helvetica, _sans;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    font-size: 16;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    font-weight: normal;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    text-align: left;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>The technique used to read the external CSS file is the same as the technique
described in
<a class="" href="/docs/development/text/using-the-textfield-class/formatting-text#loading-an-external-css-file">Loading an external CSS file</a>.
When the CSS file has been loaded the application executes the
<code>onCSSFileLoaded()</code> method, shown below.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">public function onCSSFileLoaded(event:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.sheet = new StyleSheet();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.sheet.parseCSS(loader.data);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    h1Format = getTextStyle(&quot;h1&quot;, this.sheet);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (h1Format == null)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        h1Format = getDefaultHeadFormat();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    h2Format = getTextStyle(&quot;h2&quot;, this.sheet);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (h2Format == null)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        h2Format = getDefaultHeadFormat();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        h2Format.size = 16;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pFormat = getTextStyle(&quot;p&quot;, this.sheet);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (pFormat == null)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        pFormat = getDefaultTextFormat();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        pFormat.size = 12;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    displayText();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>The <code>onCSSFileLoaded()</code> method creates a StyleSheet object and has it parse the
input CSS data. The main text for the story is displayed in a
MultiColumnTextField object, which can use a StyleSheet object directly.
However, the headline fields use the HeadlineTextField class, which uses a
TextFormat object for its formatting.</p>
<p>The <code>onCSSFileLoaded()</code> method calls the <code>getTextStyle()</code> method twice to
convert a CSS style declaration into a TextFormat object for use with each of
the two HeadlineTextField objects.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">public function getTextStyle(styleName:String, ss:StyleSheet):TextFormat</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var format:TextFormat = null;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var style:Object = ss.getStyle(styleName);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (style != null)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        var colorStr:String = style.color;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        if (colorStr != null &amp;&amp; colorStr.indexOf(&quot;#&quot;) == 0)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            style.color = colorStr.substr(1);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        format = new TextFormat(style.fontFamily,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.fontSize,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.color,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        (style.fontWeight == &quot;bold&quot;),</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        (style.fontStyle == &quot;italic&quot;),</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        (style.textDecoration == &quot;underline&quot;),</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.url,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.target,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.textAlign,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.marginLeft,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.marginRight,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.indent,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        style.leading);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        if (style.hasOwnProperty(&quot;letterSpacing&quot;))</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            format.letterSpacing = style.letterSpacing;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    return format;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>The property names and the meaning of the property values differ between CSS
style declarations and TextFormat objects. The <code>getTextStyle()</code> method
translates CSS property values into the values expected by the TextFormat
object.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="arranging-story-elements-on-the-page">Arranging story elements on the page<a href="#arranging-story-elements-on-the-page" class="hash-link" aria-label="Direct link to Arranging story elements on the page" title="Direct link to Arranging story elements on the page" translate="no">​</a></h2>
<p>The StoryLayout class formats and lays out the headline, subtitle, and main text
fields into a newspaper-style arrangement. The <code>displayText()</code> method initially
creates and places the various fields.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">public function displayText():void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    headlineTxt = new HeadlineTextField(h1Format);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    headlineTxt.wordWrap = true;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    headlineTxt.x = this.paddingLeft;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    headlineTxt.y = this.paddingTop;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    headlineTxt.width = this.preferredWidth;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.addChild(headlineTxt);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    headlineTxt.fitText(this.headline, 1, true);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    subtitleTxt = new HeadlineTextField(h2Format);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    subtitleTxt.wordWrap = true;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    subtitleTxt.x = this.paddingLeft;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    subtitleTxt.y = headlineTxt.y + headlineTxt.height;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    subtitleTxt.width = this.preferredWidth;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.addChild(subtitleTxt);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    subtitleTxt.fitText(this.subtitle, 2, false);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    storyTxt = new MultiColumnText(this.numColumns, 20,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        this.preferredWidth, 400, true, this.pFormat);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    storyTxt.x = this.paddingLeft;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    storyTxt.y = subtitleTxt.y + subtitleTxt.height + 10;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.addChild(storyTxt);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    storyTxt.text = this.content;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...</span><br></span></code></pre></div></div>
<p>Each field is placed below the previous field by setting its <code>y</code> property to
equal the <code>y</code> property of the previous field plus its height. This dynamic
placement calculation is needed because HeadlineTextField objects and
MultiColumnTextField objects can change their height to fit their contents.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="altering-font-size-to-fit-the-field-size">Altering font size to fit the field size<a href="#altering-font-size-to-fit-the-field-size" class="hash-link" aria-label="Direct link to Altering font size to fit the field size" title="Direct link to Altering font size to fit the field size" translate="no">​</a></h2>
<p>Given a width in pixels and a maximum number of lines to display, the
HeadlineTextField alters the font size to make the text fit the field. If the
text is short, the font size is large, creating a tabloid-style headline. If the
text is long, the font size is smaller.</p>
<p>The <code>HeadlineTextField.fitText()</code> method shown below does the font sizing work:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">public function fitText(msg:String, maxLines:uint = 1, toUpper:Boolean = false, targetWidth:Number = -1):uint</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.text = toUpper ? msg.toUpperCase() : msg;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (targetWidth == -1)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        targetWidth = this.width;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var pixelsPerChar:Number = targetWidth / msg.length;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var pointSize:Number = Math.min(MAX_POINT_SIZE, Math.round(pixelsPerChar * 1.8 * maxLines));</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (pointSize &lt; 6)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        // the point size is too small</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return pointSize;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.changeSize(pointSize);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (this.numLines &gt; maxLines)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return shrinkText(--pointSize, maxLines);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return growText(pointSize, maxLines);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public function growText(pointSize:Number, maxLines:uint = 1):Number</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (pointSize &gt;= MAX_POINT_SIZE)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return pointSize;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.changeSize(pointSize + 1);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (this.numLines &gt; maxLines)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        // set it back to the last size</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        this.changeSize(pointSize);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return pointSize;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return growText(pointSize + 1, maxLines);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public function shrinkText(pointSize:Number, maxLines:uint=1):Number</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (pointSize &lt;= MIN_POINT_SIZE)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return pointSize;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.changeSize(pointSize);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (this.numLines &gt; maxLines)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return shrinkText(pointSize - 1, maxLines);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return pointSize;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>The <code>HeadlineTextField.fitText()</code> method uses a simple recursive technique to
size the font. First it guesses an average number of pixels per character in the
text and from there calculates a starting point size. Then it changes the font
size and checks whether the text has word wrapped to create more than the
maximum number of text lines. If there are too many lines it calls the
<code>shrinkText()</code> method to decrease the font size and try again. If there are not
too many lines it calls the <code>growText()</code> method to increase the font size and
try again. The process stops at the point where incrementing the font size by
one more point would create too many lines.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="splitting-text-across-multiple-columns">Splitting text across multiple columns<a href="#splitting-text-across-multiple-columns" class="hash-link" aria-label="Direct link to Splitting text across multiple columns" title="Direct link to Splitting text across multiple columns" translate="no">​</a></h2>
<p>The MultiColumnTextField class spreads text among multiple TextField objects
which are then arranged like newspaper columns.</p>
<p>The <code>MultiColumnTextField()</code> constructor first creates an array of TextField
objects, one for each column, as shown here:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">for (var i:int = 0; i &lt; cols; i++)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var field:TextField = new TextField();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    field.multiline = true;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    field.autoSize = TextFieldAutoSize.NONE;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    field.wordWrap = true;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    field.width = this.colWidth;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    field.setTextFormat(this.format);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.fieldArray.push(field);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.addChild(field);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Each TextField object is added to the array and added to the display list with
the <code>addChild()</code> method.</p>
<p>Whenever the StoryLayout <code>text</code> property or <code>styleSheet</code> property changes, it
calls the <code>layoutColumns()</code> method to redisplay the text. The <code>layoutColumns()</code>
method calls the <code>getOptimalHeight()</code> method, to figure out the correct pixel
height that is needed to fit all of the text within the given layout width.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">public function getOptimalHeight(str:String):int</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (field.text == &quot;&quot; || field.text == null)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return this.preferredHeight;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        this.linesPerCol = Math.ceil(field.numLines / this.numColumns);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        var metrics:TextLineMetrics = field.getLineMetrics(0);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        this.lineHeight = metrics.height;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        var prefHeight:int = linesPerCol * this.lineHeight;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return prefHeight + 4;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>First the <code>getOptimalHeight()</code> method calculates the width of each column. Then
it sets the width and <code>htmlText</code> property of the first TextField object in the
array. The <code>getOptimalHeight()</code> method uses that first TextField object to
discover the total number of word-wrapped lines in the text, and from that it
identifies how many lines should be in each column. Next it calls the
<code>TextField.getLineMetrics()</code> method to retrieve a TextLineMetrics object that
contains details about size of the text in the first line. The
<code>TextLineMetrics.height</code> property represents the full height of a line of text,
in pixels, including the ascent, descent, and leading. The optimal height for
the MultiColumnTextField object is then the line height multiplied by the number
of lines per column, plus 4 to account for the two-pixel border at the top and
the bottom of a TextField object.</p>
<p>Here is the code for the full <code>layoutColumns()</code> method:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">public function layoutColumns():void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (this._text == &quot;&quot; || this._text == null)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var field:TextField = fieldArray[0] as TextField;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    field.text = this._text;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    field.setTextFormat(this.format);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    this.preferredHeight = this.getOptimalHeight(field);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var remainder:String = this._text;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var fieldText:String = &quot;&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var lastLineEndedPara:Boolean = true;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var indent:Number = this.format.indent as Number;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    for (var i:int = 0; i &lt; fieldArray.length; i++)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        field = this.fieldArray[i] as TextField;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        field.height = this.preferredHeight;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        field.text = remainder;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        field.setTextFormat(this.format);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        var lineLen:int;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        if (indent &gt; 0 &amp;&amp; !lastLineEndedPara &amp;&amp; field.numLines &gt; 0)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            lineLen = field.getLineLength(0);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            if (lineLen &gt; 0)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                field.setTextFormat(this.firstLineFormat, 0, lineLen);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        field.x = i * (colWidth + gutter);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        field.y = 0;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        remainder = &quot;&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        fieldText = &quot;&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        var linesRemaining:int = field.numLines;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        var linesVisible:int = Math.min(this.linesPerCol, linesRemaining);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        for (var j:int = 0; j &lt; linesRemaining; j++)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            if (j &lt; linesVisible)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                fieldText += field.getLineText(j);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                remainder +=field.getLineText(j);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        field.text = fieldText;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        field.setTextFormat(this.format);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        if (indent &gt; 0 &amp;&amp; !lastLineEndedPara)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            lineLen = field.getLineLength(0);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            if (lineLen &gt; 0)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                field.setTextFormat(this.firstLineFormat, 0, lineLen);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        var lastLine:String = field.getLineText(field.numLines - 1);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        var lastCharCode:Number = lastLine.charCodeAt(lastLine.length - 1);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        if (lastCharCode == 10 || lastCharCode == 13)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            lastLineEndedPara = true;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            lastLineEndedPara = false;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        if ((this.format.align == TextFormatAlign.JUSTIFY) &amp;&amp;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                (i &lt; fieldArray.length - 1))</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            if (!lastLineEndedPara)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                justifyLastLine(field, lastLine);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>After the <code>preferredHeight</code> property has been set by calling the
<code>getOptimalHeight()</code> method, the <code>layoutColumns()</code> method iterates through the
TextField objects, setting the height of each to the <code>preferredHeight</code> value.
The <code>layoutColumns()</code> method then distributes just enough lines of text to each
field so that no scrolling occurs in any individual field, and the text in each
successive field begins where the text in the previous field ended. If the text
alignment style has been set to &quot;justify&quot; then the <code>justifyLastLine()</code> method is
called to justify the final line of text in a field. Otherwise that last line
would be treated as an end-of-paragraph line and not justified.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/airsdk/airsdk.dev/edit/main/docs/development/text/using-the-textfield-class/textfield-example-newspaper-style-text-formatting.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/development/text/using-the-textfield-class/selecting-and-manipulating-text"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Selecting and manipulating text</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/development/text/using-the-textfield-class/working-with-static-text"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Working with static text</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reading-the-external-css-file" class="table-of-contents__link toc-highlight">Reading the external CSS file</a></li><li><a href="#arranging-story-elements-on-the-page" class="table-of-contents__link toc-highlight">Arranging story elements on the page</a></li><li><a href="#altering-font-size-to-fit-the-field-size" class="table-of-contents__link toc-highlight">Altering font size to fit the field size</a></li><li><a href="#splitting-text-across-multiple-columns" class="table-of-contents__link toc-highlight">Splitting text across multiple columns</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item footer__link-item" href="/docs/basics/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/reference">Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a href="https://github.com/airsdk/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Starling Forum<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/actionscript-3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news">News</a></li><li class="footer__item"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/images/logo.svg" alt="AIR" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/logo.svg" alt="AIR" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Except as otherwise noted, this work is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution 3.0</a> License, and code samples are licensed under the MIT License. <br>Adobe, the Adobe logo, Adobe AIR, ActionScript, AIR, Flash, Flash Builder, Flash Lite, Flex, MXML, and Pixel Bender are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries.<br>Much of this content is based on the original <a href="https://help.adobe.com/en_US/air/build/index.html">Adobe developer documentation</a></div></div></div></footer></div>
</body>
</html>