<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs docs-version-current docs-doc-page docs-doc-id-development/user-interaction/drag-and-drop-in-air/dropping-file-promises/implementing-the-ifilepromise-interface" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Implementing the IFilePromise interface | AIR SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://airsdk.dev/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises/implementing-the-ifilepromise-interface"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="Implementing the IFilePromise interface | AIR SDK"><meta data-rh="true" name="description" content="To provide file promises for resources that cannot be accessed using a"><meta data-rh="true" property="og:description" content="To provide file promises for resources that cannot be accessed using a"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://airsdk.dev/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises/implementing-the-ifilepromise-interface"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises/implementing-the-ifilepromise-interface" hreflang="en"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises/implementing-the-ifilepromise-interface" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="AIR SDK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="AIR SDK Atom Feed">
<link rel="alternate" type="application/json" href="/news/feed.json" title="AIR SDK JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PBLKC63BP2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-PBLKC63BP2",{})</script>





<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Noto+Sans+JP&amp;family=Open+Sans&amp;family=Roboto&amp;family=Lato&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.18ad4986.css">
<script src="/assets/js/runtime~main.3bf6301a.js" defer="defer"></script>
<script src="/assets/js/main.f296975b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/images/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.svg" alt="AIR SDK" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/logo.svg" alt="AIR SDK" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AIR SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/reference">Reference</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/news">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/features">Features</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/basics/getting-started">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/development">Development</a><button aria-label="Collapse sidebar category &#x27;Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/core-actionscript-classes">Core ActionScript Classes</a><button aria-label="Expand sidebar category &#x27;Core ActionScript Classes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/display">Display</a><button aria-label="Expand sidebar category &#x27;Display&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/text">Text</a><button aria-label="Expand sidebar category &#x27;Text&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/rich-media-content">Rich Media Content</a><button aria-label="Expand sidebar category &#x27;Rich Media Content&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/development/user-interaction">User Interaction</a><button aria-label="Collapse sidebar category &#x27;User Interaction&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/basics-of-user-interaction">Basics of user interaction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/user-interaction/keyboard-input">Keyboard input</a><button aria-label="Expand sidebar category &#x27;Keyboard input&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/user-interaction/mouse-input">Mouse input</a><button aria-label="Expand sidebar category &#x27;Mouse input&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/user-interaction/touch-multitouch-and-gesture-input">Touch, multitouch and gesture input</a><button aria-label="Expand sidebar category &#x27;Touch, multitouch and gesture input&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/user-interaction/copy-and-paste">Copy and paste</a><button aria-label="Expand sidebar category &#x27;Copy and paste&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air">Drag and drop in AIR</a><button aria-label="Collapse sidebar category &#x27;Drag and drop in AIR&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/basics-of-drag-and-drop-in-air">Basics of drag and drop in AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/supporting-the-drag-out-gesture">Supporting the drag-out gesture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/supporting-the-drag-in-gesture">Supporting the drag-in gesture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/drag-and-drop-in-html">Drag and drop in HTML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/dragging-data-out-of-an-html-element">Dragging data out of an HTML element</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/dragging-data-into-an-html-element">Dragging data into an HTML element</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/example-overriding-the-default-html-drag-in-behavior">Example: Overriding the default HTML drag-in behavior</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/handling-file-drops-in-non-application-html-sandboxes">Handling file drops in non-application HTML sandboxes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises">Dropping file promises</a><button aria-label="Collapse sidebar category &#x27;Dropping file promises&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises/dropping-remote-files">Dropping remote files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises/implementing-the-ifilepromise-interface">Implementing the IFilePromise interface</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/user-interaction/working-with-menus">Working with menus</a><button aria-label="Expand sidebar category &#x27;Working with menus&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/taskbar-icons-in-air">Taskbar icons in AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/user-interaction/accelerometer-input">Accelerometer input</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/files-and-data">Files and data</a><button aria-label="Expand sidebar category &#x27;Files and data&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/networking-and-communication">Networking and communication</a><button aria-label="Expand sidebar category &#x27;Networking and communication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/client-system-interaction">Client system interaction</a><button aria-label="Expand sidebar category &#x27;Client system interaction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/internationalizing-applications">Internationalizing applications</a><button aria-label="Expand sidebar category &#x27;Internationalizing applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/html-content-in-air">HTML content in Adobe AIR</a><button aria-label="Expand sidebar category &#x27;HTML content in Adobe AIR&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/security">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/appendixes">Appendixes</a><button aria-label="Expand sidebar category &#x27;Appendixes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/asdoc-comments">ASDoc Comments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/coding-conventions">Coding Conventions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/building/actionscript-compilers">Building</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tools/building/ant">Tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development"><span itemprop="name">Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/user-interaction"><span itemprop="name">User Interaction</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/user-interaction/drag-and-drop-in-air"><span itemprop="name">Drag and drop in AIR</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises"><span itemprop="name">Dropping file promises</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Implementing the IFilePromise interface</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Implementing the IFilePromise interface</h1></header>
<p>To provide file promises for resources that cannot be accessed using a
URLFilePromise object, you can implement the IFilePromise interface in a custom
class. The IFilePromise interface defines the methods and properties used by the
AIR runtime to access the data to be written to a file once the file promise is
dropped.</p>
<p>An IFilePromise implementation passes another object to the AIR runtime that
provides the data for the file promise. This object must implement the
IDataInput interface, which the AIR runtime uses to read the data. For example,
the URLFilePromise class, which implements IFilePromise, uses a URLStream object
as the data provider.</p>
<p>AIR can read the data synchronously or asynchronously. The IFilePromise
implementation reports which mode of access is supported by returning the
appropriate value in the <code>isAsync</code> property. If asynchronous data access is
provided, the data provider object must implement the IEventDispatcher interface
and dispatch the necessary events, such as <code>open</code>, <code>progress</code> and <code>complete</code>.</p>
<p>You can use a custom class, or one of the following built-in classes, as a data
provider for a file promise:</p>
<ul>
<li>
<p>ByteArray (synchronous)</p>
</li>
<li>
<p>FileStream (synchronous or asynchronous)</p>
</li>
<li>
<p>Socket (asynchronous)</p>
</li>
<li>
<p>URLStream (asynchronous)</p>
</li>
</ul>
<p>To implement the IFilePromise interface, you must provide code for the following
functions and properties:</p>
<ul>
<li>
<p><code>open():IDataInput</code> — Returns the data provider object from which the data for
the promised file is read. The object must implement the IDataInput interface.
If the data is provided asynchronously, the object must also implement the
IEventDispatcher interface and dispatch the necessary events (see
<a href="#using-an-asynchronous-data-provider-in-a-file-promise">Using an asynchronous data provider in a file promise</a>).</p>
</li>
<li>
<p><code>get relativePath():String</code> — Provides the path, including file name, for the
created file. The path is resolved relative to the drop location chosen by the
user in the drag-and-drop operation. To make sure that the path uses the
proper separator character for the host operating system, use the
<code>File.separator</code> constant when specifying paths containing directories. You
can add a setter function or use a constructor parameter to allow the path to
be set at runtime.</p>
</li>
<li>
<p><code>get isAsync():Boolean</code> — Informs the AIR runtime whether the data provider
object provides it&#x27;s data asynchronously or synchronously.</p>
</li>
<li>
<p><code>close():void</code> — Called by the runtime when the data is fully read (or an
error prevents further reading). You can use this function to cleanup
resources.</p>
</li>
<li>
<p><code>reportError( e:ErrorEvent ):void</code> — Called by the runtime when an error
reading the data occurs.</p>
</li>
</ul>
<p>All of the IFilePromise methods are called by the runtime during a drag-and-drop
operation involving the file promise. Typically, your application logic should
not call any of these methods directly.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-synchronous-data-provider-in-a-file-promise">Using a synchronous data provider in a file promise<a href="#using-a-synchronous-data-provider-in-a-file-promise" class="hash-link" aria-label="Direct link to Using a synchronous data provider in a file promise" title="Direct link to Using a synchronous data provider in a file promise">​</a></h2>
<p>The simplest way to implement the IFilePromise interface is to use a synchronous
data provider object, such as a ByteArray or a synchronous FileStream. In the
following example, a ByteArray object is created, filled with data, and returned
when the <code>open()</code> method is called.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">package</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.desktop.IFilePromise;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.events.ErrorEvent;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.utils.ByteArray;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.utils.IDataInput;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	public class SynchronousFilePromise implements IFilePromise</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private const fileSize:int = 5000; //size of file data</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private var filePath:String = &quot;SynchronousFile.txt&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function get relativePath():String</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return filePath;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function get isAsync():Boolean</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return false;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function open():IDataInput</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			var fileContents:ByteArray = new ByteArray();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			//Create some arbitrary data for the file</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			for( var i:int = 0; i &lt; fileSize; i++ )</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				fileContents.writeUTFBytes( &#x27;S&#x27; );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			//Important: the ByteArray is read from the current position</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			fileContents.position = 0;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return fileContents;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function close():void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			//Nothing needs to be closed in this case.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function reportError(e:ErrorEvent):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			trace(&quot;Something went wrong: &quot; + e.errorID + &quot; - &quot; + e.type + &quot;, &quot; + e.text );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In practice, synchronous file promises have limited utility. If the amount of
data is small, you could just as easily create a file in a temporary directory
and add a normal file list array to the drag-and-drop clipboard. On the other
hand, if the amount of data is large or generating the data is computationally
expensive, a long synchronous process is necessary. Long synchronous processes
can block UI updates for a noticeable amount of time and make your application
seem unresponsive. To avoid this problem, you can create an asynchronous data
provider driven by a timer.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-an-asynchronous-data-provider-in-a-file-promise">Using an asynchronous data provider in a file promise<a href="#using-an-asynchronous-data-provider-in-a-file-promise" class="hash-link" aria-label="Direct link to Using an asynchronous data provider in a file promise" title="Direct link to Using an asynchronous data provider in a file promise">​</a></h2>
<p>When you use an asynchronous data provider object, the IFilePromise <code>isAsync</code>
property must be <code>true</code> and the object returned by the <code>open()</code> method must
implement the IEventDispatcher interface. The runtime listens for several
alternative events so that different built-in objects can be used as a data
provider. For example, <code>progress</code> events are dispatched by FileStream and
URLStream objects, whereas <code>socketData</code> events are dispatched by Socket objects.
The runtime listens for the appropriate events from all of these objects.</p>
<p>The following events drive the process of reading the data from the data
provider object:</p>
<ul>
<li>
<p>Event.OPEN — Informs the runtime that the data source is ready.</p>
</li>
<li>
<p>ProgressEvent.PROGRESS — Informs the runtime that data is available. The
runtime will read the amount of available data from the data provider object.</p>
</li>
<li>
<p>ProgressEvent.SOCKET_DATA — Informs the runtime that data is available. The
<code>socketData</code> event is dispatched by socket-based objects. For other object
types, you should dispatch a <code>progress</code> event. (The runtime listens for both
events to detect when data can be read.)</p>
</li>
<li>
<p>Event.COMPLETE — Informs the runtime that the data has all been read.</p>
</li>
<li>
<p>Event.CLOSE — Informs the runtime that the data has all been read. (The
runtime listens for both <code>close</code> and <code>complete</code> for this purpose.)</p>
</li>
<li>
<p>IOErrorEvent.IOERROR — Informs the runtime that an error reading the data has
occurred. The runtime aborts file creation and calls the IFilePromise
<code>close()</code> method.</p>
</li>
<li>
<p>SecurityErrorEvent.SECURITY_ERROR — Informs the runtime that a security error
has occurred. The runtime aborts file creation and calls the IFilePromise
<code>close()</code> method.</p>
</li>
<li>
<p>HTTPStatusEvent.HTTP_STATUS — Used, along with <code>httpResponseStatus</code>, by the
runtime to make sure that the data available represents the desired content,
rather than an error message (such as a 404 page). Objects based on the HTTP
protocol should dispatch this event.</p>
</li>
<li>
<p>HTTPStatusEvent.HTTP_RESPONSE_STATUS — Used, along with <code>httpStatus</code>, by the
runtime to make sure that the data available represents the desired content.
Objects based on the HTTP protocol should dispatch this event.</p>
</li>
</ul>
<p>The data provider should dispatch these events in the following sequence:</p>
<ol>
<li>
<p><code>open</code> event</p>
</li>
<li>
<p><code>progress</code> or <code>socketData</code> events</p>
</li>
<li>
<p><code>complete</code> or <code>close</code> event</p>
</li>
</ol>
<p>Note: The built-in objects, FileStream, Socket, and URLStream, dispatch the
appropriate events automatically.</p>
<p>The following example creates a file promise using a custom, asynchronous data
provider. The data provider class extends ByteArray (for the IDataInput support)
and implements the IEventDispatcher interface. At each timer event, the object
generates a chunk of data and dispatches a progress event to inform the runtime
that the data is available. When enough data has been produced, the object
dispatches a complete event.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">package</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.events.Event;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.events.EventDispatcher;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.events.IEventDispatcher;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.events.ProgressEvent;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.events.TimerEvent;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.utils.ByteArray;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.utils.Timer;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	[Event(name=&quot;open&quot;, type=&quot;flash.events.Event.OPEN&quot;)]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	[Event(name=&quot;complete&quot;,  type=&quot;flash.events.Event.COMPLETE&quot;)]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	[Event(name=&quot;progress&quot;, type=&quot;flash.events.ProgressEvent&quot;)]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	[Event(name=&quot;ioError&quot;, type=&quot;flash.events.IOErrorEvent&quot;)]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	[Event(name=&quot;securityError&quot;, type=&quot;flash.events.SecurityErrorEvent&quot;)]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	public class AsyncDataProvider extends ByteArray implements IEventDispatcher</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private var dispatcher:EventDispatcher = new EventDispatcher();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public var fileSize:int = 0; //The number of characters in the file</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private const chunkSize:int = 1000; //Amount of data written per event</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private var dispatchDataTimer:Timer = new Timer( 100 );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private var opened:Boolean = false;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function AsyncDataProvider()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			super();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			dispatchDataTimer.addEventListener( TimerEvent.TIMER, generateData );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function begin():void{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			dispatchDataTimer.start();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function end():void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			dispatchDataTimer.stop();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private function generateData( event:Event ):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			if( !opened )</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				var open:Event = new Event( Event.OPEN );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				dispatchEvent( open );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				opened = true;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			else if( position + chunkSize &lt; fileSize )</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				for( var i:int = 0; i &lt;= chunkSize; i++ )</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">					writeUTFBytes( &#x27;A&#x27; );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				//Set position back to the start of the new data</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				this.position -= chunkSize;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				var progress:ProgressEvent =</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">					new ProgressEvent( ProgressEvent.PROGRESS, false, false, bytesAvailable, bytesAvailable + chunkSize);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				dispatchEvent( progress )</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				var complete:Event = new Event( Event.COMPLETE );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				dispatchEvent( complete );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		//IEventDispatcher implementation</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function addEventListener(type:String, listener:Function, useCapture:Boolean=false, priority:int=0, useWeakReference:Boolean=false):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			dispatcher.addEventListener( type, listener, useCapture, priority, useWeakReference );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function removeEventListener(type:String, listener:Function, useCapture:Boolean=false):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			dispatcher.removeEventListener( type, listener, useCapture );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function dispatchEvent(event:Event):Boolean</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return dispatcher.dispatchEvent( event );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function hasEventListener(type:String):Boolean</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return dispatcher.hasEventListener( type );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function willTrigger(type:String):Boolean</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return dispatcher.willTrigger( type );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note: Because the AsyncDataProvider class in the example extends ByteArray, it
cannot also extend EventDispatcher. To implement the IEventDispatcher interface,
the class uses an internal EventDispatcher object and forwards the
IEventDispatcher method calls to that internal object. You could also extend
EventDispatcher and implement IDataInput (or implement both interfaces).</p>
<p>The asynchronous IFilePromise implementation is almost identical to the
synchronous implementation. The main differences are that <code>isAsync</code> returns
<code>true</code> and that the <code>open()</code> method returns an asynchronous data object:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">package</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.desktop.IFilePromise;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.events.ErrorEvent;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.events.EventDispatcher;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	import flash.utils.IDataInput;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	public class AsynchronousFilePromise extends EventDispatcher implements IFilePromise</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private var fileGenerator:AsyncDataProvider;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private const fileSize:int = 5000; //size of file data</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		private var filePath:String = &quot;AsynchronousFile.txt&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function get relativePath():String</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return filePath;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function get isAsync():Boolean</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return true;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function open():IDataInput</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			fileGenerator = new AsyncDataProvider();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			fileGenerator.fileSize = fileSize;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			fileGenerator.begin();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			return fileGenerator;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function close():void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			fileGenerator.end();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		public function reportError(e:ErrorEvent):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			trace(&quot;Something went wrong: &quot; + e.errorID + &quot; - &quot; + e.type + &quot;, &quot; + e.text );</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/airsdk/airsdk.dev/edit/main/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises/implementing-the-ifilepromise-interface.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/development/user-interaction/drag-and-drop-in-air/dropping-file-promises/dropping-remote-files"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Dropping remote files</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/development/user-interaction/working-with-menus"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Working with menus</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#using-a-synchronous-data-provider-in-a-file-promise" class="table-of-contents__link toc-highlight">Using a synchronous data provider in a file promise</a></li><li><a href="#using-an-asynchronous-data-provider-in-a-file-promise" class="table-of-contents__link toc-highlight">Using an asynchronous data provider in a file promise</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item footer__link-item" href="/docs/basics/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a href="https://github.com/airsdk/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Starling Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/actionscript-3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news">News</a></li><li class="footer__item"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/images/logo.svg" alt="AIR" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/logo.svg" alt="AIR" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Except as otherwise noted, this work is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution 3.0</a> License, and code samples are licensed under the MIT License. <br>Adobe, the Adobe logo, Adobe AIR, ActionScript, AIR, Flash, Flash Builder, Flash Lite, Flex, MXML, and Pixel Bender are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries.<br>Much of this content is based on the original <a href="https://help.adobe.com/en_US/air/build/index.html">Adobe developer documentation</a></div></div></div></footer></div>
</body>
</html>