<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-docs docs-doc-id-development/files-and-data/working-with-the-file-system/using-the-filereference-class">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Using the FileReference class | AIR SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://airsdk.dev/docs/development/files-and-data/working-with-the-file-system/using-the-filereference-class"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="Using the FileReference class | AIR SDK"><meta data-rh="true" name="description" content="A FileReference object represents a data file on a client or server machine. The"><meta data-rh="true" property="og:description" content="A FileReference object represents a data file on a client or server machine. The"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://airsdk.dev/docs/development/files-and-data/working-with-the-file-system/using-the-filereference-class"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/files-and-data/working-with-the-file-system/using-the-filereference-class" hreflang="en"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/files-and-data/working-with-the-file-system/using-the-filereference-class" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="AIR SDK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="AIR SDK Atom Feed">
<link rel="alternate" type="application/json" href="/news/feed.json" title="AIR SDK JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PBLKC63BP2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-PBLKC63BP2",{})</script>




<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Noto+Sans+JP&amp;family=Open+Sans&amp;family=Roboto&amp;family=Lato&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.dee7c64e.css">
<link rel="preload" href="/assets/js/runtime~main.7937623a.js" as="script">
<link rel="preload" href="/assets/js/main.5037fee5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#8BE8CB;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">This site is under construction. We need your <a target="_blank" rel="noopener noreferrer" href="https://github.com/airsdk/airsdk.dev/blob/main/CONTRIBUTING.md">contributions</a> to fill out the documentation.</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.svg" alt="AIR SDK" class="themedImage_ToTc themedImage--light_HNdA"><img src="/images/logo.svg" alt="AIR SDK" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">AIR SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/reference">Reference</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/news">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/features">Features</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/basics/getting-started">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/development">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/core-actionscript-classes">Core ActionScript Classes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core ActionScript Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/display">Display</a><button aria-label="Toggle the collapsible sidebar category &#x27;Display&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/text">Text</a><button aria-label="Toggle the collapsible sidebar category &#x27;Text&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/rich-media-content">Rich Media Content</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rich Media Content&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/user-interaction">User Interaction</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Interaction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/development/files-and-data">Files and data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Files and data&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/development/files-and-data/working-with-the-file-system">Working with the file system</a><button aria-label="Toggle the collapsible sidebar category &#x27;Working with the file system&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api">Using the AIR file system API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Using the AIR file system API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/development/files-and-data/working-with-the-file-system/using-the-filereference-class">Using the FileReference class</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/files-and-data/storing-local-data">Storing local data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Storing local data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/files-and-data/working-with-local-sql-databases-in-air">Working with local SQL databases in AIR</a><button aria-label="Toggle the collapsible sidebar category &#x27;Working with local SQL databases in AIR&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/files-and-data/working-with-bytearrays">Working with byte arrays</a><button aria-label="Toggle the collapsible sidebar category &#x27;Working with byte arrays&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/networking-and-communication">Networking and communication</a><button aria-label="Toggle the collapsible sidebar category &#x27;Networking and communication&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/client-system-interaction">Client system interaction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Client system interaction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/internationalizing-applications">Internationalizing applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Internationalizing applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/html-content-in-air">HTML content in Adobe AIR</a><button aria-label="Toggle the collapsible sidebar category &#x27;HTML content in Adobe AIR&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/security">Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/appendixes">Appendixes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Appendixes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/asdoc-comments">ASDoc Comments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/coding-conventions">Coding Conventions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/building/actionscript-compilers">Building</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tools/building/ant">Tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development"><span itemprop="name">Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/files-and-data"><span itemprop="name">Files and data</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/files-and-data/working-with-the-file-system"><span itemprop="name">Working with the file system</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using the FileReference class</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Using the FileReference class</h1><p>A FileReference object represents a data file on a client or server machine. The
methods of the FileReference class let your application load and save data files
locally, and transfer file data to and from remote servers.</p><p>The FileReference class offers two different approaches to loading,
transferring, and saving data files. Since its introduction, the FileReference
class has includedthe <code>browse()</code> method, the <code>upload()</code> method, and the
<code>download()</code> method. Use the <code>browse()</code> method to let the user select a file.
Use the <code>upload()</code> method to transfer the file data to a remote server. Use the
<code>download()</code> method to retrieve that data from the server and save it in a local
file. Starting with Flash Player 10 and Adobe AIR 1.5, the FileReference class
includes the <code>load()</code> and <code>save()</code> methods. The <code>load()</code> and <code>save()</code> methods
allow you to access and save local files directly as well. The use of those
methods is similar to the equivalent-named methods in the URLLoader and Loader
classes.</p><p>Note: The File class, which extends the FileReference class, and the FileStream
class provide additional functions for working with files and the local file
system. The File and FileStream classes are only supported in AIR and not in the
Flash Player.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="filereference-class">FileReference class<a href="#filereference-class" class="hash-link" aria-label="Direct link to FileReference class" title="Direct link to FileReference class">​</a></h2><p>Each FileReference object represents a single data file on the local machine.
The properties of the FileReference class contain information about the file&#x27;s
size, type, name, filename extension, creator, creation date, and modification
date.</p><p>Note: The <code>creator</code> property is supported on Mac OS only. All other platforms
return <code>null</code>.</p><p>Note: The <code>extension</code> property is only supported in Adobe AIR.</p><p>You can create an instance of the FileReference class one of two ways:</p><ul><li><p>Use the <code>new</code> operator, as shown in the following code: import
flash.net.FileReference; var fileRef:FileReference = new FileReference();</p></li><li><p>Call the <code>FileReferenceList.browse()</code> method, which opens a dialog box and
prompts the user to select one or more files to upload. It then creates an
array of FileReference objects if the user successfully selects one or more
files.</p></li></ul><p>Once you have created a FileReference object, you can do the following:</p><ul><li><p>Call the <code>FileReference.browse()</code> method, which opens a dialog box and prompts
the user to select a single file from the local file system. This is usually
done before a subsequent call to the <code>FileReference.upload()</code> method or
<code>FileReference.load()</code> method. Call the <code>FileReference.upload()</code> method to
upload the file to a remote server. Call to the <code>FileReference.load()</code> method
to open a local file.</p></li><li><p>Call the <code>FileReference.download()</code> method. The <code>download()</code> method opens a
dialog box to let the user select a location for saving a new file. Then it
downloads data from the server and stores it in the new file.</p></li><li><p>Call the <code>FileReference.load()</code> method. This method begins loading data from a
file selected previously using the <code>browse()</code> method. The <code>load()</code> method
can&#x27;t be called until the <code>browse()</code> operation completes (the user selects a
file).</p></li><li><p>Call the <code>FileReference.save()</code> method. This method opens a dialog box and
prompts the user to choose a single file location on the local file system. It
then saves data to the specified location.</p></li></ul><p>Note: You can only perform one <code>browse()</code>, <code>download()</code>, or <code>save()</code> action at a
time, because only one dialog box can be open at any point.</p><p>The FileReference object properties such as <code>name</code>, <code>size</code>, or
<code>modificationDate</code> are not defined until one of the following happens:</p><ul><li><p>The <code>FileReference.browse()</code> method or <code>FileReferenceList.browse()</code> method has
been called, and the user has selected a file using the dialog box.</p></li><li><p>The <code>FileReference.download()</code> method has been called, and the user has
specified a new file location using the dialog box.</p></li></ul><p>Note: When performing a download, only the <code>FileReference.name</code> property is
populated before the download is complete. After the file has been downloaded,
all properties are available.</p><p>While calls to the <code>FileReference.browse()</code>, <code>FileReferenceList.browse()</code>,
<code>FileReference.download()</code>, <code>FileReference.load()</code>, or <code>FileReference.save()</code>
methods are executing, most players continue SWF file playback including
dispatching events and executing code.</p><p>For uploading and downloading operations, a SWF file can access files only
within its own domain, including any domains specified by a policy file. You
need to put a policy file on the server containing the file if that server is
not in the same domain as the SWF file initiating the upload or download.</p><p>See
<a href="https://airsdk.dev/reference/actionscript/3.0/flash/net/FileReference.html" target="_blank" rel="noopener noreferrer">FileReference</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="loading-data-from-files">Loading data from files<a href="#loading-data-from-files" class="hash-link" aria-label="Direct link to Loading data from files" title="Direct link to Loading data from files">​</a></h2><p>The <code>FileReference.load()</code> method lets you load data from a local file into
memory.</p><p>Note: Your code must first call the <code>FileReference.browse()</code> method to let the
user select a file to load. This restriction does not apply to content running
in Adobe AIR in the application security sandbox</p><p>The <code>FileReference.load()</code> method returns immediately after being called, but
the data being loaded isn&#x27;t available immediately. The FileReference object
dispatches events to invoke listener methods at each step of the loading
process.</p><p>The FileReference object dispatches the following events during the loading
process.</p><ul><li><p><code>open</code> event ( <code>Event.OPEN</code>): Dispatched when the load operation starts.</p></li><li><p><code>progress</code> event ( <code>ProgressEvent.PROGRESS</code>): Dispatched periodically as bytes
of data are read from the file.</p></li><li><p><code>complete</code> event ( <code>Event.COMPLETE</code>): Dispatched when the load operation
completes successfully.</p></li><li><p><code>ioError</code> event ( <code>IOErrorEvent.IO_ERROR</code>): Dispatched if the load process
fails because an input/output error occurs while opening or reading data from
the file.</p></li></ul><p>Once the FileReference object dispatches the complete event, the loaded data can
be accessed as a ByteArray in the FileReference object&#x27;s <code>data</code> property.</p><p>The following example shows how to prompt the user to select a file and then
load the data from that file into memory:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">package</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.display.Sprite;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.events.*;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.FileFilter;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.FileReference;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.URLRequest;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.utils.ByteArray;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    public class FileReferenceExample1 extends Sprite</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        private var fileRef:FileReference;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function FileReferenceExample1()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef = new FileReference();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.SELECT, onFileSelected);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.CANCEL, onCancel);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(IOErrorEvent.IO_ERROR, onIOError);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(SecurityErrorEvent.SECURITY_ERROR,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        onSecurityError);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            var textTypeFilter:FileFilter = new FileFilter(&quot;Text Files (*.txt, *.rtf)&quot;,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        &quot;*.txt;*.rtf&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.browse([textTypeFilter]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onFileSelected(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(ProgressEvent.PROGRESS, onProgress);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.COMPLETE, onComplete);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.load();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onProgress(evt:ProgressEvent):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;Loaded &quot; + evt.bytesLoaded + &quot; of &quot; + evt.bytesTotal + &quot; bytes.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onComplete(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;File was successfully loaded.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(fileRef.data);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onCancel(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;The browse request was canceled by the user.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onIOError(evt:IOErrorEvent):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;There was an IO Error.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onSecurityError(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;There was a security error.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The example code first creates the FileReference object named <code>fileRef</code> and then
calls its <code>browse()</code> method. The <code>browse()</code> method opens a dialog box that
prompts the user to select a file. When a file is selected, the code invokes the
<code>onFileSelected()</code> method. This method adds listeners for the <code>progress</code> and
<code>complete</code> events and then calls the FileReference object&#x27;s <code>load()</code> method. The
other handler methods in the example simply output messages to report on the
progress of the load operation. When the loading completes, the application
displays the contents of the loaded file using the <code>trace()</code> method.</p><p>In Adobe AIR, the FileStream class provides additional functionality for reading
data from a local file. See
<a href="/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files">Reading and writing files</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="saving-data-to-local-files">Saving data to local files<a href="#saving-data-to-local-files" class="hash-link" aria-label="Direct link to Saving data to local files" title="Direct link to Saving data to local files">​</a></h2><p>The <code>FileReference.save()</code> method lets you save data to a local file. It starts
by opening a dialog box to let the user enter a new filename and location to
which to save a file. After the user selects the filename and location, the data
is written to the new file. When the file is saved successfully, the properties
of the FileReference object are populated with the properties of the local file.</p><p>Note: Your code can only call the <code>FileReference.save()</code> method in response to a
user-initiated event such as a mouse click or a keypress event. Otherwise an
error is thrown. This restriction does not apply to content running in Adobe AIR
in the application security sandbox.</p><p>The <code>FileReference.save()</code> method returns immediately after being called. The
FileReference object then dispatches events to call listener methods at each
step of the file saving process.</p><p>The FileReference object dispatches the following events during the file saving
process:</p><ul><li><p><code>select</code> event ( <code>Event.SELECT</code>): Dispatched when the user specifies the
location and file name for the new file to be saved.</p></li><li><p><code>cancel</code> event ( <code>Event.CANCEL</code>): Dispatched when the user click the Cancel
button in the dialog box.</p></li><li><p><code>open</code> event ( <code>Event.OPEN</code>): Dispatched when the save operation starts.</p></li><li><p><code>progress</code> event ( <code>ProgressEvent.PROGRESS</code>): Dispatched periodically as bytes
of data are saved to the file.</p></li><li><p><code>complete</code> event ( <code>Event.COMPLETE</code>): Dispatched when the save operation
completes successfully.</p></li><li><p><code>ioError</code> event ( <code>IOErrorEvent.IO_ERROR</code>): Dispatched if the saving process
fails because an input/output error occurs while attempting to save data to
the file.</p></li></ul><p>The type of object passed in the <code>data</code> parameter of the <code>FileReference.save()</code>
method determines how the data is written to the file:</p><ul><li><p>If it is a String value, then it is saved as a text file using UTF-8 encoding.</p></li><li><p>If it is an XML object, then it is written to a file in XML format with all
formatting preserved.</p></li><li><p>If it is a ByteArray object, then its contents are written directly to the
file with no conversion.</p></li><li><p>If it is some other object, then the <code>FileReference.save()</code> method calls the
object&#x27;s <code>toString()</code> method and then saves the resulting String value to a
UTF-8 text file. If the object&#x27;s <code>toString()</code> method can&#x27;t be called, then an
error is thrown.</p></li></ul><p>If the value of the <code>data</code> parameter is <code>null</code>, then an error is thrown.</p><p>The following code extends the previous example for the <code>FileReference.load()</code>
method. After reading the data from the file, this example prompts the user for
a filename and then saves the data in a new file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">package</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.display.Sprite;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.events.*;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.FileFilter;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.FileReference;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.URLRequest;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.utils.ByteArray;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    public class FileReferenceExample2 extends Sprite</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        private var fileRef:FileReference;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function FileReferenceExample2()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef = new FileReference();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.SELECT, onFileSelected);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.CANCEL, onCancel);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(IOErrorEvent.IO_ERROR, onIOError);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(SecurityErrorEvent.SECURITY_ERROR,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        onSecurityError);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            var textTypeFilter:FileFilter = new FileFilter(&quot;Text Files (*.txt, *.rtf)&quot;,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        &quot;*.txt;*.rtf&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.browse([textTypeFilter]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onFileSelected(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(ProgressEvent.PROGRESS, onProgress);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.COMPLETE, onComplete);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.load();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onProgress(evt:ProgressEvent):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;Loaded &quot; + evt.bytesLoaded + &quot; of &quot; + evt.bytesTotal + &quot; bytes.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onCancel(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;The browse request was canceled by the user.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onComplete(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;File was successfully loaded.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.removeEventListener(Event.SELECT, onFileSelected);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.removeEventListener(ProgressEvent.PROGRESS, onProgress);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.removeEventListener(Event.COMPLETE, onComplete);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.removeEventListener(Event.CANCEL, onCancel);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            saveFile();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function saveFile():void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.SELECT, onSaveFileSelected);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.save(fileRef.data,&quot;NewFileName.txt&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onSaveFileSelected(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(ProgressEvent.PROGRESS, onSaveProgress);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.COMPLETE, onSaveComplete);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.addEventListener(Event.CANCEL, onSaveCancel);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onSaveProgress(evt:ProgressEvent):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;Saved &quot; + evt.bytesLoaded + &quot; of &quot; + evt.bytesTotal + &quot; bytes.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onSaveComplete(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;File saved.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.removeEventListener(Event.SELECT, onSaveFileSelected);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.removeEventListener(ProgressEvent.PROGRESS, onSaveProgress);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.removeEventListener(Event.COMPLETE, onSaveComplete);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileRef.removeEventListener(Event.CANCEL, onSaveCancel);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onSaveCancel(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;The save request was canceled by the user.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onIOError(evt:IOErrorEvent):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;There was an IO Error.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function onSecurityError(evt:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;There was a security error.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When all of the data loads from the file, the code calls the <code>onComplete()</code>
method. The <code>onComplete()</code> method removes the listeners for the loading events
and then calls the <code>saveFile()</code> method. The <code>saveFile()</code> method calls the
<code>FileReference.save()</code> method. The <code>FileReference.save()</code> method opens a new
dialog box to let the user enter a new filename and location to save the file.
The remaining event listener methods trace the progress of the file saving
process until it is complete.</p><p>In Adobe AIR, the FileStream class provides additional functionality for writing
data to a local file. See
<a href="/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files">Reading and writing files</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="uploading-files-to-a-server">Uploading files to a server<a href="#uploading-files-to-a-server" class="hash-link" aria-label="Direct link to Uploading files to a server" title="Direct link to Uploading files to a server">​</a></h2><p>To upload files to a server, first call the <code>browse()</code> method to allow a user to
select one or more files. Next, when the <code>FileReference.upload()</code> method is
called, the selected file is transferred to the server. If the user selects
multiple files using the <code>FileReferenceList.browse()</code> method, Flash Player
creates an array of selected files called <code>FileReferenceList.fileList</code>. You can
then use the <code>FileReference.upload()</code> method to upload each file individually.</p><p>Note: Using the <code>FileReference.browse()</code> method allows you to upload single
files only. To allow a user to upload multiple files, use the
<code>FileReferenceList.browse()</code> method.</p><p>By default, the system file picker dialog box allows users to pick any file type
from the local computer. Developers can specify one or more custom file type
filters by using the FileFilter class and passing an array of file filter
instances to the <code>browse()</code> method:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var imageTypes:FileFilter = new FileFilter(&quot;Images (*.jpg, *.jpeg, *.gif, *.png)&quot;, &quot;*.jpg; *.jpeg; *.gif; *.png&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var textTypes:FileFilter = new FileFilter(&quot;Text Files (*.txt, *.rtf)&quot;, &quot;*.txt; *.rtf&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var allTypes:Array = new Array(imageTypes, textTypes);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var fileRef:FileReference = new FileReference();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRef.browse(allTypes);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When the user has selected the files and clicked the Open button in the system
file picker, the <code>Event.SELECT</code> event is dispatched. If the
<code>FileReference.browse()</code> method is used to select a file to upload, the
following code sends the file to a web server:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var fileRef:FileReference = new FileReference();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRef.addEventListener(Event.SELECT, selectHandler);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRef.addEventListener(Event.COMPLETE, completeHandler);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">try</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var success:Boolean = fileRef.browse();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">catch (error:Error)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trace(&quot;Unable to browse for files.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">function selectHandler(event:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var request:URLRequest = new URLRequest(&quot;http://www.[yourdomain].com/fileUploadScript.cfm&quot;)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    try</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        fileRef.upload(request);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    catch (error:Error)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        trace(&quot;Unable to upload file.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">function completeHandler(event:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trace(&quot;uploaded&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/tip_help-3d4c326bf05518d713f5bf1c3f47bcde.png" width="17" height="21" class="img_ev3q"> You can send data to the server with the
<code>FileReference.upload()</code> method by using the <code>URLRequest.method</code> and
<code>URLRequest.data</code> properties to send variables using the <code>POST</code> or <code>GET</code>
<em>methods.</em></p><p>When you attempt to upload a file using the <code>FileReference.upload()</code> method, the
following events are dispatched:</p><ul><li><p><code>open</code> event ( <code>Event.OPEN</code>): Dispatched when the upload operation starts.</p></li><li><p><code>progress</code> event ( <code>ProgressEvent.PROGRESS</code>): Dispatched periodically as bytes
of data from the file are uploaded.</p></li><li><p><code>complete</code> event ( <code>Event.COMPLETE</code>): Dispatched when the upload operation
completes successfully.</p></li><li><p><code>httpStatus</code> event ( <code>HTTPStatusEvent.HTTP_STATUS</code>): Dispatched when the
upload process fails because of an HTTP error.</p></li><li><p><code>httpResponseStatus</code> event ( <code>HTTPStatusEvent.HTTP_RESPONSE_STATUS</code>):
Dispatched if a call to the <code>upload()</code> or <code>uploadUnencoded()</code> method attempts
to access data over HTTP and Adobe AIR is able to detect and return the status
code for the request.</p></li><li><p><code>securityError</code> event ( <code>SecurityErrorEvent.SECURITY_ERROR</code>): Dispatched when
an upload operation fails because of a security violation.</p></li><li><p><code>uploadCompleteData</code> event ( <code>DataEvent.UPLOAD_COMPLETE_DATA</code>): Dispatched
after data is received from the server after a successful upload.</p></li><li><p><code>ioError</code> event ( <code>IOErrorEvent.IO_ERROR</code>): Dispatched if the upload process
fails for any of the following reasons:</p><ul><li><p>An input/output error occurred while Flash Player is reading, writing, or
transmitting the file.</p></li><li><p>The SWF tried to upload a file to a server that requires authentication
(such as a user name and password). During upload, Flash Player does not
provide a means for users to enter passwords.</p></li><li><p>The <code>url</code> parameter contains an invalid protocol. The
<code>FileReference.upload()</code> method must use either HTTP or HTTPS.</p></li></ul></li></ul><p><img loading="lazy" src="/assets/images/tip_help-3d4c326bf05518d713f5bf1c3f47bcde.png" width="17" height="21" class="img_ev3q"> Flash Player does not offer complete support for
servers that require authentication. Only SWF files that are running in a
browser using the browser plug-in or Microsoft ActiveX® control can provide a
dialog box to prompt the user to enter a user name and password for
authentication, and then only for downloads. For uploads using the plug-in or
ActiveX control or upload/download using either the stand-alone or external
player, the file transfer fails.</p><p>To create a server script in ColdFusion to accept a file upload from Flash
Player, you can use code similar to the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;cffile action=&quot;upload&quot; filefield=&quot;Filedata&quot; destination=&quot;#ExpandPath(&#x27;./&#x27;)#&quot; nameconflict=&quot;OVERWRITE&quot; /&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This ColdFusion code uploads the file sent by Flash Player and saves it to the
same directory as the ColdFusion template, overwriting any file with the same
name. The previous code shows the bare minimum amount of code necessary to
accept a file upload; this script should not be used in a production
environment. Ideally, add data validation to ensure that users upload only
accepted file types, such as an image instead of a potentially dangerous
server-side script.</p><p>The following code demonstrates file uploads using PHP, and it includes data
validation. The script limits the number of uploaded files in the upload
directory to 10, ensures that the file is less than 200 KB, and permits only
JPEG, GIF, or PNG files to be uploaded and saved to the file system.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    $MAXIMUM_FILESIZE = 1024 * 200; // 200KB</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    $MAXIMUM_FILE_COUNT = 10; // keep maximum 10 files on server</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    echo exif_imagetype($_FILES[&#x27;Filedata&#x27;]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if ($_FILES[&#x27;Filedata&#x27;][&#x27;size&#x27;] &lt;= $MAXIMUM_FILESIZE)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        move_uploaded_file($_FILES[&#x27;Filedata&#x27;][&#x27;tmp_name&#x27;], &quot;./temporary/&quot;.$_FILES[&#x27;Filedata&#x27;][&#x27;name&#x27;]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        $type = exif_imagetype(&quot;./temporary/&quot;.$_FILES[&#x27;Filedata&#x27;][&#x27;name&#x27;]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        if ($type == 1 || $type == 2 || $type == 3)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            rename(&quot;./temporary/&quot;.$_FILES[&#x27;Filedata&#x27;][&#x27;name&#x27;], &quot;./images/&quot;.$_FILES[&#x27;Filedata&#x27;][&#x27;name&#x27;]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            unlink(&quot;./temporary/&quot;.$_FILES[&#x27;Filedata&#x27;][&#x27;name&#x27;]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    $directory = opendir(&#x27;./images/&#x27;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    $files = array();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    while ($file = readdir($directory))</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        array_push($files, array(&#x27;./images/&#x27;.$file, filectime(&#x27;./images/&#x27;.$file)));</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    usort($files, sorter);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (count($files) &gt; $MAXIMUM_FILE_COUNT)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        $files_to_delete = array_splice($files, 0, count($files) - $MAXIMUM_FILE_COUNT);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        for ($i = 0; $i &lt; count($files_to_delete); $i++)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            unlink($files_to_delete[$i][0]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    print_r($files);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    closedir($directory);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    function sorter($a, $b)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        if ($a[1] == $b[1])</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            return 0;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            return ($a[1] &lt; $b[1]) ? -1 : 1;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can pass additional variables to the upload script using either the <code>POST</code>
or <code>GET</code> request method. To send additional <code>POST</code> variables to your upload
script, you can use the following code:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var fileRef:FileReference = new FileReference();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRef.addEventListener(Event.SELECT, selectHandler);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRef.addEventListener(Event.COMPLETE, completeHandler);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRef.browse();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">function selectHandler(event:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var params:URLVariables = new URLVariables();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    params.date = new Date();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    params.ssid = &quot;94103-1394-2345&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var request:URLRequest = new URLRequest(&quot;http://www.yourdomain.com/FileReferenceUpload/fileupload.cfm&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    request.method = URLRequestMethod.POST;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    request.data = params;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    fileRef.upload(request, &quot;Custom1&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">function completeHandler(event:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trace(&quot;uploaded&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The previous example creates a URLVariables object that you pass to the remote
server- side script. In previous versions of ActionScript, you could pass
variables to the server upload script by passing values in the query string.
ActionScript 3.0 allows you to pass variables to the remote script using a
URLRequest object, which allows you to pass data using either the <code>POST</code> or
<code>GET</code> method; this, in turn, makes passing larger sets of data easier and
cleaner. In order to specify whether the variables are passed using the <code>GET</code> or
<code>POST</code> request method, you can set the <code>URLRequest.method</code> property to either
<code>URLRequestMethod.GET</code> or <code>URLRequestMethod.POST</code>, respectively.</p><p>ActionScript 3.0 also lets you override the default <code>Filedata</code> upload file field
name by providing a second parameter to the <code>upload()</code> method, as demonstrated
in the previous example (which replaced the default value <code>Filedata</code> with
<code>Custom1</code>).</p><p>By default, Flash Player does not attempt to send a test upload, although you
can override this default by passing a value of <code>true</code> as the third parameter to
the <code>upload()</code> method. The purpose of the test upload is to check whether the
actual file upload will be successful and that server authentication, if
required, will succeed.</p><p>Note: A test upload occurs only on Windows-based Flash Players at this time.</p><p>The server script that handles the file upload should expect an HTTP <code>POST</code>
request with the following elements:</p><ul><li><p><code>Content-Type</code> with a value of <code>multipart/form-data.</code></p></li><li><p><code>Content-Disposition</code> with a <code>name</code> attribute set to &quot; <code>Filedata</code> &quot; and a
<code>filename</code> attribute set to the name of the original file. You can specify a
custom <code>name</code> attribute by passing a value for the <code>uploadDataFieldName</code>
parameter in the <code>FileReference.upload()</code> method.</p></li><li><p>The binary contents of the file.</p></li></ul><p>Here is a sample HTTP <code>POST</code> request:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">POST /handler.asp HTTP/1.1</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Accept: text/*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Type: multipart/form-data;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">boundary=----------Ij5ae0ae0KM7GI3KM7ei4cH2ei4gL6</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">User-Agent: Shockwave Flash</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Host: www.mydomain.com</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Length: 421</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Connection: Keep-Alive</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Cache-Control: no-cache</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5ae0ae0KM7GI3KM7ei4cH2ei4gL6</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;Filename&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sushi.jpg</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5ae0ae0KM7GI3KM7ei4cH2ei4gL6</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;Filedata&quot;; filename=&quot;sushi.jpg&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Type: application/octet-stream</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Test File</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5ae0ae0KM7GI3KM7ei4cH2ei4gL6</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;Upload&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Submit Query</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5ae0ae0KM7GI3KM7ei4cH2ei4gL6</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">(actual file data,,,)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following sample HTTP <code>POST</code> request sends three <code>POST</code> variables:
<code>api_sig</code>, <code>api_key</code>, and <code>auth_token</code>, and uses a custom upload data field name
value of <code>&quot;photo&quot;</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">POST /handler.asp HTTP/1.1</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Accept: text/*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Type: multipart/form-data;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">boundary=----------Ij5ae0ae0KM7GI3KM7ei4cH2ei4gL6</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">User-Agent: Shockwave Flash</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Host: www.mydomain.com</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Length: 421</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Connection: Keep-Alive</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Cache-Control: no-cache</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5GI3GI3ei4GI3ei4KM7GI3KM7KM7</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;Filename&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">sushi.jpg</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5GI3GI3ei4GI3ei4KM7GI3KM7KM7</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;api_sig&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5GI3GI3ei4GI3ei4KM7GI3KM7KM7</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;api_key&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5GI3GI3ei4GI3ei4KM7GI3KM7KM7</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;auth_token&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">XXXXXXXXXXXXXXXXXXXXXXX</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5GI3GI3ei4GI3ei4KM7GI3KM7KM7</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;photo&quot;; filename=&quot;sushi.jpg&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Type: application/octet-stream</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">(actual file data,,,)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5GI3GI3ei4GI3ei4KM7GI3KM7KM7</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Disposition: form-data; name=&quot;Upload&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Submit Query</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">------------Ij5GI3GI3ei4GI3ei4KM7GI3KM7KM7--</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="downloading-files-from-a-server">Downloading files from a server<a href="#downloading-files-from-a-server" class="hash-link" aria-label="Direct link to Downloading files from a server" title="Direct link to Downloading files from a server">​</a></h2><p>You can let users download files from a server using the
<code>FileReference.download()</code> method, which takes two parameters: <code>request</code> and
<code>defaultFileName</code>. The first parameter is the URLRequest object that contains
the URL of the file to download. The second parameter is optional—it lets you
specify a default filename that appears in the download file dialog box. If you
omit the second parameter, <code>defaultFileName</code>, the filename from the specified
URL is used.</p><p>The following code downloads a file named index.xml from the same directory as
the SWF file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var request:URLRequest = new URLRequest(&quot;index.xml&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var fileRef:FileReference = new FileReference();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRef.download(request);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To set the default name to currentnews.xml instead of index.xml, specify the
<code>defaultFileName</code> parameter, as the following snippet shows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var request:URLRequest = new URLRequest(&quot;index.xml&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var fileToDownload:FileReference = new FileReference();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileToDownload.download(request, &quot;currentnews.xml&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Renaming a file can be useful if the server filename was not intuitive or was
server-generated. It&#x27;s also good to explicitly specify the <code>defaultFileName</code>
parameter when you download a file using a server-side script, instead of
downloading the file directly. For example, you need to specify the
<code>defaultFileName</code> parameter if you have a server-side script that downloads
specific files based on URL variables passed to it. Otherwise, the default name
of the downloaded file is the name of your server-side script.</p><p>Data can be sent to the server using the <code>download()</code> method by appending
parameters to the URL for the server script to parse. The following ActionScript
3.0 snippet downloads a document based on which parameters are passed to a
ColdFusion script:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">package</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.display.Sprite;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.FileReference;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.URLRequest;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.URLRequestMethod;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    import flash.net.URLVariables;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    public class DownloadFileExample extends Sprite</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        private var fileToDownload:FileReference;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public function DownloadFileExample()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            var request:URLRequest = new URLRequest();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            request.url = &quot;http://www.[yourdomain].com/downloadfile.cfm&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            request.method = URLRequestMethod.GET;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            request.data = new URLVariables(&quot;id=2&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            fileToDownload = new FileReference();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            try</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                fileToDownload.download(request, &quot;file2.txt&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            catch (error:Error)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                trace(&quot;Unable to download file.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following code demonstrates the ColdFusion script, download.cfm, that
downloads one of two files from the server, depending on the value of a URL
variable:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;cfparam name=&quot;URL.id&quot; default=&quot;1&quot; /&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    &lt;cfswitch expression=&quot;#URL.id#&quot;&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    &lt;cfcase value=&quot;2&quot;&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &lt;cfcontent type=&quot;text/plain&quot; file=&quot;#ExpandPath(&#x27;two.txt&#x27;)#&quot; deletefile=&quot;No&quot; /&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    &lt;/cfcase&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    &lt;cfdefaultcase&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &lt;cfcontent type=&quot;text/plain&quot; file=&quot;#ExpandPath(&#x27;one.txt&#x27;)#&quot; deletefile=&quot;No&quot; /&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    &lt;/cfdefaultcase&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;/cfswitch&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="filereferencelist-class">FileReferenceList class<a href="#filereferencelist-class" class="hash-link" aria-label="Direct link to FileReferenceList class" title="Direct link to FileReferenceList class">​</a></h2><p>The FileReferenceList class lets the user select one or more files to upload to
a server-side script. The file upload is handled by the <code>FileReference.upload()</code>
method, which must be called on each file that the user selects.</p><p>The following code creates two FileFilter objects ( <code>imageFilter</code> and
<code>textFilter</code>) and passes them in an array to the <code>FileReferenceList.browse()</code>
method. This causes the operating system file dialog box to display two possible
filters for file types.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var imageFilter:FileFilter = new FileFilter(&quot;Image Files (*.jpg, *.jpeg, *.gif, *.png)&quot;, &quot;*.jpg; *.jpeg; *.gif; *.png&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var textFilter:FileFilter = new FileFilter(&quot;Text Files (*.txt, *.rtf)&quot;, &quot;*.txt; *.rtf&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var fileRefList:FileReferenceList = new FileReferenceList();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">try</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var success:Boolean = fileRefList.browse(new Array(imageFilter, textFilter));</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">catch (error:Error)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trace(&quot;Unable to browse for files.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Allowing the user to select and upload one or more files by using the
FileReferenceList class is the same as using <code>FileReference.browse()</code> to select
files, although the FileReferenceList allows you to select more than one file.
Uploading multiple files requires you to upload each of the selected files by
using <code>FileReference.upload()</code>, as the following code shows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var fileRefList:FileReferenceList = new FileReferenceList();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRefList.addEventListener(Event.SELECT, selectHandler);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fileRefList.browse();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">function selectHandler(event:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var request:URLRequest = new URLRequest(&quot;http://www.[yourdomain].com/fileUploadScript.cfm&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var file:FileReference;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var files:FileReferenceList = FileReferenceList(event.target);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var selectedFileArray:Array = files.fileList;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    for (var i:uint = 0; i &lt; selectedFileArray.length; i++)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        file = FileReference(selectedFileArray[i]);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        file.addEventListener(Event.COMPLETE, completeHandler);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            file.upload(request);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        catch (error:Error)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            trace(&quot;Unable to upload files.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">function completeHandler(event:Event):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    trace(&quot;uploaded&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Because the <code>Event.COMPLETE</code> event is added to each individual FileReference
object in the array, Flash Player calls the <code>completeHandler()</code> method when each
individual file finishes uploading.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adobe-recommends">Adobe recommends<a href="#adobe-recommends" class="hash-link" aria-label="Direct link to Adobe recommends" title="Direct link to Adobe recommends">​</a></h2><blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-load-and-save-local-files"><a href="https://web.archive.org/web/20100906103656/http://tv.adobe.com/watch/adobe-evangelists-kevin-hoyt/load-and-save-local-files" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAADAFBMVEXokYPCV1Z+fn7//vzgf3mzh4DTVVrg4d3bxsRkZV+xQEVLPDb/sqlTKSJcW1f/ubb1m4wfBAHnlpWGMzJuUEz/nZ9iY1tuLS5YV1PkTFieq614V1aXcWj/x7+Yo6VfYFvBw8O6R0t0dHRHHhmwWFH/paP/pZf8npP/tK7/nJf+d354eHjth33/oaSXMjdXHBn/qqL/nJL/lZGIj5BxcG//rqHTXWKsdWr/rKf/npeSnJ7/lYv/pZ7/t6xubGtsa2lvJSf/lpyKlZaeR0OtTVFoaGhZWFXpaG2DhYbs6+f/u7j7oZn/xMOhr7Ln0cz/pqL/k4reYmWcqKv/q6f/opr0yL6AQD6VoKP/pp3/rab/mI/eZmnu7+36hYTUeW//e4r/sKb/talyb233cnU4FBBpaGNAamNbSUJlZWX/jIpsiI1xODf/qZ/wmZCtvMB/Ki/voZT/rqNnbmz/pZxEYV3/t7X/mJTFTVH/pKbq6OT/o5z/op3/i4Lmf32Ejo7FZVz1dnuOmZrZ0cxjYF//r6b/hYqsuLzxZm2UQECGiYxcXlj0aXL/vrvsdXT/qalaWlT6+PSVfnahs7fGdW1lVVKBb3HYYmHuV3Hga2m2wMLvl4tWYl3nbnL/q5zOdGr/i4v/o56bpqf/oZiUlpf/oZn/qp/v7ens2tfw6+n/oKBcc3TYL1LMamPgiHvUamr/raRuAAJ/gYH6g39DXln2m5h0c3L/qKBZU1Bzenk3CQb/q53/oaBkAAB3d3f49fJ1dXZpZ2D/urX7+flvbmz/rZR8fHz/jpFzfHrx8vGdABf/k5j8/Pbm5uH/ubT8qJb/urPDycvy+fpuAATw+/no4+C0JjlnHCL2fnf/rqqYEBmifn2TjYmpYWFramV6dXTiZmbpYWn1iYfyj4j3lYz/pqn/g4fu9fJob257e3v5lYaHfHV+eXfm7ezj8O/qfnHZ2tW7ZV7/p5n/ppvDKkCgn53/qajDlZT/o49qamr/rZv/npiXJy+OkpGyLDz/l5LrcGzfKw/uAAAFiUlEQVQ4y13UDVgTdRzA8RuD0V5hDjaEdI4bbDDa8TImLzImLwNBMhgCoiiMG5MGAioSpCiCOCcyUyMFUsDhOxLowKE4kjCzNyta+UIqZKK9iJZGQdD/Nkyfvs8999zz3Of5/e/uuTvIBaR7Ho2tdekG7dvXTdPKXF7U3Q29BGnMbpWKDGORyWSVjCaz9H8oo7F1VBSGjUY6nY6idJRMe0m6QBYm09F07EoyjKJGI4rtgKVTVTqt7j8JWRelyZhMKqYQBIHBBiQKU1VaGY1mmTsDaVoabYhMhxEpI5LL5Y4d3BxZYAbjqS5a2oyUQZYjra5PZYQRBnezT7DeLzc3Y9d+HIMKU5kKl+cSQC2ogY2g0gJcmz4oeWrjd9PTMYliEgNBnR6ysdMYnYFEHQLmrQzN8/LaENo5fft2HYGjkaJon4jGZlsopGVjMXVSBvdgW3qZl76ry79zuq5ueUlkAYyqJNbzWitkMtlMDXelbVv6unVdVVXnc7MTCbfFpAIEplaurrTEhiyOySZyT7VB9aFPKJn6qanc7BgCGCk0w9R90autdAY2EMdWtuXHp79dTNH75x7yjhETYsBIKuK0NhpQkBUSK5nzbesL45tq4+L43789tW1LImF/IkfDQpxE4+EWCjGxiMSG+T75hQvai+M+jKuJe7owAzwfcZSaalQJ1kqAjI5+AYfzecvkfDAxOH/TafHyxpKoFAQ1kn++398vGR8fhzAFWv+OoyPPV07h196tI01wcJsul7AQqdoslbiLRCJgIasjnpnPK/T0lfOreOm/cSZIhDIHMXgxqLCRaWNwNxhEIghTfX1nXn2jheeZ114U6Lmfqy64XhLksNNIR82I0SnWZOo1uRsskKjMOb1qTmtwnjzTj4DbtJfzrU9Q0GUp3QhLzWqbAYFAYDJZoFKZs3zVHLk+La89b+NG79knt5c5Oy/hGFEzQ4ooYkdBAgz2KYfW733Nyz8traWFwt/gvX1n9iG5s3MMYoQLGAhxhw0WBJhyaGj9jb831OhbvLwoxfzz97Jnz3Y+73xPSKcjDKlbeUdHhxVGD4Wv/kG/JMgrGYOLaw7d+eT3H5++5R0FA8hyK4+NBRRSKpXR4ZK1DbMc8lrSkpP5/MXF2/650OjRdJcjhREzowCDIACHwiX9/Tk3HOZ0lXl4UOS1zoQLpIW1V0lcIVWNCIVuETuwLLBfobivmCVfl+db1d7l2/hB1NPjV7cQxBoENuMm3EICAsrLy6HocDBQYTCdyLFb4uHb7vs4k/M1V8yLP7sJx6Ibhaek76ZOTk4GBEDhEolEZDCYzp2wCwKw6HFmo5AkHB4+a8udMIPPVx2QergiIiICGgIXKDKYekdP2L1fVNXa/qQoHZdRttD7vZMnSQwpC3FzDQkJqaioABMVCpF7r8Dw5rPk1qzAorQnwbbD6fya3DviSJZUar6JQRAk6ReBgYJzN28d/CswLCuw1S94JNQ/dGqLmBDFUCNuCamWAFQY3E0mwcfzoq5/RAn7fFmPX7ofL9g/o3NXIk7Dok7umYuVmgopsAsEr8ejY898/gz7MizQc2QkvqepqanzDkGIuO1pbk5Kam6eOxeDvYJRQa89/qutWZSisKweR6g+fsHx4F2EOo35jzXAJWEUstyxjaBj6yX8N78eXZz1uOcLx/r6ER/bsahbKayHBxJcsZKSMCgYtTEcPjK4CI//6ZejS7N4Dx445kN7uZEpKVR67LwEK4WwlQc6JJOf4ksHV+DxVzDq6APVt41pUlLAD7r52po11XsSEiDwDEc7eg3zFl3EXyodPILHr1hk//rSwjENcCzwm2a7JoW4HqhOgMDKA4KBa1fsH5Xuxl8stT+G3/2Zvf3gK3YpLDVMh51UZJGMbFNd/S+q1EgLbZYL9AAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=" width="40" height="40" class="img_ev3q"> Load and Save Local Files</a><a href="#-load-and-save-local-files" class="hash-link" aria-label="Direct link to -load-and-save-local-files" title="Direct link to -load-and-save-local-files">​</a></h3><p>In this video,
<a href="https://web.archive.org/web/20160918100357/http://www.adobe.com/devnet/author_bios/kevin_hoyt.html" target="_blank" rel="noopener noreferrer">Kevin Hoyt</a>
reveals the ease of loading and saving local content using Flash.</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/airsdk/airsdk.dev/edit/main/docs/development/files-and-data/working-with-the-file-system/using-the-filereference-class.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/example-reading-and-writing-data-with-random-access"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Example: Reading and writing data with random access</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/development/files-and-data/storing-local-data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Storing local data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#filereference-class" class="table-of-contents__link toc-highlight">FileReference class</a></li><li><a href="#loading-data-from-files" class="table-of-contents__link toc-highlight">Loading data from files</a></li><li><a href="#saving-data-to-local-files" class="table-of-contents__link toc-highlight">Saving data to local files</a></li><li><a href="#uploading-files-to-a-server" class="table-of-contents__link toc-highlight">Uploading files to a server</a></li><li><a href="#downloading-files-from-a-server" class="table-of-contents__link toc-highlight">Downloading files from a server</a></li><li><a href="#filereferencelist-class" class="table-of-contents__link toc-highlight">FileReferenceList class</a></li><li><a href="#adobe-recommends" class="table-of-contents__link toc-highlight">Adobe recommends</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/basics/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a href="https://github.com/airsdk/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Starling Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/actionscript-3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news">News</a></li><li class="footer__item"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/images/logo.svg" alt="AIR" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/images/logo.svg" alt="AIR" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Except as otherwise noted, this work is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution 3.0</a> License, and code samples are licensed under the MIT License. <br>Adobe, the Adobe logo, Adobe AIR, ActionScript, AIR, Flash, Flash Builder, Flash Lite, Flex, MXML, and Pixel Bender are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries.<br>Much of this content is based on the original <a href="https://help.adobe.com/en_US/air/build/index.html">Adobe developer documentation</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.7937623a.js"></script>
<script src="/assets/js/main.5037fee5.js"></script>
</body>
</html>