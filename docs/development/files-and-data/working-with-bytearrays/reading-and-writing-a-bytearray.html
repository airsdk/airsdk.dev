<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs docs-version-current docs-doc-page docs-doc-id-development/files-and-data/working-with-bytearrays/reading-and-writing-a-bytearray" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Reading and writing a ByteArray | AIR SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://airsdk.dev/docs/development/files-and-data/working-with-bytearrays/reading-and-writing-a-bytearray"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="Reading and writing a ByteArray | AIR SDK"><meta data-rh="true" name="description" content="The ByteArray class is part of the flash.utils package. To create a ByteArray"><meta data-rh="true" property="og:description" content="The ByteArray class is part of the flash.utils package. To create a ByteArray"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://airsdk.dev/docs/development/files-and-data/working-with-bytearrays/reading-and-writing-a-bytearray"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/files-and-data/working-with-bytearrays/reading-and-writing-a-bytearray" hreflang="en"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/files-and-data/working-with-bytearrays/reading-and-writing-a-bytearray" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="AIR SDK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="AIR SDK Atom Feed">
<link rel="alternate" type="application/json" href="/news/feed.json" title="AIR SDK JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PBLKC63BP2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-PBLKC63BP2",{})</script>





<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Noto+Sans+JP&amp;family=Open+Sans&amp;family=Roboto&amp;family=Lato&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.18ad4986.css">
<script src="/assets/js/runtime~main.2bb4f64b.js" defer="defer"></script>
<script src="/assets/js/main.73af8925.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/images/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.svg" alt="AIR SDK" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/logo.svg" alt="AIR SDK" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AIR SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/reference">Reference</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/news">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/features">Features</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/basics/getting-started">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/development">Development</a><button aria-label="Collapse sidebar category &#x27;Development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/core-actionscript-classes">Core ActionScript Classes</a><button aria-label="Expand sidebar category &#x27;Core ActionScript Classes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/display">Display</a><button aria-label="Expand sidebar category &#x27;Display&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/text">Text</a><button aria-label="Expand sidebar category &#x27;Text&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/rich-media-content">Rich Media Content</a><button aria-label="Expand sidebar category &#x27;Rich Media Content&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/user-interaction">User Interaction</a><button aria-label="Expand sidebar category &#x27;User Interaction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/development/files-and-data">Files and data</a><button aria-label="Collapse sidebar category &#x27;Files and data&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/files-and-data/working-with-the-file-system">Working with the file system</a><button aria-label="Expand sidebar category &#x27;Working with the file system&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/files-and-data/storing-local-data">Storing local data</a><button aria-label="Expand sidebar category &#x27;Storing local data&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/files-and-data/working-with-local-sql-databases-in-air">Working with local SQL databases in AIR</a><button aria-label="Expand sidebar category &#x27;Working with local SQL databases in AIR&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/development/files-and-data/working-with-bytearrays">Working with byte arrays</a><button aria-label="Collapse sidebar category &#x27;Working with byte arrays&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/development/files-and-data/working-with-bytearrays/reading-and-writing-a-bytearray">Reading and writing a ByteArray</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/files-and-data/working-with-bytearrays/bytearray-example-reading-a-zip-file">ByteArray example: Reading a .zip file</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/networking-and-communication">Networking and communication</a><button aria-label="Expand sidebar category &#x27;Networking and communication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/client-system-interaction">Client system interaction</a><button aria-label="Expand sidebar category &#x27;Client system interaction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/internationalizing-applications">Internationalizing applications</a><button aria-label="Expand sidebar category &#x27;Internationalizing applications&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/html-content-in-air">HTML content in Adobe AIR</a><button aria-label="Expand sidebar category &#x27;HTML content in Adobe AIR&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/security">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/development/appendixes">Appendixes</a><button aria-label="Expand sidebar category &#x27;Appendixes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/asdoc-comments">ASDoc Comments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/coding-conventions">Coding Conventions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/building/actionscript-compilers">Building</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tools/building/ant">Tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development"><span itemprop="name">Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/files-and-data"><span itemprop="name">Files and data</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/files-and-data/working-with-bytearrays"><span itemprop="name">Working with byte arrays</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Reading and writing a ByteArray</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Reading and writing a ByteArray</h1></header>
<p>The ByteArray class is part of the flash.utils package. To create a ByteArray
object in ActionScript 3.0, import the ByteArray class and invoke the
constructor, as shown in the following example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.utils.ByteArray;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var stream:ByteArray = new ByteArray();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bytearray-methods">ByteArray methods<a href="#bytearray-methods" class="hash-link" aria-label="Direct link to ByteArray methods" title="Direct link to ByteArray methods">​</a></h2>
<p>Any meaningful data stream is organized into a format that you can analyze to
find the information that you want. A record in a simple employee file, for
example, would probably include an ID number, a name, an address, a phone
number, and so on. An MP3 audio file contains an ID3 tag that identifies the
title, author, album, publishing date, and genre of the file that&#x27;s being
downloaded. The format allows you to know the order in which to expect the data
on the data stream. It allows you to read the byte stream intelligently.</p>
<p>The ByteArray class includes several methods that make it easier to read from
and write to a data stream. Some of these methods include <code>readBytes()</code> and
<code>writeBytes()</code>, <code>readInt()</code> and <code>writeInt()</code>, <code>readFloat()</code> and <code>writeFloat()</code>,
<code>readObject()</code> and <code>writeObject()</code>, and <code>readUTFBytes()</code> and <code>writeUTFBytes()</code>.
These methods enable you to read data from the data stream into variables of
specific data types and write from specific data types directly to the binary
data stream.</p>
<p>For example, the following code reads a simple array of strings and
floating-point numbers and writes each element to a ByteArray. The organization
of the array allows the code to call the appropriate ByteArray methods (
<code>writeUTFBytes()</code> and <code>writeFloat()</code>) to write the data. The repeating data
pattern makes it possible to read the array with a loop.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">// The following example reads a simple Array (groceries), made up of strings</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// and floating-point numbers, and writes it to a ByteArray.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.utils.ByteArray;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// define the grocery list Array</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var groceries:Array = [&quot;milk&quot;, 4.50, &quot;soup&quot;, 1.79, &quot;eggs&quot;, 3.19, &quot;bread&quot; , 2.35]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// define the ByteArray</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var bytes:ByteArray = new ByteArray();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// for each item in the array</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">for (var i:int = 0; i &lt; groceries.length; i++) {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	bytes.writeUTFBytes(groceries[i++]); //write the string and position to the next item</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	bytes.writeFloat(groceries[i]);    // write the float</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	trace(&quot;bytes.position is: &quot; + bytes.position);    //display the position in ByteArray</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;bytes length is: &quot; +  bytes.length);    // display the length</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-position-property">The position property<a href="#the-position-property" class="hash-link" aria-label="Direct link to The position property" title="Direct link to The position property">​</a></h2>
<p>The position property stores the current position of the pointer that indexes
the ByteArray during reading or writing. The initial value of the position
property is 0 (zero) as shown in the following code:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var bytes:ByteArray = new ByteArray();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;bytes.position is initially: &quot; + bytes.position);     // 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When you read from or write to a ByteArray, the method that you use updates the
position property to point to the location immediately following the last byte
that was read or written. For example, the following code writes a string to a
ByteArray and afterward the position property points to the byte immediately
following the string in the ByteArray:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var bytes:ByteArray = new ByteArray();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;bytes.position is initially: &quot; + bytes.position);     // 0</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">bytes.writeUTFBytes(&quot;Hello World!&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;bytes.position is now: &quot; + bytes.position);    // 12</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Likewise, a read operation increments the position property by the number of
bytes read.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var bytes:ByteArray = new ByteArray();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;bytes.position is initially: &quot; + bytes.position);     // 0</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">bytes.writeUTFBytes(&quot;Hello World!&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;bytes.position is now: &quot; + bytes.position);    // 12</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">bytes.position = 0;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;The first 6 bytes are: &quot; + (bytes.readUTFBytes(6)));    //Hello</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;And the next 6 bytes are: &quot; + (bytes.readUTFBytes(6)));    // World!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice that you can set the position property to a specific location in the
ByteArray to read or write at that offset.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-bytesavailable-and-length-properties">The bytesAvailable and length properties<a href="#the-bytesavailable-and-length-properties" class="hash-link" aria-label="Direct link to The bytesAvailable and length properties" title="Direct link to The bytesAvailable and length properties">​</a></h2>
<p>The <code>length</code> and <code>bytesAvailable</code> properties tell you how long a ByteArray is
and how many bytes remain in it from the current position to the end. The
following example illustrates how you can use these properties. The example
writes a String of text to the ByteArray and then reads the ByteArray one byte
at a time until it encounters either the character &quot;a&quot; or the end (
<code>bytesAvailable &lt;= 0</code>).</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var bytes:ByteArray = new ByteArray();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">var text:String = &quot;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Vivamus etc.&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">bytes.writeUTFBytes(text); // write the text to the ByteArray</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">trace(&quot;The length of the ByteArray is: &quot; + bytes.length);    // 70</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">bytes.position = 0; // reset position</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">while (bytes.bytesAvailable &gt; 0 &amp;&amp; (bytes.readUTFBytes(1) != &#x27;a&#x27;)) {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	//read to letter a or end of bytes</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">if (bytes.position &lt; bytes.bytesAvailable) {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	trace(&quot;Found the letter a; position is: &quot; + bytes.position);     // 23</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	trace(&quot;and the number of bytes available is: &quot; + bytes.bytesAvailable);    // 47</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-endian-property">The endian property<a href="#the-endian-property" class="hash-link" aria-label="Direct link to The endian property" title="Direct link to The endian property">​</a></h2>
<p>Computers can differ in how they store multibyte numbers, that is, numbers that
require more than 1 byte of memory to store them. An integer, for example, can
take 4 bytes, or 32 bits, of memory. Some computers store the most significant
byte of the number first, in the lowest memory address, and others store the
least significant byte first. This attribute of a computer, or of byte ordering,
is referred to as being either <em>big endian</em> (most significant byte first) or
<em>little endian</em> (least significant byte first). For example, the number
0x31323334 would be stored as follows for big endian and little endian byte
ordering, where a0 represents the lowest memory address of the 4 bytes and a3
represents the highest:</p>
<table><thead><tr><th>Big Endian</th><th>Big Endian</th><th>Big Endian</th><th>Big Endian</th></tr></thead><tbody><tr><td>a0</td><td>a1</td><td>a2</td><td>a3</td></tr><tr><td>31</td><td>32</td><td>33</td><td>34</td></tr></tbody></table>
<table><thead><tr><th>Little Endian</th><th>Little Endian</th><th>Little Endian</th><th>Little Endian</th></tr></thead><tbody><tr><td>a0</td><td>a1</td><td>a2</td><td>a3</td></tr><tr><td>34</td><td>33</td><td>32</td><td>31</td></tr></tbody></table>
<p>The <code>endian</code> property of the ByteArray class allows you to denote this byte
order for multibyte numbers that you are processing. The acceptable values for
this property are either <code>&quot;bigEndian&quot;</code> or <code>&quot;littleEndian&quot;</code> and the Endian class
defines the constants <code>BIG_ENDIAN</code> and <code>LITTLE_ENDIAN</code> for setting the <code>endian</code>
property with these strings.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-compress-and-uncompress-methods">The compress() and uncompress() methods<a href="#the-compress-and-uncompress-methods" class="hash-link" aria-label="Direct link to The compress() and uncompress() methods" title="Direct link to The compress() and uncompress() methods">​</a></h2>
<p>The <code>compress()</code> method allows you to compress a ByteArray in accordance with a
compression algorithm that you specify as a parameter. The <code>uncompress()</code> method
allows you to uncompress a compressed ByteArray in accordance with a compression
algorithm. After calling <code>compress()</code> and <code>uncompress()</code>, the length of the byte
array is set to the new length and the position property is set to the end.</p>
<p>The CompressionAlgorithm class defines constants that you can use to specify the
compression algorithm. The ByteArray class supports the deflate (AIR-only),
zlib, and lzma algorithms. The zlib compressed data format is described at
<a href="http://www.ietf.org/rfc/rfc1950.txt" target="_blank" rel="noopener noreferrer">http://www.ietf.org/rfc/rfc1950.txt</a>. The lzma algorithm was added for Flash
Player 11.4 and AIR 3.4. It is described at <a href="http://www.7-zip.org/7z.html" target="_blank" rel="noopener noreferrer">http://www.7-zip.org/7z.html</a>.</p>
<p>The deflate compression algorithm is used in several compression formats, such
as zlib, gzip, and some zip implementations. The deflate compression algorithm
is described at <a href="http://www.ietf.org/rfc/rfc1951.txt" target="_blank" rel="noopener noreferrer">http://www.ietf.org/rfc/rfc1951.txt</a>.</p>
<p>The following example compresses a ByteArray called <code>bytes</code> using the lzma
algorithm:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">bytes.compress(CompressionAlgorithm.LZMA);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following example uncompresses a compressed ByteArray using the deflate
algorithm:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">bytes.uncompress(CompressionAlgorithm.LZMA);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reading-and-writing-objects">Reading and writing objects<a href="#reading-and-writing-objects" class="hash-link" aria-label="Direct link to Reading and writing objects" title="Direct link to Reading and writing objects">​</a></h2>
<p>The <code>readObject()</code> and <code>writeObject()</code> methods read an object from and write an
object to a ByteArray, encoded in serialized Action Message Format (AMF). AMF is
a proprietary message protocol created by Adobe and used by various ActionScript
3.0 classes, including Netstream, NetConnection, NetStream, LocalConnection, and
Shared Objects.</p>
<p>A one-byte type marker describes the type of the encoded data that follows. AMF
uses the following 13 data types:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">value-type = undefined-marker | null-marker | false-marker | true-marker | integer-type |</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">double-type | string-type | xml-doc-type | date-type | array-type | object-type |</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">xml-type | byte-array-type</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The encoded data follows the type marker unless the marker represents a single
possible value, such as null or true or false, in which case nothing else is
encoded.</p>
<p>There are two versions of AMF: AMF0 and AMF3. AMF 0 supports sending complex
objects by reference and allows endpoints to restore object relationships. AMF 3
improves AMF 0 by sending object traits and strings by reference, in addition to
object references, and by supporting new data types that were introduced in
ActionScript 3.0. The <code>ByteArray.objectEcoding</code> property specifies the version
of AMF that is used to encode the object data. The flash.net.ObjectEncoding
class defines constants for specifying the AMF version: <code>ObjectEncoding.AMF0</code>
and <code>ObjectEncoding.AMF3</code>.</p>
<p>The following example calls <code>writeObject()</code> to write an XML object to a
ByteArray, which it then compresses using the Deflate algorithm and writes to
the <code>order</code> file on the desktop. The example uses a label to display the message
&quot;Wrote order file to desktop!&quot; in the AIR window when it is finished.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.filesystem.*;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.display.Sprite;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.display.TextField;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.utils.ByteArray;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public class WriteObjectExample extends Sprite</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	public function WriteObjectExample()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var bytes:ByteArray = new ByteArray();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var myLabel:TextField = new TextField();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		myLabel.x = 150;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		myLabel.y = 150;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		myLabel.width = 200;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		addChild(myLabel);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var myXML:XML =</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			&lt;order&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				&lt;item id=&#x27;1&#x27;&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">					&lt;menuName&gt;burger&lt;/menuName&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">					&lt;price&gt;3.95&lt;/price&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				&lt;/item&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				&lt;item id=&#x27;2&#x27;&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">					&lt;menuName&gt;fries&lt;/menuName&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">					&lt;price&gt;1.45&lt;/price&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">				&lt;/item&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			&lt;/order&gt;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		// Write XML object to ByteArray</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		bytes.writeObject(myXML);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		bytes.position = 0;        //reset position to beginning</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		bytes.compress(CompressionAlgorithm.DEFLATE);    // compress ByteArray</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		writeBytesToFile(&quot;order.xml&quot;, bytes);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		myLabel.text = &quot;Wrote order file to desktop!&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	private function writeBytesToFile(fileName:String, data:ByteArray):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var outFile:File = File.desktopDirectory; // dest folder is desktop</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		outFile = outFile.resolvePath(fileName);  // name of file to write</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var outStream:FileStream = new FileStream();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		// open output file stream in WRITE mode</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		outStream.open(outFile, FileMode.WRITE);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		// write out the file</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		outStream.writeBytes(data, 0, data.length);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		// close it</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		outStream.close();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>readObject()</code> method reads an object in serialized AMF from a ByteArray and
stores it in an object of the specified type. The following example reads the
<code>order</code> file from the desktop into a ByteArray ( <code>inBytes</code>), uncompresses it,
and calls <code>readObject()</code> to store it in the XML object <code>orderXML</code>. The example
uses a <code>for each()</code> loop construct to add each node to a text area for display.
The example also displays the value of the <code>objectEncoding</code> property along with
a header for the contents of the <code>order</code> file.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.filesystem.*;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.display.Sprite;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.display.TextField;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import flash.utils.ByteArray;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">public class ReadObjectExample extends Sprite</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	public function ReadObjectExample()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var inBytes:ByteArray = new ByteArray();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		// define text area for displaying XML content</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var myTxt:TextField = new TextField();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		myTxt.width = 550;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		myTxt.height = 400;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		addChild(myTxt);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		//display objectEncoding and file heading</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		myTxt.text = &quot;Object encoding is: &quot; + inBytes.objectEncoding + &quot;\n\n&quot; + &quot;order file: \n\n&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		readFileIntoByteArray(&quot;order&quot;, inBytes);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		inBytes.position = 0; // reset position to beginning</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		inBytes.uncompress(CompressionAlgorithm.DEFLATE);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		inBytes.position = 0;    //reset position to beginning</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		// read XML Object</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var orderXML:XML = inBytes.readObject();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		// for each node in orderXML</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		for each (var child:XML in orderXML)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			// append child node to text area</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">			myTxt.text += child + &quot;\n&quot;;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	// read specified file into byte array</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	private function readFileIntoByteArray(fileName:String, data:ByteArray):void</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var inFile:File = File.desktopDirectory; // source folder is desktop</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		inFile = inFile.resolvePath(fileName);  // name of file to read</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		var inStream:FileStream = new FileStream();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		inStream.open(inFile, FileMode.READ);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		inStream.readBytes(data);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">		inStream.close();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/airsdk/airsdk.dev/edit/main/docs/development/files-and-data/working-with-bytearrays/reading-and-writing-a-bytearray.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/development/files-and-data/working-with-bytearrays"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Working with byte arrays</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/development/files-and-data/working-with-bytearrays/bytearray-example-reading-a-zip-file"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ByteArray example: Reading a .zip file</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bytearray-methods" class="table-of-contents__link toc-highlight">ByteArray methods</a></li><li><a href="#the-position-property" class="table-of-contents__link toc-highlight">The position property</a></li><li><a href="#the-bytesavailable-and-length-properties" class="table-of-contents__link toc-highlight">The bytesAvailable and length properties</a></li><li><a href="#the-endian-property" class="table-of-contents__link toc-highlight">The endian property</a></li><li><a href="#the-compress-and-uncompress-methods" class="table-of-contents__link toc-highlight">The compress() and uncompress() methods</a></li><li><a href="#reading-and-writing-objects" class="table-of-contents__link toc-highlight">Reading and writing objects</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item footer__link-item" href="/docs/basics/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a href="https://github.com/airsdk/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Starling Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/actionscript-3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news">News</a></li><li class="footer__item"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/images/logo.svg" alt="AIR" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/logo.svg" alt="AIR" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Except as otherwise noted, this work is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution 3.0</a> License, and code samples are licensed under the MIT License. <br>Adobe, the Adobe logo, Adobe AIR, ActionScript, AIR, Flash, Flash Builder, Flash Lite, Flex, MXML, and Pixel Bender are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries.<br>Much of this content is based on the original <a href="https://help.adobe.com/en_US/air/build/index.html">Adobe developer documentation</a></div></div></div></footer></div>
</body>
</html>