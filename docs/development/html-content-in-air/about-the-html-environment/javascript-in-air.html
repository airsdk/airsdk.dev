<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-docs docs-doc-id-development/html-content-in-air/about-the-html-environment/javascript-in-air">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">JavaScript in AIR | AIR SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://airsdk.dev/docs/development/html-content-in-air/about-the-html-environment/javascript-in-air"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="JavaScript in AIR | AIR SDK"><meta data-rh="true" name="description" content="AIR makes several changes to the typical behavior of common JavaScript objects."><meta data-rh="true" property="og:description" content="AIR makes several changes to the typical behavior of common JavaScript objects."><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://airsdk.dev/docs/development/html-content-in-air/about-the-html-environment/javascript-in-air"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/html-content-in-air/about-the-html-environment/javascript-in-air" hreflang="en"><link data-rh="true" rel="alternate" href="https://airsdk.dev/docs/development/html-content-in-air/about-the-html-environment/javascript-in-air" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="AIR SDK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="AIR SDK Atom Feed">
<link rel="alternate" type="application/json" href="/news/feed.json" title="AIR SDK JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PBLKC63BP2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-PBLKC63BP2",{})</script>




<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono&amp;family=Noto+Sans+JP&amp;family=Open+Sans&amp;family=Roboto&amp;family=Lato&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.dee7c64e.css">
<link rel="preload" href="/assets/js/runtime~main.7937623a.js" as="script">
<link rel="preload" href="/assets/js/main.5037fee5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#8BE8CB;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">This site is under construction. We need your <a target="_blank" rel="noopener noreferrer" href="https://github.com/airsdk/airsdk.dev/blob/main/CONTRIBUTING.md">contributions</a> to fill out the documentation.</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.svg" alt="AIR SDK" class="themedImage_ToTc themedImage--light_HNdA"><img src="/images/logo.svg" alt="AIR SDK" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">AIR SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/reference">Reference</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/news">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/features">Features</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/basics/getting-started">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/development">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/core-actionscript-classes">Core ActionScript Classes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core ActionScript Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/display">Display</a><button aria-label="Toggle the collapsible sidebar category &#x27;Display&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/text">Text</a><button aria-label="Toggle the collapsible sidebar category &#x27;Text&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/rich-media-content">Rich Media Content</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rich Media Content&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/user-interaction">User Interaction</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Interaction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/files-and-data">Files and data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Files and data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/networking-and-communication">Networking and communication</a><button aria-label="Toggle the collapsible sidebar category &#x27;Networking and communication&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/client-system-interaction">Client system interaction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Client system interaction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/internationalizing-applications">Internationalizing applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Internationalizing applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/development/html-content-in-air">HTML content in Adobe AIR</a><button aria-label="Toggle the collapsible sidebar category &#x27;HTML content in Adobe AIR&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/development/html-content-in-air/about-the-html-environment">About the HTML environment</a><button aria-label="Toggle the collapsible sidebar category &#x27;About the HTML environment&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/html-content-in-air/about-the-html-environment/air-and-webkit">AIR and WebKit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/html-content-in-air/about-the-html-environment/css-in-air">CSS in AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/html-content-in-air/about-the-html-environment/html-in-air">HTML in AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/development/html-content-in-air/about-the-html-environment/javascript-in-air">JavaScript in AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/html-content-in-air/about-the-html-environment/overview-of-the-html-environment">Overview of the HTML environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/html-content-in-air/about-the-html-environment/webkit-features-not-supported-in-air">WebKit features not supported in AIR</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/html-content-in-air/programming-html-and-javascript-in-air">Programming HTML and JavaScript in AIR</a><button aria-label="Toggle the collapsible sidebar category &#x27;Programming HTML and JavaScript in AIR&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/html-content-in-air/scripting-the-air-html-container">Scripting the AIR HTML Container</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scripting the AIR HTML Container&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/html-content-in-air/handling-html-related-events-in-air">Handling HTML-related events in AIR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/html-content-in-air/displaying-html-content-in-mobile-apps">Displaying HTML content in mobile apps</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/security">Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/development/appendixes">Appendixes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Appendixes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/asdoc-comments">ASDoc Comments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/coding-conventions">Coding Conventions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/building/actionscript-compilers">Building</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tools/building/ant">Tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development"><span itemprop="name">Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/html-content-in-air"><span itemprop="name">HTML content in Adobe AIR</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/development/html-content-in-air/about-the-html-environment"><span itemprop="name">About the HTML environment</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JavaScript in AIR</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>JavaScript in AIR</h1><p>AIR makes several changes to the typical behavior of common JavaScript objects.
Many of these changes are made to make it easier to write secure applications in
AIR. At the same time, these differences in behavior mean that some common
JavaScript coding patterns, and existing web applications using those patterns,
might not always execute as expected in AIR. For information on correcting these
types of issues, see
<a href="/docs/development/html-content-in-air/programming-html-and-javascript-in-air/avoiding-security-related-javascript-errors">Avoiding security-related JavaScript errors</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="html-sandboxes">HTML Sandboxes<a href="#html-sandboxes" class="hash-link" aria-label="Direct link to HTML Sandboxes" title="Direct link to HTML Sandboxes">​</a></h2><p>AIR places content into isolated sandboxes according to the origin of the
content. The sandbox rules are consistent with the same-origin policy
implemented by most web browsers, as well as the rules for sandboxes implemented
by the Adobe Flash Player. In addition, AIR provides a new <em>application</em> sandbox
type to contain and protect application content. See
<a href="/docs/development/security/security-sandboxes">Security sandboxes</a> for more information
on the types of sandboxes you may encounter when developing AIR applications.</p><p>Access to the run-time environment and AIR APIs are only available to HTML and
JavaScript running within the application sandbox. At the same time, however,
dynamic evaluation and execution of JavaScript, in its various forms, is largely
restricted within the application sandbox for security reasons. These
restrictions are in place whether or not your application actually loads
information directly from a server. (Even file content, pasted strings, and
direct user input may be untrustworthy.)</p><p>The origin of the content in a page determines the sandbox to which it is
consigned. Only content loaded from the application directory (the installation
directory referenced by the <code>app:</code> URL scheme) is placed in the application
sandbox. Content loaded from the file system is placed in the <em>local-with-file
system</em> or the <em>local-trusted</em> sandbox, which allows access and interaction with
content on the local file system, but not remote content. Content loaded from
the network is placed in a remote sandbox corresponding to its domain of origin.</p><p>To allow an application page to interact freely with content in a remote
sandbox, the page can be mapped to the same domain as the remote content. For
example, if you write an application that displays map data from an Internet
service, the page of your application that loads and displays content from the
service could be mapped to the service domain. The attributes for mapping pages
into a remote sandbox and domain are new attributes added to the frame and
iframe HTML elements.</p><p>To allow content in a non-application sandbox to safely use AIR features, you
can set up a parent sandbox bridge. To allow application content to safely call
methods and access properties of content in other sandboxes, you can set up a
child sandbox bridge. Safety here means that remote content cannot accidentally
get references to objects, properties, or methods that are not explicitly
exposed. Only simple data types, functions, and anonymous objects can be passed
across the bridge. However, you must still avoid explicitly exposing potentially
dangerous functions. If, for example, you exposed an interface that allowed
remote content to read and write files anywhere on a user&#x27;s system, then you
might be giving remote content the means to do considerable harm to your users.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="javascript-eval-function">JavaScript eval() function<a href="#javascript-eval-function" class="hash-link" aria-label="Direct link to JavaScript eval() function" title="Direct link to JavaScript eval() function">​</a></h2><p>Use of the <code>eval()</code> function is restricted within the application sandbox once a
page has finished loading. Some uses are permitted so that JSON-formatted data
can be safely parsed, but any evaluation that results in executable statements
results in an error.
<a href="/docs/development/security/air-security/html-security-in-adobe-air#code-restrictions-for-content-in-different-sandboxes">Code restrictions for content in different sandboxes</a>
describes the allowed uses of the <code>eval()</code> function.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="function-constructors">Function constructors<a href="#function-constructors" class="hash-link" aria-label="Direct link to Function constructors" title="Direct link to Function constructors">​</a></h2><p>In the application sandbox, function constructors can be used before a page has
finished loading. After all page <code>load</code> event handlers have finished, new
functions cannot be created.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="loading-external-scripts">Loading external scripts<a href="#loading-external-scripts" class="hash-link" aria-label="Direct link to Loading external scripts" title="Direct link to Loading external scripts">​</a></h2><p>HTML pages in the application sandbox cannot use the <code>script</code> tag to load
JavaScript files from outside of the application directory. For a page in your
application to load a script from outside the application directory, the page
must be mapped to a non-application sandbox.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-xmlhttprequest-object">The XMLHttpRequest object<a href="#the-xmlhttprequest-object" class="hash-link" aria-label="Direct link to The XMLHttpRequest object" title="Direct link to The XMLHttpRequest object">​</a></h2><p>AIR provides an XMLHttpRequest (XHR) object that applications can use to make
data requests. The following example illustrates a simple data request:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">xmlhttp = new XMLHttpRequest();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">xmlhttp.open(&quot;GET&quot;, &quot;http:/www.example.com/file.data&quot;, true);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">xmlhttp.onreadystatechange = function() {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (xmlhttp.readyState == 4) {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        //do something with data...</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">xmlhttp.send(null);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In contrast to a browser, AIR allows content running in the application sandbox
to request data from any domain. The result of an XHR that contains a JSON
string can be evaluated into data objects unless the result also contains
executable code. If executable statements are present in the XHR result, an
error is thrown and the evaluation attempt fails.</p><p>To prevent accidental injection of code from remote sources, synchronous XHRs
return an empty result if made before a page has finished loading. Asynchronous
XHRs will always return after a page has loaded.</p><p>By default, AIR blocks cross-domain XMLHttpRequests in non-application
sandboxes. A parent window in the application sandbox can choose to allow
cross-domain requests in a child frame containing content in a non-application
sandbox by setting <code>allowCrossDomainXHR</code>, an attribute added by AIR, to <code>true</code>
in the containing frame or iframe element:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;iframe id=&quot;mashup&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    src=&quot;http://www.example.com/map.html&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    allowCrossDomainXHR=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;/iframe&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note: When convenient, the AIR URLStream class can also be used to download
data.</p><p>If you dispatch an XMLHttpRequest to a remote server from a frame or iframe
containing application content that has been mapped to a remote sandbox, make
sure that the mapping URL does not mask the server address used in the XHR. For
example, consider the following iframe definition, which maps application
content into a remote sandbox for the example.com domain:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;iframe id=&quot;mashup&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    src=&quot;http://www.example.com/map.html&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    documentRoot=&quot;app:/sandbox/&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    sandboxRoot=&quot;http://www.example.com/&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    allowCrossDomainXHR=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;/iframe&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Because the <code>sandboxRoot</code> attribute remaps the root URL of the <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a>
address, all requests are loaded from the application directory and not the
remote server. Requests are remapped whether they derive from page navigation or
from an XMLHttpRequest.</p><p>To avoid accidentally blocking data requests to your remote server, map the
<code>sandboxRoot</code> to a subdirectory of the remote URL rather than the root. The
directory does not have to exist. For example, to allow requests to the
<a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a> to load from the remote server rather than the application
directory, change the previous iframe to the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;iframe id=&quot;mashup&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    src=&quot;http://www.example.com/map.html&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    documentRoot=&quot;app:/sandbox/&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    sandboxRoot=&quot;http://www.example.com/air/&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    allowCrossDomainXHR=&quot;true&quot;&gt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt;/iframe&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this case, only content in the <code>air</code> subdirectory is loaded locally.</p><p>For more information on sandbox mapping see
<a href="/docs/development/html-content-in-air/about-the-html-environment/html-in-air#html-frame-and-iframe-elements">HTML frame and iframe elements</a>
and
<a href="/docs/development/security/air-security/html-security-in-adobe-air">HTML security in Adobe AIR</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cookies">Cookies<a href="#cookies" class="hash-link" aria-label="Direct link to Cookies" title="Direct link to Cookies">​</a></h2><p>In AIR applications, only content in remote sandboxes (content loaded from http:
and https: sources) can use cookies (the <code>document.cookie</code> property). In the
application sandbox, other means for storing persistent data are available,
including the EncryptedLocalStore, SharedObject, and FileStream classes.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-clipboard-object">The Clipboard object<a href="#the-clipboard-object" class="hash-link" aria-label="Direct link to The Clipboard object" title="Direct link to The Clipboard object">​</a></h2><p>The WebKit Clipboard API is driven with the following events: <code>copy</code>, <code>cut</code>, and
<code>paste</code>. The event object passed in these events provides access to the
clipboard through the <code>clipboardData</code> property. Use the following methods of the
<code>clipboardData</code> object to read or write clipboard data:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>clearData(mimeType)</td><td>Clears the clipboard data. Set the <code>mimeType</code> parameter to the MIME type of the data to clear.</td></tr><tr><td>getData(mimeType)</td><td>Get the clipboard data. This method can only be called in a handler for the <code>paste</code> event. Set the <code>mimeType</code> parameter to the MIME type of the data to return.</td></tr><tr><td>setData(mimeType, data)</td><td>Copy data to the clipboard. Set the <code>mimeType</code> parameter to the MIME type of the data.</td></tr></tbody></table><p>JavaScript code outside the application sandbox can only access the clipboard
through theses events. However, content in the application sandbox can access
the system clipboard directly using the AIR Clipboard class. For example, you
could use the following statement to get text format data on the clipboard:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var clipping = air.Clipboard.generalClipboard.getData(&quot;text/plain&quot;,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            air.ClipboardTransferMode.ORIGINAL_ONLY);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The valid data MIME types are:</p><table><thead><tr><th>MIME type</th><th>Value</th></tr></thead><tbody><tr><td>Text</td><td>&quot;text/plain&quot;</td></tr><tr><td>HTML</td><td>&quot;text/html&quot;</td></tr><tr><td>URL</td><td>&quot;text/uri-list&quot;</td></tr><tr><td>Bitmap</td><td>&quot;image/x-vnd.adobe.air.bitmap&quot;</td></tr><tr><td>File list</td><td>&quot;application/x-vnd.adobe.air.file-list&quot;</td></tr></tbody></table><p>Important: Only content in the application sandbox can access file data present
on the clipboard. If non-application content attempts to access a file object
from the clipboard, a security error is thrown.</p><p>For more information on using the clipboard, see
<a href="/docs/development/user-interaction/copy-and-paste">Copy and paste</a> and
<a href="http://developer.apple.com/documentation/AppleApplications/Conceptual/SafariJSProgTopics/Tasks/CopyAndPaste.html#//apple_ref/doc/uid/30001234" target="_blank" rel="noopener noreferrer">Using the Pasteboard from JavaScript (Apple Developer Center)</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="drag-and-drop">Drag and Drop<a href="#drag-and-drop" class="hash-link" aria-label="Direct link to Drag and Drop" title="Direct link to Drag and Drop">​</a></h2><p>Drag-and-drop gestures into and out of HTML produce the following DOM events:
<code>dragstart</code>, <code>drag</code>, <code>dragend</code>, <code>dragenter</code>, <code>dragover</code>, <code>dragleave</code>, and
<code>drop</code>. The event object passed in these events provides access to the dragged
data through the <code>dataTransfer</code> property. The <code>dataTransfer</code> property references
an object that provides the same methods as the <code>clipboardData</code> object
associated with a clipboard event. For example, you could use the following
function to get text format data from a <code>drop</code> event:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">function onDrop(dragEvent){</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    return dragEvent.dataTransfer.getData(&quot;text/plain&quot;,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            air.ClipboardTransferMode.ORIGINAL_ONLY);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>dataTransfer</code> object has the following important members:</p><table><thead><tr><th>Member</th><th>Description</th></tr></thead><tbody><tr><td>clearData(mimeType)</td><td>Clears the data. Set the <code>mimeType</code> parameter to the MIME type of the data representation to clear.</td></tr><tr><td>getData(mimeType)</td><td>Get the dragged data. This method can only be called in a handler for the <code>drop</code> event. Set the <code>mimeType</code> parameter to the MIME type of the data to get.</td></tr><tr><td>setData(mimeType, data)</td><td>Set the data to be dragged. Set the <code>mimeType</code> parameter to the MIME type of the data.</td></tr><tr><td>types</td><td>An array of strings containing the MIME types of all data representations currently available in the <code>dataTransfer</code> object.</td></tr><tr><td>effectsAllowed</td><td>Specifies whether the data being dragged can be copied, moved, linked, or some combination thereof. Set the <code>effectsAllowed</code> property in the handler for the <code>dragstart</code> event.</td></tr><tr><td>dropEffect</td><td>Specifies which of the allowed drop effects are supported by a drag target. Set the <code>dropEffect</code> property in the handler for the <code>dragEnter</code> event. During the drag, the cursor changes to indicate which effect would occur if the user released the mouse. If no <code>dropEffect</code> is specified, an <code>effectsAllowed</code> property effect is chosen. The copy effect has priority over the move effect, which itself has priority over the link effect. The user can modify the default priority using the keyboard.</td></tr></tbody></table><p>For more information on adding support for drag-and-drop to an AIR application
see <a href="/docs/development/user-interaction/drag-and-drop-in-air">Drag and drop in AIR</a>
and
<a href="http://developer.apple.com/documentation/AppleApplications/Conceptual/SafariJSProgTopics/Tasks/DragAndDrop.html#//apple_ref/doc/uid/30001233" target="_blank" rel="noopener noreferrer">Using the Drag-and-Drop from JavaScript (Apple Developer Center)</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="innerhtml-and-outerhtml-properties">innerHTML and outerHTML properties<a href="#innerhtml-and-outerhtml-properties" class="hash-link" aria-label="Direct link to innerHTML and outerHTML properties" title="Direct link to innerHTML and outerHTML properties">​</a></h2><p>AIR places security restrictions on the use of the <code>innerHTML</code> and <code>outerHTML</code>
properties for content running in the application sandbox. Before the page load
event, as well as during the execution of any load event handlers, use of the
<code>innerHTML</code> and <code>outerHTML</code> properties is unrestricted. However, once the page
has loaded, you can only use <code>innerHTML</code> or <code>outerHTML</code> properties to add static
content to the document. Any statement in the string assigned to <code>innerHTML</code> or
<code>outerHTML</code> that evaluates to executable code is ignored. For example, if you
include an event callback attribute in an element definition, the event listener
is not added. Likewise, embedded <code>&lt;script&gt;</code> tags are not evaluated. For more
information, see the
<a href="/docs/development/security/air-security/html-security-in-adobe-air">HTML security in Adobe AIR</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentwrite-and-documentwriteln-methods">Document.write() and Document.writeln() methods<a href="#documentwrite-and-documentwriteln-methods" class="hash-link" aria-label="Direct link to Document.write() and Document.writeln() methods" title="Direct link to Document.write() and Document.writeln() methods">​</a></h2><p>Use of the <code>write()</code> and <code>writeln()</code> methods is not restricted in the
application sandbox before the <code>load</code> event of the page. However, once the page
has loaded, calling either of these methods does not clear the page or create a
new one. In a non-application sandbox, as in most web browsers, calling
<code>document.write()</code> or <code>writeln()</code> after a page has finished loading clears the
current page and opens a new, blank one.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentdesignmode-property">Document.designMode property<a href="#documentdesignmode-property" class="hash-link" aria-label="Direct link to Document.designMode property" title="Direct link to Document.designMode property">​</a></h2><p>Set the <code>document.designMode</code> property to a value of <code>on</code> to make all elements
in the document editable. Built-in editor support includes text editing, copy,
paste, and drag-and-drop. Setting <code>designMode</code> to <code>on</code> is equivalent to setting
the <code>contentEditable</code> property of the <code>body</code> element to <code>true</code>. You can use the
<code>contentEditable</code> property on most HTML elements to define which sections of a
document are editable. See
<a href="/docs/development/html-content-in-air/about-the-html-environment/html-in-air#html-contenteditable-attribute">HTML contentEditable attribute</a>
for additional information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="unload-events-for-body-and-frameset-objects">unload events (for body and frameset objects)<a href="#unload-events-for-body-and-frameset-objects" class="hash-link" aria-label="Direct link to unload events (for body and frameset objects)" title="Direct link to unload events (for body and frameset objects)">​</a></h2><p>In the top-level <code>frameset</code> or <code>body</code> tag of a window (including the main window
of the application), do not use the <code>unload</code> event to respond to the window (or
application) being closed. Instead, use <code>exiting</code> event of the NativeApplication
object (to detect when an application is closing). Or use the <code>closing</code> event of
the NativeWindow object (to detect when a window is closing). For example, the
following JavaScript code displays a message ( <code>&quot;Goodbye.&quot;</code>) when the user
closes the application:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var app = air.NativeApplication.nativeApplication;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">app.addEventListener(air.Event.EXITING, closeHandler);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">function closeHandler(event)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    alert(&quot;Goodbye.&quot;);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>However, scripts <em>can</em> successfully respond to the <code>unload</code> event caused by
navigation of a frame, iframe, or top-level window content.</p><p>Note: These limitations may be removed in a future version of Adobe AIR.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="javascript-window-object">JavaScript Window object<a href="#javascript-window-object" class="hash-link" aria-label="Direct link to JavaScript Window object" title="Direct link to JavaScript Window object">​</a></h2><p>The Window object remains the global object in the JavaScript execution context.
In the application sandbox, AIR adds new properties to the JavaScript Window
object to provide access to the built-in classes of AIR, as well as important
host objects. In addition, some methods and properties behave differently
depending on whether they are within the application sandbox or not.</p><p>Window.runtime property<br>
<!-- -->The <code>runtime</code> property allows you to instantiate and use the built-in runtime
classes from within the application sandbox. These classes include the AIR and
Flash Player APIs (but not, for example, the Flex framework). For example, the
following statement creates an AIR file object:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var preferencesFile = new window.runtime.flash.filesystem.File();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>AIRAliases.js</code> file, provided in the AIR SDK, contains alias definitions
that allow you to shorten such references. For example, when <code>AIRAliases.js</code> is
imported into a page, a File object can be created with the following statement:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var preferencesFile = new air.File();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>window.runtime</code> property is only defined for content within the application
sandbox and only for the parent document of a page with frames or iframes.</p><p>See
<a href="/docs/development/html-content-in-air/programming-html-and-javascript-in-air/using-the-airaliases-js-file">Using the AIRAliases.js file</a>.</p><p>Window.nativeWindow property<br>
<!-- -->The <code>nativeWindow</code> property provides a reference to the underlying native window
object. With this property, you can script window functions and properties such
as screen position, size, and visibility, and handle window events such as
closing, resizing, and moving. For example, the following statement closes the
window:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">window.nativeWindow.close();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note: The window control features provided by the NativeWindow object overlap
the features provided by the JavaScript Window object. In such cases, you can
use whichever method you find most convenient.</p><p>The <code>window.nativeWindow</code> property is only defined for content within the
application sandbox and only for the parent document of a page with frames or
iframes.</p><p>Window.htmlLoader property<br>
<!-- -->The <code>htmlLoader</code> property provides a reference to the AIR HTMLLoader object that
contains the HTML content. With this property, you can script the appearance and
behavior of the HTML environment. For example, you can use the
<code>htmlLoader.paintsDefaultBackground</code> property to determine whether the control
paints a default, white background:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">window.htmlLoader.paintsDefaultBackground = false;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note: The HTMLLoader object itself has a <code>window</code> property, which references the
JavaScript Window object of the HTML content it contains. You can use this
property to access the JavaScript environment through a reference to the
containing HTMLLoader.</p><p>The <code>window.htmlLoader</code> property is only defined for content within the
application sandbox and only for the parent document of a page with frames or
iframes.</p><p>Window.parentSandboxBridge and Window.childSandboxBridge properties<br>
<!-- -->The <code>parentSandboxBridge</code> and <code>childSandboxBridge</code> properties allow you to
define an interface between a parent and a child frame. For more information,
see
<a href="/docs/development/html-content-in-air/programming-html-and-javascript-in-air/cross-scripting-content-in-different-security-sandboxes">Cross-scripting content in different security sandboxes</a>.</p><p>Window.setTimeout() and Window.setInterval() functions<br>
<!-- -->AIR places security restrictions on use of the <code>setTimeout()</code> and
<code>setInterval()</code> functions within the application sandbox. You cannot define the
code to be executed as a string when calling <code>setTimeout()</code> or <code>setInterval()</code>.
You must use a function reference. For more information, see
<a href="/docs/development/html-content-in-air/programming-html-and-javascript-in-air/avoiding-security-related-javascript-errors#settimeout-and-setinterval">setTimeout() and setInterval()</a>.</p><p>Window.open() function<br>
<!-- -->When called by code running in a non-application sandbox, the <code>open()</code> method
only opens a window when called as a result of user interaction (such as a mouse
click or keypress). In addition, the window title is prefixed with the
application title (to prevent windows opened by remote content from
impersonating windows opened by the application). For more information, see the
<a href="/docs/development/security/air-security/html-security-in-adobe-air#restrictions-on-calling-the-javascript-windowopen-method">Restrictions on calling the JavaScript window.open() method</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="airnativeapplication-object">air.NativeApplication object<a href="#airnativeapplication-object" class="hash-link" aria-label="Direct link to air.NativeApplication object" title="Direct link to air.NativeApplication object">​</a></h2><p>The NativeApplication object provides information about the application state,
dispatches several important application-level events, and provides useful
functions for controlling application behavior. A single instance of the
NativeApplication object is created automatically and can be accessed through
the class-defined <code>NativeApplication.nativeApplication</code> property.</p><p>To access the object from JavaScript code you could use:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var app = window.runtime.flash.desktop.NativeApplication.nativeApplication;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or, if the <code>AIRAliases.js</code> script has been imported, you could use the shorter
form:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">var app = air.NativeApplication.nativeApplication;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The NativeApplication object can only be accessed from within the application
sandbox. For more information about the NativeApplication object, see
<a href="/docs/development/client-system-interaction/working-with-air-runtime-and-operating-system-information">Working with AIR runtime and operating system information</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-javascript-url-scheme">The JavaScript URL scheme<a href="#the-javascript-url-scheme" class="hash-link" aria-label="Direct link to The JavaScript URL scheme" title="Direct link to The JavaScript URL scheme">​</a></h2><p>Execution of code defined in a JavaScript URL scheme (as in
<code>href=&quot;javascript:alert(&#x27;Test&#x27;)&quot;</code>) is blocked within the application sandbox. No
error is thrown.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/airsdk/airsdk.dev/edit/main/docs/development/html-content-in-air/about-the-html-environment/javascript-in-air.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/development/html-content-in-air/about-the-html-environment/html-in-air"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">HTML in AIR</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/development/html-content-in-air/about-the-html-environment/overview-of-the-html-environment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview of the HTML environment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#html-sandboxes" class="table-of-contents__link toc-highlight">HTML Sandboxes</a></li><li><a href="#javascript-eval-function" class="table-of-contents__link toc-highlight">JavaScript eval() function</a></li><li><a href="#function-constructors" class="table-of-contents__link toc-highlight">Function constructors</a></li><li><a href="#loading-external-scripts" class="table-of-contents__link toc-highlight">Loading external scripts</a></li><li><a href="#the-xmlhttprequest-object" class="table-of-contents__link toc-highlight">The XMLHttpRequest object</a></li><li><a href="#cookies" class="table-of-contents__link toc-highlight">Cookies</a></li><li><a href="#the-clipboard-object" class="table-of-contents__link toc-highlight">The Clipboard object</a></li><li><a href="#drag-and-drop" class="table-of-contents__link toc-highlight">Drag and Drop</a></li><li><a href="#innerhtml-and-outerhtml-properties" class="table-of-contents__link toc-highlight">innerHTML and outerHTML properties</a></li><li><a href="#documentwrite-and-documentwriteln-methods" class="table-of-contents__link toc-highlight">Document.write() and Document.writeln() methods</a></li><li><a href="#documentdesignmode-property" class="table-of-contents__link toc-highlight">Document.designMode property</a></li><li><a href="#unload-events-for-body-and-frameset-objects" class="table-of-contents__link toc-highlight">unload events (for body and frameset objects)</a></li><li><a href="#javascript-window-object" class="table-of-contents__link toc-highlight">JavaScript Window object</a></li><li><a href="#airnativeapplication-object" class="table-of-contents__link toc-highlight">air.NativeApplication object</a></li><li><a href="#the-javascript-url-scheme" class="table-of-contents__link toc-highlight">The JavaScript URL scheme</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/basics/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/showcase">Showcase</a></li><li class="footer__item"><a href="https://github.com/airsdk/Adobe-Runtime-Support/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.starling-framework.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Starling Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/actionscript-3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news">News</a></li><li class="footer__item"><a href="https://github.com/airsdk/airsdk.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/images/logo.svg" alt="AIR" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/images/logo.svg" alt="AIR" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Except as otherwise noted, this work is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution 3.0</a> License, and code samples are licensed under the MIT License. <br>Adobe, the Adobe logo, Adobe AIR, ActionScript, AIR, Flash, Flash Builder, Flash Lite, Flex, MXML, and Pixel Bender are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries.<br>Much of this content is based on the original <a href="https://help.adobe.com/en_US/air/build/index.html">Adobe developer documentation</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.7937623a.js"></script>
<script src="/assets/js/main.5037fee5.js"></script>
</body>
</html>