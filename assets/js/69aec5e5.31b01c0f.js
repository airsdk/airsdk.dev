"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[35520],{28453:(t,e,n)=>{n.d(e,{R:()=>o,x:()=>r});var i=n(96540);const s={},a=i.createContext(s);function o(t){const e=i.useContext(a);return i.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:o(t.components),i.createElement(a.Provider,{value:e},t.children)}},66083:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"development/text/using-the-flash-text-engine/controlling-text","title":"Controlling text","description":"FTE gives you a new set of text formatting controls to handle justification and","source":"@site/docs/development/text/using-the-flash-text-engine/controlling-text.md","sourceDirName":"development/text/using-the-flash-text-engine","slug":"/development/text/using-the-flash-text-engine/controlling-text","permalink":"/docs/development/text/using-the-flash-text-engine/controlling-text","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/text/using-the-flash-text-engine/controlling-text.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Using the Flash Text Engine","permalink":"/docs/development/text/using-the-flash-text-engine/"},"next":{"title":"Creating and displaying text","permalink":"/docs/development/text/using-the-flash-text-engine/creating-and-displaying-text"}}');var s=n(74848),a=n(28453);const o={},r="Controlling text",c={},l=[{value:"Justifying text",id:"justifying-text",level:2},{value:"Justifying East Asian text",id:"justifying-east-asian-text",level:2},{value:"Kerning and tracking",id:"kerning-and-tracking",level:2},{value:"Line breaks for wrapped text",id:"line-breaks-for-wrapped-text",level:2},{value:"Tab stops",id:"tab-stops",level:2}];function d(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"controlling-text",children:"Controlling text"})}),"\n",(0,s.jsx)(e.p,{children:"FTE gives you a new set of text formatting controls to handle justification and\ncharacter spacing (kerning and tracking). There are also properties for\ncontrolling that way lines are broken and for setting tab stops within lines."}),"\n",(0,s.jsx)(e.h2,{id:"justifying-text",children:"Justifying text"}),"\n",(0,s.jsx)(e.p,{children:"Justifying text makes all lines in a paragraph the same length by adjusting the\nspacing between words and sometimes between letters. The effect is to align the\ntext on both sides, while the spacing between words and letters varies. Columns\nof text in newspapers and magazines are frequently justified."}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.code,{children:"lineJustfication"})," property in the SpaceJustifier class allows you to\ncontrol the justification of lines in a block of text. The LineJustification\nclass defines constants that you can use to specify a justification option:\n",(0,s.jsx)(e.code,{children:"ALL_BUT_LAST"})," justifies all but the last line of text; ",(0,s.jsx)(e.code,{children:"ALL_INCLUDING_LAST"}),"\njustifies all text, including the last line; ",(0,s.jsx)(e.code,{children:"UNJUSTIFIED"}),", which is the\ndefault, leaves the text unjustified."]}),"\n",(0,s.jsxs)(e.p,{children:["To justify text, set the ",(0,s.jsx)(e.code,{children:"lineJustification"})," property to an instance of the\nSpaceJustifier class and assign that instance to the ",(0,s.jsx)(e.code,{children:"textJustifier"})," property of\na TextBlock instance. The following example creates a paragraph in which all but\nthe last line of text is justified."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'package\n{\n\timport flash.text.engine.*;\n\timport flash.display.Sprite;\n\n\tpublic class JustifyExample extends Sprite\n\t{\n\t\tpublic function JustifyExample()\n\t\t{\n\t\t\tvar str:String = "Lorem ipsum dolor sit amet, consectetur adipisicing elit, " +\n\t\t\t"sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut " +\n\t\t\t"enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut " +\n\t\t\t"aliquip ex ea commodo consequat.";\n\n\t\t\tvar format:ElementFormat = new ElementFormat();\n\t\t\tvar textElement:TextElement=new TextElement(str,format);\n\t\t\tvar spaceJustifier:SpaceJustifier=new SpaceJustifier("en",LineJustification.ALL_BUT_LAST);\n\n\t\t\tvar textBlock:TextBlock = new TextBlock();\n\t\t\ttextBlock.content=textElement;\n\t\t\ttextBlock.textJustifier=spaceJustifier;\n\t\t\tcreateLines(textBlock);\n\t\t}\n\n\t\tprivate function createLines(textBlock:TextBlock):void {\n\t\t\tvar yPos=20;\n\t\t\tvar textLine:TextLine=textBlock.createTextLine(null,150);\n\n\t\t\twhile (textLine) {\n\t\t\t\taddChild(textLine);\n\t\t\t\ttextLine.x=15;\n\t\t\t\tyPos+=textLine.textHeight+2;\n\t\t\t\ttextLine.y=yPos;\n\t\t\t\ttextLine=textBlock.createTextLine(textLine,150);\n\t\t\t}\n\t\t}\n\t}\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:["To vary spacing between letters as well as between words, set the\n",(0,s.jsx)(e.code,{children:"SpaceJustifier.letterspacing"})," property to ",(0,s.jsx)(e.code,{children:"true"}),". Turning on letterspacing can\nreduce the occurrences of unsightly gaps between words, which can sometimes\noccur with simple justification."]}),"\n",(0,s.jsx)(e.h2,{id:"justifying-east-asian-text",children:"Justifying East Asian text"}),"\n",(0,s.jsxs)(e.p,{children:["Justifying East Asian text entails additional considerations. It can be written\nfrom top to bottom and some characters, known as kinsoku, cannot appear at the\nbeginning or end of a line. The JustificationStyle class defines the following\nconstants, which specify the options for handling these characters.\n",(0,s.jsx)(e.code,{children:"PRIORITIZE_LEAST_ADJUSTMENT"})," bases justification on either expanding or\ncompressing the line, depending on which one produces the most desirable result.\n",(0,s.jsx)(e.code,{children:"PUSH_IN_KINSOKU"})," bases justification on compressing kinsoku at the end of the\nline, or expanding it if no kinsoku occurs, or if that space is insufficient."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"PUSH_OUT_ONLY"})," bases justification on expanding the line. To create a block of\nvertical Asian text, set the ",(0,s.jsx)(e.code,{children:"TextBlock.lineRotation"})," property to\n",(0,s.jsx)(e.code,{children:"TextRotation.ROTATE_90"})," and set the ",(0,s.jsx)(e.code,{children:"ElementFormat.textRotation"})," property to\n",(0,s.jsx)(e.code,{children:"TextRotation.AUTO"}),", which is the default. Setting the ",(0,s.jsx)(e.code,{children:"textRotation"})," property\nto ",(0,s.jsx)(e.code,{children:"AUTO"})," causes the glyphs in the text to remain vertical instead of turning on\ntheir side when the line is rotated. The ",(0,s.jsx)(e.code,{children:"AUTO"})," setting rotates 90\xb0\ncounter-clockwise for full width and wide glyphs only, as determined by the\nUnicode properties of the glyph. The following example displays a vertical block\nof Japanese text and justifies it using the ",(0,s.jsx)(e.code,{children:"PUSH_IN_KINSOKU"})," option."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'package\n{\n\timport flash.text.engine.*;\n\timport flash.display.Stage;\n\timport flash.display.Sprite;\n\timport flash.system.Capabilities;\n\n\tpublic class EastAsianJustifyExample extends Sprite\n\t{\n\t\tpublic function EastAsianJustifyExample()\n\t\t{\n\t\t\tvar Japanese_txt:String = String.fromCharCode(\n\t\t\t0x5185, 0x95A3, 0x5E9C, 0x304C, 0x300C, 0x653F, 0x5E9C, 0x30A4,\n\t\t\t0x30F3, 0x30BF, 0x30FC, 0x30CD, 0x30C3, 0x30C8, 0x30C6, 0x30EC,\n\t\t\t0x30D3, 0x300D, 0x306E, 0x52D5, 0x753B, 0x914D, 0x4FE1, 0x5411,\n\t\t\t0x3051, 0x306B, 0x30A2, 0x30C9, 0x30D3, 0x30B7, 0x30B9, 0x30C6,\n\t\t\t0x30E0, 0x30BA, 0x793E, 0x306E)\n\t\t\tvar textBlock:TextBlock = new TextBlock();\n\t\t\tvar font:FontDescription = new FontDescription();\n\t\t\tvar format:ElementFormat = new ElementFormat();\n\t\t\tformat.fontSize = 12;\n\t\t\tformat.color = 0xCC0000;\n\t\t\tformat.textRotation = TextRotation.AUTO;\n\t\t\ttextBlock.baselineZero = TextBaseline.IDEOGRAPHIC_CENTER;\n\t\t\tvar eastAsianJustifier:EastAsianJustifier = new EastAsianJustifier("ja", LineJustification.ALL_BUT_LAST);\n\t\t\teastAsianJustifier.justificationStyle = JustificationStyle.PUSH_IN_KINSOKU;\n\t\t\ttextBlock.textJustifier = eastAsianJustifier;\n\t\t\ttextBlock.lineRotation = TextRotation.ROTATE_90;\n\t\t\tvar linePosition:Number = this.stage.stageWidth - 75;\n\t\t\tif (Capabilities.os.search("Mac OS") > -1)\n\t\t\t\t// set fontName: Kozuka Mincho Pro R\n\t\t\t\tfont.fontName = String.fromCharCode(0x5C0F, 0x585A, 0x660E, 0x671D) + " Pro R";\n\t\t\telse\n\t\t\t\tfont.fontName = "Kozuka Mincho Pro R";\n\t\t\ttextBlock.content = new TextElement(Japanese_txt, format);\n\t\t\tvar previousLine:TextLine = null;\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tvar textLine:TextLine = textBlock.createTextLine(previousLine, 200);\n\t\t\t\tif (textLine == null)\n\t\t\t\t\tbreak;\n\t\t\t\ttextLine.y = 20;\n\t\t\t\ttextLine.x = linePosition;\n\t\t\t\tlinePosition -= 25;\n\t\t\t\taddChild(textLine);\n\t\t\t\tpreviousLine = textLine;\n\t\t\t}\n\t\t}\n\t}\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"kerning-and-tracking",children:"Kerning and tracking"}),"\n",(0,s.jsxs)(e.p,{children:['Kerning and tracking affect the distance between adjacent pairs of characters in\na text block. Kerning controls how character pairs "fit" together, such as the\npairs "WA" or "Va". Kerning is set in the ',(0,s.jsx)(e.code,{children:"ElementFormat"})," object. It is enabled\nby default ( ",(0,s.jsx)(e.code,{children:"Kerning.ON"}),"), and can be set to OFF or AUTO, in which case kerning\nis only applied between characters if neither is Kanji, Hiragana, or Katakana."]}),"\n",(0,s.jsxs)(e.p,{children:["Tracking adds or subtracts a set number of pixels between all characters in a\ntext block, and is also set in the ",(0,s.jsx)(e.code,{children:"ElementFormat"})," object. It works with both\nembedded and device fonts. FTE supports two tracking properties, ",(0,s.jsx)(e.code,{children:"trackingLeft"}),",\nwhich adds/subtracts pixels from the left side of a character, and\n",(0,s.jsx)(e.code,{children:"trackingRight"}),", which adds/subtracts from the right side. If kerning is being\nused, the tracking value is added to or subtracted from kerning values for each\ncharacter pair."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"Kerning and tracking effects",src:n(81772).A+"",width:"397",height:"207"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A."})," Kerning.OFF"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"B."})," TrackingRight=5, Kerning.OFF"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"C."})," TrackingRight=-5, Kerning.OFF"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"D."})," Kerning.ON"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"E."})," TrackingRight=-5, Kerning.ON"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"F."})," TrackingRight=-5, Kerning.ON"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"var ef1:ElementFormat = new ElementFormat();\nef1.kerning = Kerning.OFF;\n\nvar ef2:ElementFormat = new ElementFormat();\nef2.kerning = Kerning.ON;\nef2.trackingLeft = 0.8;\nef2.trackingRight = 0.8;\n\nvar ef3:ElementFormat = new ElementFormat();\nef3.trackingRight = -0.2;\n"})}),"\n",(0,s.jsx)(e.h2,{id:"line-breaks-for-wrapped-text",children:"Line breaks for wrapped text"}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.code,{children:"breakOpportunity"})," property of the ",(0,s.jsx)(e.code,{children:"ElementFormat"})," object determines which\ncharacters can be used for breaking when wrapping text is broken into multiple\nlines. The default, ",(0,s.jsx)(e.code,{children:"BreakOpportunity.AUTO"}),", uses standard Unicode properties,\nsuch as breaking between words and on hyphens. Using ",(0,s.jsx)(e.code,{children:"BreakOpportunity.ALL"}),"\nallows any character to be treated as a line break opportunity, which is useful\nfor creating effects like text along a path."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"var ef:ElementFormat = new ElementFormat();\nef.breakOpportunity = BreakOpportunity.ALL;\n"})}),"\n",(0,s.jsx)(e.h2,{id:"tab-stops",children:"Tab stops"}),"\n",(0,s.jsxs)(e.p,{children:["To set tab stops in a text block, define the tab stops by creating instances of\nthe TabStop class. The parameters to the ",(0,s.jsx)(e.code,{children:"TabStop()"})," constructor specify how the\ntext aligns with the tab stop. These parameters specify the position of the tab\nstop, and for decimal alignment, the value on which to align, expressed as a\nstring. Typically, this value is a decimal point but it could also be a comma, a\ndollar sign, or the symbol for the Yen or the Euro, for example. The following\nline of code creates a tab stop called tab1."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'var tab1:TabStop = new TabStop(TabAlignment.DECIMAL, 50, ".");\n'})}),"\n",(0,s.jsxs)(e.p,{children:["Once you've created the tab stops for a text block, assign them to the\n",(0,s.jsx)(e.code,{children:"tabStops"})," property of a TextBlock instance. Because the ",(0,s.jsx)(e.code,{children:"tabStops"})," property\nrequires a Vector, though, first create a Vector and add the tab stops to it.\nThe Vector allows you to assign a set of tab stops to the text block. The\nfollowing example creates a ",(0,s.jsx)(e.code,{children:"Vector<TabStop>"})," instance and adds a set of TabStop\nobjects to it. Then it assigns the tab stops to the ",(0,s.jsx)(e.code,{children:"tabStops"})," property of a\nTextBlock instance."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"var tabStops:Vector.<TabStop> = new Vector.<TabStop>();\ntabStops.push(tab1, tab2, tab3, tab4);\ntextBlock.tabStops = tabStops\n"})}),"\n",(0,s.jsxs)(e.p,{children:["For more information on Vectors, see\n",(0,s.jsx)(e.a,{href:"/docs/development/core-actionscript-classes/working-with-arrays/",children:"Working with arrays"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"The following example shows the effect of each of the TabStop alignment options."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'package {\n\n\timport flash.text.engine.*;\n\timport flash.display.Sprite;\n\n\tpublic class TabStopExample extends Sprite\n\t{\n\t\tpublic function TabStopExample()\n\t\t{\n\t\t\tvar format:ElementFormat = new ElementFormat();\n\t\t\tformat.fontDescription = new FontDescription("Arial");\n\t\t\tformat.fontSize = 16;\n\n\t\t\tvar tabStops:Vector.<TabStop> = new Vector.<TabStop>();\n\t\t\ttabStops.push(\n\t\t\t\tnew TabStop(TabAlignment.START, 20),\n\t\t\t\tnew TabStop(TabAlignment.CENTER, 140),\n\t\t\t\tnew TabStop(TabAlignment.DECIMAL, 260, "."),\n\t\t\t\tnew TabStop(TabAlignment.END, 380));\n\t\t\tvar textBlock:TextBlock = new TextBlock();\n\t\t\ttextBlock.content = new TextElement(\n\t\t\t\t"\\tt1\\tt2\\tt3\\tt4\\n" +\n\t\t\t\t"\\tThis line aligns on 1st tab\\n" +\n\t\t\t\t"\\t\\t\\t\\tThis is the end\\n" +\n\t\t\t\t"\\tThe following fragment centers on the 2nd tab:\\t\\t\\n" +\n\t\t\t\t"\\t\\tit\'s on me\\t\\t\\n" +\n\t\t\t\t"\\tThe following amounts align on the decimal point:\\n" +\n\t\t\t\t"\\t\\t\\t45.00\\t\\n" +\n\t\t\t\t"\\t\\t\\t75,320.00\\t\\n" +\n\t\t\t\t"\\t\\t\\t6,950.00\\t\\n" +\n\t\t\t\t"\\t\\t\\t7.01\\t\\n", format);\n\n\t\t\ttextBlock.tabStops = tabStops;\n\t\t\tvar yPosition:Number = 60;\n\t\t\tvar previousTextLine:TextLine = null;\n\t\t\tvar textLine:TextLine;\n\t\t\tvar i:int;\n\t\t\tfor (i = 0; i < 10; i++) {\n\t\t\t\ttextLine = textBlock.createTextLine(previousTextLine, 1000, 0);\n\t\t\t\ttextLine.x = 20;\n\t\t\t\ttextLine.y = yPosition;\n\t\t\t\taddChild(textLine);\n\t\t\t\tyPosition += 25;\n\t\t\t\tpreviousTextLine = textLine;\n\t\t\t}\n\t\t}\n\t}\n}\n'})})]})}function h(t={}){const{wrapper:e}={...(0,a.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(d,{...t})}):d(t)}},81772:(t,e,n)=>{n.d(e,{A:()=>i});const i=n.p+"assets/images/te_kerning_tracking-ab6bd565baf78264c6769c7e8b598f76.png"}}]);