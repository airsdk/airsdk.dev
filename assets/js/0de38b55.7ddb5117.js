"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[43851],{19378:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>d,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>m});const i=JSON.parse('{"id":"development/user-interaction/working-with-menus/native-menu-example-window-and-application-menu-air","title":"Native menu example: Window and application menu (AIR)","description":"The following example creates the menu shown in","source":"@site/docs/development/user-interaction/working-with-menus/native-menu-example-window-and-application-menu-air.md","sourceDirName":"development/user-interaction/working-with-menus","slug":"/development/user-interaction/working-with-menus/native-menu-example-window-and-application-menu-air","permalink":"/docs/development/user-interaction/working-with-menus/native-menu-example-window-and-application-menu-air","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/user-interaction/working-with-menus/native-menu-example-window-and-application-menu-air.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"mainSidebar","previous":{"title":"Handling menu events","permalink":"/docs/development/user-interaction/working-with-menus/handling-menu-events"},"next":{"title":"Taskbar icons in AIR","permalink":"/docs/development/user-interaction/taskbar-icons-in-air"}}');var a=n(74848),u=n(28453);const o={sidebar_position:6},d="Native menu example: Window and application menu (AIR)",r={},m=[];function s(e){const t={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,u.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"native-menu-example-window-and-application-menu-air",children:"Native menu example: Window and application menu (AIR)"})}),"\n",(0,a.jsxs)(t.p,{children:["The following example creates the menu shown in\n",(0,a.jsx)(t.a,{href:"/docs/development/user-interaction/working-with-menus/menu-basics#native-menu-structure-air",children:"Native menu structure (AIR)"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["The menu is designed to work both on Windows, for which only window menus are\nsupported, and on Mac OS X, for which only application menus are supported. To\nmake the distinction, the MenuExample class constructor checks the static\n",(0,a.jsx)(t.code,{children:"supportsMenu"})," properties of the NativeWindow and NativeApplication classes. If\n",(0,a.jsx)(t.code,{children:"NativeWindow.supportsMenu"})," is ",(0,a.jsx)(t.code,{children:"true"}),", then the constructor creates a NativeMenu\nobject for the window and then creates and adds the File and Edit submenus. If\n",(0,a.jsx)(t.code,{children:"NativeApplication.supportsMenu"})," is ",(0,a.jsx)(t.code,{children:"true"}),", then the constructor creates and\nadds the File and Edit menus to the existing menu provided by the Mac OS X\noperating system."]}),"\n",(0,a.jsxs)(t.p,{children:["The example also illustrates menu event handling. The ",(0,a.jsx)(t.code,{children:"select"})," event is handled\nat the item level and also at the menu level. Each menu in the chain from the\nmenu containing the selected item to the root menu responds to the ",(0,a.jsx)(t.code,{children:"select"}),"\nevent. The ",(0,a.jsx)(t.code,{children:"displaying"}),' event is used with the "Open Recent" menu. Just before\nthe menu is opened, the items in the menu are refreshed from the recent\nDocuments array (which doesn\'t actually change in this example). Although not\nshown in this example, you can also listen for ',(0,a.jsx)(t.code,{children:"displaying"})," events on individual\nitems."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:'package\n{\n\timport flash.display.NativeMenu;\n\timport flash.display.NativeMenuItem;\n\timport flash.display.NativeWindow;\n\timport flash.display.Sprite;\n\timport flash.events.Event;\n\timport flash.filesystem.File;\n\timport flash.desktop.NativeApplication;\n\n\tpublic class MenuExample extends Sprite\n\t{\n\t\tprivate var recentDocuments:Array =\n\t\t\tnew Array(new File("app-storage:/GreatGatsby.pdf"),\n\t\t\t\t\tnew File("app-storage:/WarAndPeace.pdf"),\n\t\t\t\t\tnew File("app-storage:/Iliad.pdf"));\n\n\t\tpublic function MenuExample()\n\t\t{\n\t\t\tvar fileMenu:NativeMenuItem;\n\t\t\tvar editMenu:NativeMenuItem;\n\n\t\t\tif (NativeWindow.supportsMenu){\n\t\t\t\tstage.nativeWindow.menu = new NativeMenu();\n\t\t\t\tstage.nativeWindow.menu.addEventListener(Event.SELECT, selectCommandMenu);\n\t\t\t\tfileMenu = stage.nativeWindow.menu.addItem(new NativeMenuItem("File"));\n\t\t\t\tfileMenu.submenu = createFileMenu();\n\t\t\t\teditMenu = stage.nativeWindow.menu.addItem(new NativeMenuItem("Edit"));\n\t\t\t\teditMenu.submenu = createEditMenu();\n\t\t\t}\n\n\t\t\tif (NativeApplication.supportsMenu){\n\t\t\t\tNativeApplication.nativeApplication.menu.addEventListener(Event.SELECT, selectCommandMenu);\n\t\t\t\tfileMenu = NativeApplication.nativeApplication.menu.addItem(new NativeMenuItem("File"));\n\t\t\t\tfileMenu.submenu = createFileMenu();\n\t\t\t\teditMenu = NativeApplication.nativeApplication.menu.addItem(new NativeMenuItem("Edit"));\n\t\t\t\teditMenu.submenu = createEditMenu();\n\t\t\t}\n\t\t}\n\n\t\tpublic function createFileMenu():NativeMenu {\n\t\t\tvar fileMenu:NativeMenu = new NativeMenu();\n\t\t\tfileMenu.addEventListener(Event.SELECT, selectCommandMenu);\n\n\t\t\tvar newCommand:NativeMenuItem = fileMenu.addItem(new NativeMenuItem("New"));\n\t\t\tnewCommand.addEventListener(Event.SELECT, selectCommand);\n\t\t\tvar saveCommand:NativeMenuItem = fileMenu.addItem(new NativeMenuItem("Save"));\n\t\t\tsaveCommand.addEventListener(Event.SELECT, selectCommand);\n\t\t\tvar openRecentMenu:NativeMenuItem =\n\t\t\t\t\tfileMenu.addItem(new NativeMenuItem("Open Recent"));\n\t\t\topenRecentMenu.submenu = new NativeMenu();\n\t\t\topenRecentMenu.submenu.addEventListener(Event.DISPLAYING,\n\t\t\t\t\t\t\t\t\t\t\tupdateRecentDocumentMenu);\n\t\t\topenRecentMenu.submenu.addEventListener(Event.SELECT, selectCommandMenu);\n\n\t\t\treturn fileMenu;\n\t\t}\n\n\t\tpublic function createEditMenu():NativeMenu {\n\t\t\tvar editMenu:NativeMenu = new NativeMenu();\n\t\t\teditMenu.addEventListener(Event.SELECT, selectCommandMenu);\n\n\t\t\tvar copyCommand:NativeMenuItem = editMenu.addItem(new NativeMenuItem("Copy"));\n\t\t\tcopyCommand.addEventListener(Event.SELECT, selectCommand);\n\t\t\tcopyCommand.keyEquivalent = "c";\n\t\t\tvar pasteCommand:NativeMenuItem =\n\t\t\t\t\teditMenu.addItem(new NativeMenuItem("Paste"));\n\t\t\tpasteCommand.addEventListener(Event.SELECT, selectCommand);\n\t\t\tpasteCommand.keyEquivalent = "v";\n\t\t\teditMenu.addItem(new NativeMenuItem("", true));\n\t\t\tvar preferencesCommand:NativeMenuItem =\n\t\t\t\t\teditMenu.addItem(new NativeMenuItem("Preferences"));\n\t\t\tpreferencesCommand.addEventListener(Event.SELECT, selectCommand);\n\n\t\t\treturn editMenu;\n\t\t}\n\n\t\tprivate function updateRecentDocumentMenu(event:Event):void {\n\t\t\ttrace("Updating recent document menu.");\n\t\t\tvar docMenu:NativeMenu = NativeMenu(event.target);\n\n\t\t\tfor each (var item:NativeMenuItem in docMenu.items) {\n\t\t\t\tdocMenu.removeItem(item);\n\t\t\t}\n\n\t\t\tfor each (var file:File in recentDocuments) {\n\t\t\t\tvar menuItem:NativeMenuItem =\n\t\t\t\t\t\tdocMenu.addItem(new NativeMenuItem(file.name));\n\t\t\t\tmenuItem.data = file;\n\t\t\t\tmenuItem.addEventListener(Event.SELECT, selectRecentDocument);\n\t\t\t}\n\t\t}\n\n\t\tprivate function selectRecentDocument(event:Event):void {\n\t\t\ttrace("Selected recent document: " + event.target.data.name);\n\t\t}\n\n\t\tprivate function selectCommand(event:Event):void {\n\t\t\ttrace("Selected command: " + event.target.label);\n\t\t}\n\n\t\tprivate function selectCommandMenu(event:Event):void {\n\t\t\tif (event.currentTarget.parent != null) {\n\t\t\t\tvar menuItem:NativeMenuItem =\n\t\t\t\t\t\tfindItemForMenu(NativeMenu(event.currentTarget));\n\t\t\t\tif (menuItem != null) {\n\t\t\t\t\ttrace("Select event for \\"" +\n\t\t\t\t\t\t\tevent.target.label +\n\t\t\t\t\t\t\t"\\" command handled by menu: " +\n\t\t\t\t\t\t\tmenuItem.label);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttrace("Select event for \\"" +\n\t\t\t\t\t\tevent.target.label +\n\t\t\t\t\t\t"\\" command handled by root menu.");\n\t\t\t}\n\t\t}\n\n\t\tprivate function findItemForMenu(menu:NativeMenu):NativeMenuItem {\n\t\t\tfor each (var item:NativeMenuItem in menu.parent.items) {\n\t\t\t\tif (item != null) {\n\t\t\t\t\tif (item.submenu == menu) {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n}\n'})})]})}function c(e={}){const{wrapper:t}={...(0,u.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(s,{...e})}):s(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>d});var i=n(96540);const a={},u=i.createContext(a);function o(e){const t=i.useContext(u);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(u.Provider,{value:t},e.children)}}}]);