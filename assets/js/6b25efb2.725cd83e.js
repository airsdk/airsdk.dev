"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[61927],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=i.createContext({}),s=function(e){var t=i.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return i.createElement(d.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,d=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),c=s(n),m=a,h=c["".concat(d,".").concat(m)]||c[m]||u[m]||l;return n?i.createElement(h,o(o({ref:t},p),{},{components:n})):i.createElement(h,o({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=m;var r={};for(var d in t)hasOwnProperty.call(t,d)&&(r[d]=t[d]);r.originalType=e,r[c]="string"==typeof e?e:a,o[1]=r;for(var s=2;s<l;s++)o[s]=n[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},82994:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>s});var i=n(87462),a=(n(67294),n(3905));const l={title:"Android Elements",sidebar_label:"android",sidebar_position:5},o=void 0,r={unversionedId:"building/application-descriptor-files/elements/android",id:"building/application-descriptor-files/elements/android",title:"Android Elements",description:"The android element provides platform-specific settings for applications running on Android devices. It can contain the following optional elements.",source:"@site/docs/building/application-descriptor-files/elements/android.md",sourceDirName:"building/application-descriptor-files/elements",slug:"/building/application-descriptor-files/elements/android",permalink:"/docs/building/application-descriptor-files/elements/android",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/building/application-descriptor-files/elements/android.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Android Elements",sidebar_label:"android",sidebar_position:5},sidebar:"mainSidebar",previous:{title:"iPhone",permalink:"/docs/building/application-descriptor-files/elements/iPhone"},next:{title:"macOS",permalink:"/docs/building/application-descriptor-files/elements/macOS"}},d={},s=[{value:"Elements",id:"elements",level:2},{value:"<code>colorDepth</code>",id:"colordepth",level:3},{value:"Example",id:"example",level:4},{value:"<code>containsVideo</code>",id:"containsvideo",level:3},{value:"Example",id:"example-1",level:4},{value:"<code>webContentsDebuggingEnabled</code>",id:"webcontentsdebuggingenabled",level:3},{value:"Example",id:"example-2",level:4},{value:"<code>assetPacks</code>",id:"assetpacks",level:3},{value:"<code>manifestAdditions</code>",id:"manifestadditions",level:3},{value:"Details",id:"details",level:4},{value:"Example",id:"example-3",level:4},{value:"Restrictions",id:"restrictions",level:4},{value:"<code>BuildLegacyAPK</code>",id:"buildlegacyapk",level:3},{value:"Example",id:"example-4",level:4},{value:"<code>addAirToAppID</code>",id:"addairtoappid",level:3},{value:"<code>buildArchitectures</code>",id:"buildarchitectures",level:3},{value:"<code>createAppBundle</code>",id:"createappbundle",level:3},{value:"<code>uncompressedExtensions</code>",id:"uncompressedextensions",level:3},{value:"Example",id:"example-5",level:4},{value:"<code>newFontRenderingFromAPI</code>",id:"newfontrenderingfromapi",level:3},{value:"<code>webViewAllowFileAccess</code>",id:"webviewallowfileaccess",level:3},{value:"<code>preventDeviceModelAccess</code>",id:"preventdevicemodelaccess",level:3},{value:"<code>disableSensorAccess</code>",id:"disablesensoraccess",level:3},{value:"<code>runtimeInBackgroundThread</code>",id:"runtimeinbackgroundthread",level:3},{value:"<code>storageAccessFrameworkFromAPI</code>",id:"storageaccessframeworkfromapi",level:3}],p={toc:s},c="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"android")," element provides platform-specific settings for applications running on Android devices. It can contain the following optional elements."),(0,a.kt)("h2",{id:"elements"},"Elements"),(0,a.kt)("h3",{id:"colordepth"},(0,a.kt)("inlineCode",{parentName:"h3"},"colorDepth")),(0,a.kt)("p",null,"The bit-depth of color to use when rendering on Android devices. By default this is ",(0,a.kt)("inlineCode",{parentName:"p"},"32bit")," but can be set to ",(0,a.kt)("inlineCode",{parentName:"p"},"16bit")," as long as there is no use of ",(0,a.kt)("inlineCode",{parentName:"p"},"StageVideo")," in an application."),(0,a.kt)("h4",{id:"example"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<android>\n    <colorDepth>16bit</colorDepth>\n    <manifestAdditions>...</manifestAdditions>\n</android>\n")),(0,a.kt)("h3",{id:"containsvideo"},(0,a.kt)("inlineCode",{parentName:"h3"},"containsVideo")),(0,a.kt)("p",null,"Specifies whether the application will contain any video content or not. This is used to determine whether to create a graphical surface for ",(0,a.kt)("inlineCode",{parentName:"p"},"StageVideo")," content in the application."),(0,a.kt)("p",null,"One of the following values:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"true")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"false"))),(0,a.kt)("h4",{id:"example-1"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<android>\n    <containsVideo>true</containsVideo>\n    <manifestAdditions>...</manifestAdditions>\n</android>\n")),(0,a.kt)("h3",{id:"webcontentsdebuggingenabled"},(0,a.kt)("inlineCode",{parentName:"h3"},"webContentsDebuggingEnabled")),(0,a.kt)("p",null,"Set to ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," to enable ",(0,a.kt)("inlineCode",{parentName:"p"},"StageWebView")," debugging, so that developers can debug web content (HTML / CSS / JavaScript) used in AIR Android applications."),(0,a.kt)("p",null,"To perform the debugging, connect your Android device to your machine via USB cable and navigate to ",(0,a.kt)("inlineCode",{parentName:"p"},"chrome://inspect")," to debug embedded web content in your AIR application."),(0,a.kt)("h4",{id:"example-2"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<android>\n    <webContentsDebuggingEnabled>true</webContentsDebuggingEnabled>\n    <manifestAdditions>...</manifestAdditions>\n</android>\n")),(0,a.kt)("h3",{id:"assetpacks"},(0,a.kt)("inlineCode",{parentName:"h3"},"assetPacks")),(0,a.kt)("p",null,"This section contains a list of ",(0,a.kt)("inlineCode",{parentName:"p"},"assetPack")," entries that define folders that should be packaged up for use by Android's Play Asset Delivery mechanism."),(0,a.kt)("p",null,"Each asset pack item has attributes to provide an ID value (used to retrieve the asset pack from the Android application at runtime); a delivery mechanism (one of ",(0,a.kt)("inlineCode",{parentName:"p"},"on-demand"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"fast-follow"),", or ",(0,a.kt)("inlineCode",{parentName:"p"},"install-time"),"); and a folder name. The contents of this folder will then be packaged into the asset pack rather than included in the main part of the App Bundle."),(0,a.kt)("p",null,"For example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<android>\n    <assetPacks>\n        <assetPack id="my_asset_pack1" delivery="on-demand" folder="assetpack1"/>\n    </assetPacks>\n</android>\n')),(0,a.kt)("h3",{id:"manifestadditions"},(0,a.kt)("inlineCode",{parentName:"h3"},"manifestAdditions")),(0,a.kt)("p",null,"Contains a ",(0,a.kt)("inlineCode",{parentName:"p"},"CDATA")," block of text that provides additional settings to be added to the generated Android application's manifest file (AndroidManifest.xml)."),(0,a.kt)("h4",{id:"details"},"Details"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"manifestAdditions")," element contains XML that will be injected into the AndroidManifest.xml file. It must contain a ",(0,a.kt)("inlineCode",{parentName:"p"},"manifest")," element where attributes and child elements can be specified subject to a set of rules and restrictions."),(0,a.kt)("h4",{id:"example-3"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<android>\n  <manifestAdditions>\n    <![CDATA[\n      <manifest android:sharedUserID="1001">\n        <uses-permission android:name="android.permission.CAMERA"/>\n        <uses-feature android:required="false" android:name="android.hardware.camera"/>\n        <application  android:allowClearUserData="true"\n                      android:enabled="true"\n                      android:persistent="true">\n          <meta-data android:name="android.max_aspect" android:value="2.16" />\n        </application>\n      </manifest>\n    ]]>\n  </manifestAdditions>\n</android>\n')),(0,a.kt)("h4",{id:"restrictions"},"Restrictions"),(0,a.kt)("p",null,"AIR sets several manifest entries in the generated Android manifest document to ensure that application and runtime features work correctly. You cannot override the following settings:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"You cannot set the following attributes of the ",(0,a.kt)("inlineCode",{parentName:"p"},"manifest")," element:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"package")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:versionCode")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:versionName")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"You cannot set the following attributes for the main ",(0,a.kt)("inlineCode",{parentName:"p"},"activity")," element:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:label")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:icon")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"You cannot set the following attributes of the ",(0,a.kt)("inlineCode",{parentName:"p"},"application")," element:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:theme")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:name")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:label")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:windowSoftInputMode")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:configChanges")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:screenOrientation")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"android:launchMode"))))),(0,a.kt)("h3",{id:"buildlegacyapk"},(0,a.kt)("inlineCode",{parentName:"h3"},"BuildLegacyAPK")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 33.1.1.698"),(0,a.kt)("p",null,"If ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," then ",(0,a.kt)("inlineCode",{parentName:"p"},"adt")," will use the legacy build process to create an APK. The current process uses Android build tools and Gradle to create AAB and APK outputs. Setting this value to ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," will utilise the legacy Java build process for packaging an APK. It will not affect the AAB process. "),(0,a.kt)("p",null,"The default is ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),", which will use the modern Gradle build process. Note that setting this to ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," may cause problems for new applications needing some Android features or using ANEs."),(0,a.kt)("h4",{id:"example-4"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<android>\n    <manifestAdditions></manifestAdditions>\n    <BuildLegacyAPK>true</BuildLegacyAPK>\n</android>\n")),(0,a.kt)("h3",{id:"addairtoappid"},(0,a.kt)("inlineCode",{parentName:"h3"},"addAirToAppID")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 50.0.0.1"),(0,a.kt)("p",null,"This flag provides a way to remove the default ",(0,a.kt)("inlineCode",{parentName:"p"},"air.")," prefix that the AIR Developer Tool normally adds to an Android application ID. By default this is ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," which matches the earlier Adobe behaviour,\nbut if an application already has a fully-qualified reverse domain name type identifier, then this could be set to ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," in order to generate an application without the prefix in the Android package ID."),(0,a.kt)("h3",{id:"buildarchitectures"},(0,a.kt)("inlineCode",{parentName:"h3"},"buildArchitectures")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 50.0.0.1"),(0,a.kt)("p",null,"This is a utility setting to instruct the AIR Developer Tool to only use certain architectures in the final APK/AAB file. It overrides whatever might have been provided on the command line instruction to\nADT, so this can be used to change the outputs of a build that was created via Adobe Animate or other IDEs that haven't been updated to provide the appropriate options."),(0,a.kt)("p",null,"The default is ",(0,a.kt)("inlineCode",{parentName:"p"},"armv7,armv8,x86,x64")," which means an Android App Bundle would include all of the supported platforms. To remove support for 32-bit devices, this could be updated to ",(0,a.kt)("inlineCode",{parentName:"p"},"armv8,x64"),".\nOr to remove support for Intel-architecture devices, this could be set to ",(0,a.kt)("inlineCode",{parentName:"p"},"armv7,armv8"),"."),(0,a.kt)("h3",{id:"createappbundle"},(0,a.kt)("inlineCode",{parentName:"h3"},"createAppBundle")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 50.0.0.1"),(0,a.kt)("p",null,'This is another utility, to force the AIR Developer Tool to create an Android App Bundle file even if the command line or IDE had requested an APK file.\nNote that the output filename will not be updated so if the request was to generate a file "output.apk" then this will be honoured even though this .apk file is actually an AAB.'),(0,a.kt)("h3",{id:"uncompressedextensions"},(0,a.kt)("inlineCode",{parentName:"h3"},"uncompressedExtensions")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 50.0.0.1"),(0,a.kt)("p",null,"This utility setting can be used to specify a set of file extensions that should not be compressed when stored in the APK or AAB file. Normally these are compressed formats and so most files\nare added using the 'deflate' option, but using this setting the developer can prevent certain files from being compressed, which allows them to be accessed via some of the Android asset APIs."),(0,a.kt)("h4",{id:"example-5"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<android>\n    <uncompressedExtensions>jpg,gif,png</uncompressedExtensions>\n</android>\n")),(0,a.kt)("h3",{id:"newfontrenderingfromapi"},(0,a.kt)("inlineCode",{parentName:"h3"},"newFontRenderingFromAPI")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 33.1.1.779"),(0,a.kt)("p",null,"Due to changes in the native Android font rendering code, the AIR runtime will switch to render text fields using the Android Java APIs when a device is running Android S or later.\nThis option gives some finer control over this switch. By default the value is ",(0,a.kt)("inlineCode",{parentName:"p"},"31")," which is the API level for Android S, but if a lower value is used, the new Java-based APIs will be used\nfrom that API level and above."),(0,a.kt)("p",null,"To always use the Java-based font rendering, the value should be set to zero. To never use it (which is not advisable unless the text is always within the Latin character set) it can be set to 9999 or similar."),(0,a.kt)("h3",{id:"webviewallowfileaccess"},(0,a.kt)("inlineCode",{parentName:"h3"},"webViewAllowFileAccess")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 33.1.1.698"),(0,a.kt)("p",null,"Allows an Android webview control to access local files via ",(0,a.kt)("inlineCode",{parentName:"p"},"WebSettings.setAllowFileAccess(true)"),". Default is ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,a.kt)("h3",{id:"preventdevicemodelaccess"},(0,a.kt)("inlineCode",{parentName:"h3"},"preventDeviceModelAccess")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 33.1.1.795"),(0,a.kt)("p",null,"This is a security/privacy setting to prevent the runtime from accessing the device model (",(0,a.kt)("inlineCode",{parentName:"p"},"android.os.Build.MODEL"),"). Default is ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," and should be set to ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," if this ",(0,a.kt)("inlineCode",{parentName:"p"},"MODEL")," property access should not be made."),(0,a.kt)("h3",{id:"disablesensoraccess"},(0,a.kt)("inlineCode",{parentName:"h3"},"disableSensorAccess")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 50.1.1.1"),(0,a.kt)("p",null,"This goes beyond the above privacy setting, to completely disable the access of sensor hardware APIs including input mechanisms, orientation sensors, and telephony services.\nNote that this value can be overriden by adding a file into the application's app storage folder, see release notes for further details."),(0,a.kt)("p",null,"The default value is ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),", and should be set to ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," if required by privacy controls."),(0,a.kt)("h3",{id:"runtimeinbackgroundthread"},(0,a.kt)("inlineCode",{parentName:"h3"},"runtimeInBackgroundThread")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 50.2.1.1"),(0,a.kt)("p",null,"If ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),", this causes the AIR runtime to be launched in a separate, background thread rather than in the main Android UI thread. This should help prevent ANR (Application Not Responding) issues, but may require some updates in other Android Java code (i.e. from AIR Native Extensions that may need some of their code to run on the UI thread). Default is ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,a.kt)("h3",{id:"storageaccessframeworkfromapi"},(0,a.kt)("inlineCode",{parentName:"h3"},"storageAccessFrameworkFromAPI")),(0,a.kt)("p",null,"(optional)"),(0,a.kt)("p",null,"Available: 50.2.1.1"),(0,a.kt)("p",null,"This changes how the ActionScript ",(0,a.kt)("inlineCode",{parentName:"p"},"File.browse...")," methods work, and the file-based permission handling, due to changes in the Android file system security.\nThe default value here is ",(0,a.kt)("inlineCode",{parentName:"p"},"30")," which equates to Android R (11.0). From this version and beyond, the ",(0,a.kt)("inlineCode",{parentName:"p"},"File")," browse methods will use the Storage Access Framework and\nlaunch the standard system intents to browse for opening and saving files or to select a folder. Permissions are then automatically granted and persisted for the selected files/folder."),(0,a.kt)("p",null,"To switch to this mechanism from earlier versions of Android, the value can be changed to the appropriate API level, or to ensure this doesn't change behaviour yet, the value can be set much higher."))}u.isMDXComponent=!0}}]);