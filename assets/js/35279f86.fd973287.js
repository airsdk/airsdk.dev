"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[18693],{14717:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"development/html-content-in-air/about-the-html-environment/html-in-air","title":"HTML in AIR","description":"AIR and WebKit define a couple of non-standard HTML elements and attributes,","source":"@site/docs/development/html-content-in-air/about-the-html-environment/html-in-air.md","sourceDirName":"development/html-content-in-air/about-the-html-environment","slug":"/development/html-content-in-air/about-the-html-environment/html-in-air","permalink":"/docs/development/html-content-in-air/about-the-html-environment/html-in-air","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/html-content-in-air/about-the-html-environment/html-in-air.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"CSS in AIR","permalink":"/docs/development/html-content-in-air/about-the-html-environment/css-in-air"},"next":{"title":"JavaScript in AIR","permalink":"/docs/development/html-content-in-air/about-the-html-environment/javascript-in-air"}}');var a=t(74848),o=t(28453);const d={},r="HTML in AIR",s={},l=[{value:"HTML frame and iframe elements",id:"html-frame-and-iframe-elements",level:2},{value:"HTML element event handlers",id:"html-element-event-handlers",level:2},{value:"HTML contentEditable attribute",id:"html-contenteditable-attribute",level:2},{value:"Data: URLs",id:"data-urls",level:2}];function c(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"html-in-air",children:"HTML in AIR"})}),"\n",(0,a.jsx)(n.p,{children:"AIR and WebKit define a couple of non-standard HTML elements and attributes,\nincluding:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"#html-frame-and-iframe-elements",children:"HTML frame and iframe elements"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"#html-element-event-handlers",children:"HTML element event handlers"})}),"\n",(0,a.jsx)(n.h2,{id:"html-frame-and-iframe-elements",children:"HTML frame and iframe elements"}),"\n",(0,a.jsx)(n.p,{children:"AIR adds new attributes to the frame and iframe elements of content in the\napplication sandbox:"}),"\n",(0,a.jsxs)(n.p,{children:["sandboxRoot attribute",(0,a.jsx)(n.br,{}),"\n","The ",(0,a.jsx)(n.code,{children:"sandboxRoot"})," attribute specifies an alternate, non-application domain of\norigin for the file specified by the frame ",(0,a.jsx)(n.code,{children:"src"})," attribute. The file is loaded\ninto the non-application sandbox corresponding to the specified domain. Content\nin the file and content loaded from the specified domain can cross-script each\nother."]}),"\n",(0,a.jsxs)(n.p,{children:["Important: If you set the value of ",(0,a.jsx)(n.code,{children:"sandboxRoot"})," ",(0,a.jsx)(n.em,{children:"to the base URL of the domain,\nall requests for content from that domain are loaded from the application\ndirectory instead of the remote server (whether that request results from page\nnavigation, from an XMLHttpRequest, or from any other means of loading\ncontent)."})]}),"\n",(0,a.jsxs)(n.p,{children:["documentRoot attribute",(0,a.jsx)(n.br,{}),"\n","The ",(0,a.jsx)(n.code,{children:"documentRoot"})," attribute specifies the local directory from which to load\nURLs that resolve to files within the location specified by ",(0,a.jsx)(n.code,{children:"sandboxRoot"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["When resolving URLs, either in the frame ",(0,a.jsx)(n.code,{children:"src"})," attribute, or in content loaded\ninto the frame, the part of the URL matching the value specified in\n",(0,a.jsx)(n.code,{children:"sandboxRoot"})," is replaced with the value specified in ",(0,a.jsx)(n.code,{children:"documentRoot"}),". Thus, in\nthe following frame tag:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'<iframe src="http://www.example.com/air/child.html"\n'})}),"\n",(0,a.jsxs)(n.p,{children:['documentRoot="app:/sandbox/"\nsandboxRoot="',(0,a.jsx)(n.a,{href:"http://www.example.com/air/%22/%3E",children:'http://www.example.com/air/"/>'})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"child.html"})," is loaded from the ",(0,a.jsx)(n.code,{children:"sandbox"})," subdirectory of the application\ninstallation folder. Relative URLs in ",(0,a.jsx)(n.code,{children:"child.html"})," are resolved based on\n",(0,a.jsx)(n.code,{children:"sandbox"})," directory. Note that any files on the remote server at\n",(0,a.jsx)(n.code,{children:"www.example.com/air"})," are not accessible in the frame, since AIR would attempt\nto load them from the app:/sandbox/ directory."]}),"\n",(0,a.jsxs)(n.p,{children:["allowCrossDomainXHR attribute",(0,a.jsx)(n.br,{}),"\n","Include ",(0,a.jsx)(n.code,{children:'allowCrossDomainXHR="allowCrossDomainXHR"'})," in the opening frame tag to\nallow content in the frame to make XMLHttpRequests to any remote domain. By\ndefault, non-application content can only make such requests to its own domain\nof origin. There are serious security implications involved in allowing\ncross-domain XHRs. Code in the page is able to exchange data with any domain. If\nmalicious content is somehow injected into the page, any data accessible to code\nin the current sandbox can be compromised. Only enable cross-domain XHRs for\npages that you create and control and only when cross-domain data loading is\ntruly necessary. Also, carefully validate all external data loaded by the page\nto prevent code injection or other forms of attack."]}),"\n",(0,a.jsxs)(n.p,{children:["Important: If the ",(0,a.jsx)(n.code,{children:"allowCrossDomainXHR"}),' attribute is included in a frame or\niframe element, cross-domain XHRs are enabled (unless the value assigned is "0"\nor starts with the letters "f" or "n"). For example, setting\n',(0,a.jsx)(n.code,{children:"allowCrossDomainXHR"}),' to " ',(0,a.jsx)(n.code,{children:'deny"'})," ",(0,a.jsx)(n.em,{children:"would still enable cross-domain XHRs. Leave\nthe attribute out of the element declaration altogether if you do not want to\nenable cross-domain requests."})]}),"\n",(0,a.jsxs)(n.p,{children:["ondominitialize attribute",(0,a.jsx)(n.br,{}),"\n","Specifies an event handler for the ",(0,a.jsx)(n.code,{children:"dominitialize"})," event of a frame. This event\nis an AIR-specific event that fires when the window and document objects of the\nframe have been created, but before any scripts have been parsed or document\nelements created."]}),"\n",(0,a.jsxs)(n.p,{children:["The frame dispatches the ",(0,a.jsx)(n.code,{children:"dominitialize"})," event early enough in the loading\nsequence that any script in the child page can reference objects, variables, and\nfunctions added to the child document by the ",(0,a.jsx)(n.code,{children:"dominitialize"})," handler. The parent\npage must be in the same sandbox as the child to directly add or access any\nobjects in a child document. However, a parent in the application sandbox can\nestablish a sandbox bridge to communicate with content in a non-application\nsandbox."]}),"\n",(0,a.jsx)(n.p,{children:"The following examples illustrate use of the iframe tag in AIR:"}),"\n",(0,a.jsxs)(n.p,{children:["Place ",(0,a.jsx)(n.code,{children:"child.html"})," in a remote sandbox, without mapping to an actual domain on a\nremote server:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'<iframe src="http://localhost/air/child.html"\n'})}),"\n",(0,a.jsxs)(n.p,{children:['documentRoot="app:/sandbox/"\nsandboxRoot="',(0,a.jsx)(n.a,{href:"http://localhost/air/%22/%3E",children:'http://localhost/air/"/>'})]}),"\n",(0,a.jsxs)(n.p,{children:["Place ",(0,a.jsx)(n.code,{children:"child.html"})," in a remote sandbox, allowing XMLHttpRequests only to\n",(0,a.jsx)(n.code,{children:"www.example.com"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'<iframe src="http://www.example.com/air/child.html"\n'})}),"\n",(0,a.jsxs)(n.p,{children:['documentRoot="app:/sandbox/"\nsandboxRoot="',(0,a.jsx)(n.a,{href:"http://www.example.com/air/%22/%3E",children:'http://www.example.com/air/"/>'})]}),"\n",(0,a.jsxs)(n.p,{children:["Place ",(0,a.jsx)(n.code,{children:"child.html"})," in a remote sandbox, allowing XMLHttpRequests to any remote\ndomain:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'<iframe src="http://www.example.com/air/child.html"\n'})}),"\n",(0,a.jsxs)(n.p,{children:['documentRoot="app:/sandbox/"\nsandboxRoot="',(0,a.jsx)(n.a,{href:"http://www.example.com/air/",children:"http://www.example.com/air/"}),'"\nallowCrossDomainXHR="allowCrossDomainXHR"/>']}),"\n",(0,a.jsxs)(n.p,{children:["Place ",(0,a.jsx)(n.code,{children:"child.html"})," in a local-with-file-system sandbox:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'<iframe src="file:///templates/child.html"\n'})}),"\n",(0,a.jsx)(n.p,{children:'documentRoot="app:/sandbox/"\nsandboxRoot="app-storage:/templates/"/>'}),"\n",(0,a.jsxs)(n.p,{children:["Place ",(0,a.jsx)(n.code,{children:"child.html"})," in a remote sandbox, using the ",(0,a.jsx)(n.code,{children:"dominitialize"})," event to\nestablish a sandbox bridge:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'<html>\n<head>\n\t<script>\n\t\tvar bridgeInterface = {};\n\t\tbridgeInterface.testProperty = "Bridge engaged";\n\t\tfunction engageBridge(){\n\t\t\tdocument.getElementById("sandbox").parentSandboxBridge = bridgeInterface;\n\t\t}\n\t<\/script>\n</head>\n<body>\n\t<iframe id="sandbox"\n\t\t\tsrc="http://www.example.com/air/child.html"\n\t\t\tdocumentRoot="app:/"\n\t\t\tsandboxRoot="http://www.example.com/air/"\n\t\t\tondominitialize="engageBridge()"/>\n</body>\n</html>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["The following ",(0,a.jsx)(n.code,{children:"child.html"})," document illustrates how child content can access the\nparent sandbox bridge:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"<html>\n<head>\n"})}),"\n",(0,a.jsx)("script",{children:(0,a.jsx)(n.p,{children:"document.write(window.parentSandboxBridge.testProperty);"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"</head>\n<body></body>\n</html>\n"})}),"\n",(0,a.jsxs)(n.p,{children:["For more information, see\n",(0,a.jsx)(n.a,{href:"/docs/development/html-content-in-air/programming-html-and-javascript-in-air/cross-scripting-content-in-different-security-sandboxes",children:"Cross-scripting content in different security sandboxes"}),"\nand\n",(0,a.jsx)(n.a,{href:"/docs/development/security/air-security/html-security-in-adobe-air",children:"HTML security in Adobe AIR"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"html-element-event-handlers",children:"HTML element event handlers"}),"\n",(0,a.jsx)(n.p,{children:"DOM objects in AIR and WebKit dispatch some events not found in the standard DOM\nevent model. The following table lists the related event attributes you can use\nto specify handlers for these events:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Callback attribute name"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"oncontextmenu"}),(0,a.jsx)(n.td,{children:"Called when a context menu is invoked, such as through a right-click or command-click on selected text."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"oncopy"}),(0,a.jsx)(n.td,{children:"Called when a selection in an element is copied."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"oncut"}),(0,a.jsx)(n.td,{children:"Called when a selection in an element is cut."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ondominitialize"}),(0,a.jsx)(n.td,{children:"Called when the DOM of a document loaded in a frame or iframe is created, but before any DOM elements are created or scripts parsed."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ondrag"}),(0,a.jsx)(n.td,{children:"Called when an element is dragged."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ondragend"}),(0,a.jsx)(n.td,{children:"Called when a drag is released."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ondragenter"}),(0,a.jsx)(n.td,{children:"Called when a drag gesture enters the bounds of an element."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ondragleave"}),(0,a.jsx)(n.td,{children:"Called when a drag gesture leaves the bounds of an element."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ondragover"}),(0,a.jsx)(n.td,{children:"Called continuously while a drag gesture is within the bounds of an element."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ondragstart"}),(0,a.jsx)(n.td,{children:"Called when a drag gesture begins."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ondrop"}),(0,a.jsx)(n.td,{children:"Called when a drag gesture is released while over an element."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"onerror"}),(0,a.jsx)(n.td,{children:"Called when an error occurs while loading an element."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"oninput"}),(0,a.jsx)(n.td,{children:"Called when text is entered into a form element."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"onpaste"}),(0,a.jsx)(n.td,{children:"Called when an item is pasted into an element."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"onscroll"}),(0,a.jsx)(n.td,{children:"Called when the content of a scrollable element is scrolled."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"onselectstart"}),(0,a.jsx)(n.td,{children:"Called when a selection begins."})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"html-contenteditable-attribute",children:"HTML contentEditable attribute"}),"\n",(0,a.jsxs)(n.p,{children:["You can add the ",(0,a.jsx)(n.code,{children:"contentEditable"})," attribute to any HTML element to allow users\nto edit the content of the element. For example, the following example HTML code\nsets the entire document as editable, except for first ",(0,a.jsx)(n.code,{children:"p"})," element:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'<html>\n<head/>\n<body contentEditable="true">\n\t<h1>de Finibus Bonorum et Malorum</h1>\n\t<p contentEditable="false">Sed ut perspiciatis unde omnis iste natus error.</p>\n\t<p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis.</p>\n</body>\n</html>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Note: If you set the ",(0,a.jsx)(n.code,{children:"document.designMode"})," property to ",(0,a.jsx)(n.code,{children:"on"}),", then all elements\nin the document are editable, regardless of the setting of ",(0,a.jsx)(n.code,{children:"contentEditable"})," for\nan individual element. However, setting ",(0,a.jsx)(n.code,{children:"designMode"})," to ",(0,a.jsx)(n.code,{children:"off"}),", does not disable\nediting of elements for which ",(0,a.jsx)(n.code,{children:"contentEditable"})," is ",(0,a.jsx)(n.code,{children:"true"}),". See\n",(0,a.jsx)(n.a,{href:"/docs/development/html-content-in-air/about-the-html-environment/javascript-in-air#documentdesignmode-property",children:"Document.designMode property"}),"\nfor additional information."]}),"\n",(0,a.jsx)(n.h2,{id:"data-urls",children:"Data: URLs"}),"\n",(0,a.jsxs)(n.p,{children:["AIR supports ",(0,a.jsx)(n.code,{children:"data:"})," URLs for the following elements:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"img"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:'input type="image"'}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"CSS rules allowing images (such as background-image)"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Data URLs allow you to insert binary image data directly into a CSS or HTML\ndocument as a base64-encoded string. The following example uses a data: URL as a\nrepeating background:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"<html>\n<head>\n\t<style>\n\t\tbody {\n\t\t\tbackground-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF%2F6cA%2F%2F%2F%2Fgxp3lwAAAAJ0Uk5T%2FwDltzBKAAABF0lEQVR42uzZQQ7CMAxE0e%2F7X5oNCyRocWzPiJbMBZ6qpIljE%2BnwklgKG7kwUjc2IkIaxkY0CPdEsCCasws6ShXBgmBBmEagpXQQLAgWBAuSY2gaKaWPYEGwIEwg0FRmECwIFoQeQjJlhJWUEFazjFDJCkI5WYRWMgjtfEGYyQnCXD4jTCdm1zmngFpBFznwVNi5RPSbwbWnpYr%2BBHi%2FtCTfgPLEPL7jBctAKBRptXJ8M%2BprIuZKu%2BUKcg4YK1PLz7kx4bSqHyPaT4d%2B28OCJJiRBo4FCQsSA0bziT3XubMgYUG6fc5fatmGBQkL0hoJ1IaZMiQsSFiQ8vRscTjlQOI2iHZwtpHuf%2BJAYiOiJSkj8Z%2FIQ4ABANvXGLd3%2BZMrAAAAAElFTkSuQmCC');\n\t\t\tbackground-repeat:repeat;\n\t\t}\n\t</style>\n</head>\n<body>\n</body>\n</html>\n"})}),"\n",(0,a.jsx)(n.p,{children:"When using data: URLS, be aware that extra whitespace is significant. For\nexample, the data string must be entered as a single, unbroken line. Otherwise,\nthe line breaks are treated as part of the data and the image cannot be decoded."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>r});var i=t(96540);const a={},o=i.createContext(a);function d(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);