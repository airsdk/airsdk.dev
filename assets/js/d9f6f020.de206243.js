"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[86154],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var a=i(96540);const t={},s=a.createContext(t);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),a.createElement(s.Provider,{value:n},e.children)}},52936:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/Planes_popup-847ac0c2dc6f921e08cf7803cf95ec95.png"},70955:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"development/rich-media-content/working-with-video/about-hardware-acceleration-using-stagevideo","title":"About hardware acceleration using StageVideo","description":"Hardware accelerated presentation\u2014which includes video scaling, color","source":"@site/docs/development/rich-media-content/working-with-video/about-hardware-acceleration-using-stagevideo.md","sourceDirName":"development/rich-media-content/working-with-video","slug":"/development/rich-media-content/working-with-video/about-hardware-acceleration-using-stagevideo","permalink":"/docs/development/rich-media-content/working-with-video/about-hardware-acceleration-using-stagevideo","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/rich-media-content/working-with-video/about-hardware-acceleration-using-stagevideo.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Using the StageVideo class for hardware accelerated presentation","permalink":"/docs/development/rich-media-content/working-with-video/using-the-stagevideo-class"},"next":{"title":"Detecting player domain","permalink":"/docs/development/rich-media-content/working-with-video/detecting-player-domain"}}');var t=i(74848),s=i(28453);const o={},r="About hardware acceleration using StageVideo",d={},l=[{value:"Parallel planes: Stage video and the Flash display list",id:"parallel-planes-stage-video-and-the-flash-display-list",level:2},{value:"Stage video and H.264 codec",id:"stage-video-and-h264-codec",level:2},{value:"Guidelines and limitations",id:"guidelines-and-limitations",level:2}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"about-hardware-acceleration-using-stagevideo",children:"About hardware acceleration using StageVideo"})}),"\n",(0,t.jsx)(n.p,{children:"Hardware accelerated presentation\u2014which includes video scaling, color\nconversion, and blitting\u2014enhances the performance benefits of hardware\naccelerated decoding. On devices that offer GPU (hardware) acceleration, you can\nuse a flash.media.StageVideo object to process video directly on the device\nhardware. Direct processing frees the CPU to perform other tasks while the GPU\nhandles video. The legacy Video class, on the other hand, typically uses\nsoftware presentation. Software presentation occurs in the CPU and can consume a\nsignificant share of system resources."}),"\n",(0,t.jsx)(n.p,{children:"Currently, few devices provide full GPU acceleration. However, stage video lets\napplications take maximum advantage of whatever hardware acceleration is\navailable."}),"\n",(0,t.jsx)(n.p,{children:"The StageVideo class does not make the Video class obsolete. Working together,\nthese two classes provide the optimal video display experience allowed by device\nresources at any given time. Your application takes advantage of hardware\nacceleration by listening to the appropriate events and switching between\nStageVideo and Video as necessary."}),"\n",(0,t.jsxs)(n.p,{children:["The StageVideo class imposes certain restrictions on video usage. Before\nimplementing StageVideo, review the guidelines and make sure your application\ncan accept them. If you accept the restrictions, use the StageVideo class\nwhenever Flash Player detects that hardware accelerated presentation is\navailable. See ",(0,t.jsx)(n.a,{href:"#guidelines-and-limitations",children:"Guidelines and limitations"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"parallel-planes-stage-video-and-the-flash-display-list",children:"Parallel planes: Stage video and the Flash display list"}),"\n",(0,t.jsx)(n.p,{children:"With the stage video model, Flash Player can separate video from the display\nlist. Flash Player divides the composite display between two Z-ordered planes:"}),"\n",(0,t.jsxs)(n.p,{children:["Stage video plane",(0,t.jsx)(n.br,{}),"\n","The stage video plane sits in the background. It displays only hardware\naccelerated video. Because of this design, this plane is not available if\nhardware acceleration is not supported or not available on the device. In\nActionScript, StageVideo objects handle videos played on the stage video plane."]}),"\n",(0,t.jsxs)(n.p,{children:["Flash display list plane",(0,t.jsx)(n.br,{}),"\n","Flash display list entities are composited on a plane in front of the stage\nvideo plane. Display list entities include anything that the runtime renders,\nincluding playback controls. When hardware acceleration is not available, videos\ncan be played only on this plane, using the Video class object. Stage video\nalways displays behind Flash display list graphics."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(52936).A+"",width:"499",height:"505"})}),"\n",(0,t.jsx)(n.p,{children:"Video display planes"}),"\n",(0,t.jsx)(n.p,{children:"The StageVideo object appears in a non-rotated, window-aligned rectangular\nregion of the screen. You cannot layer objects behind the stage video plane.\nHowever, you can use the Flash display list plane to layer other graphics on top\nof the stage video plane. Stage video runs concurrently with the display list.\nThus, you can use the two mechanisms together to create a unified visual effect\nthat uses two discreet planes. For example, you can use the front plane for\nplayback controls that operate on the stage video running in the background."}),"\n",(0,t.jsx)(n.h2,{id:"stage-video-and-h264-codec",children:"Stage video and H.264 codec"}),"\n",(0,t.jsx)(n.p,{children:"In Flash Player applications, implementing video hardware acceleration involves\ntwo steps:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Encoding the video as H.264"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Implementing the StageVideo API"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For best results, perform both steps. The H.264 codec lets you take maximum\nadvantage of hardware acceleration, from video decoding to presentation."}),"\n",(0,t.jsx)(n.p,{children:"Stage video eliminates GPU-to-CPU read-back. In other words, the GPU no longer\nsends decoded frames back to the CPU for compositing with display list objects.\nInstead, the GPU blits decoded and rendered frames directly to the screen,\nbehind the display list objects. This technique reduces CPU and memory usage and\nalso provides better pixel fidelity."}),"\n",(0,t.jsx)(n.h2,{id:"guidelines-and-limitations",children:"Guidelines and limitations"}),"\n",(0,t.jsxs)(n.p,{children:["When video is running in full screen mode, stage video is always available if\nthe device supports hardware acceleration. Flash Player, however, also runs\nwithin a browser. In the browser context, the ",(0,t.jsx)(n.code,{children:"wmode"})," setting affects stage\nvideo availability. Try to use ",(0,t.jsx)(n.code,{children:'wmode="direct"'})," at all times if you want to use\nstage video. Stage video is not compatible with other ",(0,t.jsx)(n.code,{children:"wmode"})," settings when not\nin full screen mode. This restriction means that, at run time, stage video can\nvacillate unpredictably between being available and unavailable. For example, if\nthe user exits full screen mode while stage video is running, the video context\nreverts to the browser. If the browser ",(0,t.jsx)(n.code,{children:"wmode"})," parameter is not set to\n",(0,t.jsx)(n.code,{children:'"direct"'}),", stage video can suddenly become unavailable. Flash Player\ncommunicates playback context changes to applications through a set of events.\nIf you implement the StageVideo API, maintain a Video object as a backup when\nstage video becomes unavailable."]}),"\n",(0,t.jsx)(n.p,{children:"Because of its direct relationship to hardware, stage video restricts some video\nfeatures. Stage video enforces the following constraints:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"For each SWF file, Flash Player limits the number of StageVideo objects that\ncan concurrently display videos to four. However, the actual limit can be\nlower, depending on device hardware resources."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The video timing is not synchronized with the timing of content that the\nruntime displays."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The video display area can only be a rectangle. You cannot use more advanced\ndisplay areas, such as elliptical or irregular shapes."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"You cannot rotate the video."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"You cannot bitmap cache the video or use BitmapData object to access it."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"You cannot apply filters to the video."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"You cannot apply color transforms to the video."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"You cannot apply an alpha value to the video."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Blend modes that you apply to objects in the display list plane do not apply\nto stage video."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"You can place the video only on full pixel boundaries."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'Though GPU rendering is the best available for the given device hardware, it\nis not 100% "pixel identical" across devices. Slight variations occur due to\ndriver and platform differences.'}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"A few devices do not support all required color spaces. For example, some\ndevices do not support BT.709, the H.264 standard. In such cases, you can use\nBT.601 for fast display."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["You cannot use stage video with WMODE settings such as normal, opaque, or\ntransparent. Stage video supports only ",(0,t.jsx)(n.code,{children:"WMODE=direct"})," when not in full screen\nmode. WMODE has no effect in Safari 4 or higher and IE 9 or higher."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"In most cases, these limitations do not affect video player applications. If you\ncan accept these limitations, use stage video whenever possible."}),"\n",(0,t.jsx)(n.p,{children:"More Help topics"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/docs/development/rich-media-content/working-with-video/understanding-video-formats",children:"Understanding video formats"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/docs/development/display/display-programming/working-with-display-objects/setting-stage-properties#working-with-full-screen-mode",children:"Working with full-screen mode"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);