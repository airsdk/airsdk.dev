"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[51199],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>f});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(a),m=o,f=p["".concat(s,".").concat(m)]||p[m]||u[m]||i;return a?n.createElement(f,r(r({ref:t},d),{},{components:a})):n.createElement(f,r({ref:t},d))}));function f(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:o,r[1]=l;for(var c=2;c<i;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},84853:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=a(87462),o=(a(67294),a(3905));const i={title:"encryptedLocalStorage",sidebar_position:4},r=void 0,l={unversionedId:"building/application-descriptor-files/elements/encryptedLocalStorage",id:"building/application-descriptor-files/elements/encryptedLocalStorage",title:"encryptedLocalStorage",description:"The encryptedLocalStorage element provides details about how the AIR runtime should handle some of the features and mechanisms used for Encrypted Local Storage.",source:"@site/docs/building/application-descriptor-files/elements/encryptedLocalStorage.md",sourceDirName:"building/application-descriptor-files/elements",slug:"/building/application-descriptor-files/elements/encryptedLocalStorage",permalink:"/docs/building/application-descriptor-files/elements/encryptedLocalStorage",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/building/application-descriptor-files/elements/encryptedLocalStorage.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"encryptedLocalStorage",sidebar_position:4},sidebar:"mainSidebar",previous:{title:"initialWindow",permalink:"/docs/building/application-descriptor-files/elements/initialWindow"},next:{title:"iPhone",permalink:"/docs/building/application-descriptor-files/elements/iPhone"}},s={},c=[{value:"Example",id:"example",level:4},{value:"<code>fallbackMode</code>",id:"fallbackmode",level:3},{value:"<code>storageMode</code>",id:"storagemode",level:3}],d={toc:c},p="wrapper";function u(e){let{components:t,...a}=e;return(0,o.kt)(p,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"encryptedLocalStorage")," element provides details about how the AIR runtime should handle some of the features and mechanisms used for Encrypted Local Storage."),(0,o.kt)("p",null,"This provides a mechanism for applications to store sensitive details for a user, in a way that cannot be accessed by other users - or by other applications, without the user being complicit."),(0,o.kt)("p",null,"Note that the user - or an administrator - may be able to get information from which to decrypt some of the data, so this is not 100% secure, but is intended to limit programmatic access only to the intended user."),(0,o.kt)("p",null,"This element, and its contents, are all optional. Default values are defined below."),(0,o.kt)("h4",{id:"example"},"Example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<encryptedLocalStorage> \n    <fallbackMode>once</fallbackMode> \n    <storageMode>file</storageMode> \n</encryptedLocalStorage>\n")),(0,o.kt)("h3",{id:"fallbackmode"},(0,o.kt)("inlineCode",{parentName:"h3"},"fallbackMode")),(0,o.kt)("p",null,"The value specified for the fallback mode may be ",(0,o.kt)("inlineCode",{parentName:"p"},"never"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"always"),", or ",(0,o.kt)("inlineCode",{parentName:"p"},"once"),"."),(0,o.kt)("p",null,"Fallback is used if the application calls ",(0,o.kt)("inlineCode",{parentName:"p"},"getItem")," on an encrypted local store, and the requested item is not found in the new (AIR 51) ELS storage location."),(0,o.kt)("p",null,"It is also invoked when an element is removed (to remove it from the fallback store location as well as the new ELS storage), and when an item is set (it is removed from the fallback store whilst being set in the new ELS storage)."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"always")," (default) - the fallback location is always checked if a data request could not be found from the newer ELS storage location."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"never")," - the fallback location is never invoked. Data that may have been stored by versions of the application that used earlier AIR SDK versions will not be accessible."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"once")," - the fallback location is available during the first run of an application that uses ELS functions. So for example this could be used to migrate data from the fallback store location to the new ELS storage.")),(0,o.kt)("p",null,"Once an application has been closed and the new ELS data written, any application with ",(0,o.kt)("inlineCode",{parentName:"p"},"once")," as the fallback mode will no longer be able to read from the fallback storage."),(0,o.kt)("h3",{id:"storagemode"},(0,o.kt)("inlineCode",{parentName:"h3"},"storageMode")),(0,o.kt)("p",null,"The value specified for the storage mode may be ",(0,o.kt)("inlineCode",{parentName:"p"},"os_store")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"file"),"."),(0,o.kt)("p",null,"Storage mode refers to how the ELS system stores the user-specific encryption key that is used when securing the application data. It does not change the mechanisms used for the ELS data store itself: the latest mechanism is always chosen when writing new data."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"os_store")," (default) \u2014 the ELS key is stored in operating system specific secure storage. This uses different mechanisms - Windows Credential Manager, MacOS KeyChain storage, Linux LibSecret, Android private mode storage."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"file")," - the ELS key is stored in a file in a user-private location on the file system. Generally this will be in the user's private application storage folders but the paths may vary.")),(0,o.kt)("p",null,"One of the reasons for using ",(0,o.kt)("inlineCode",{parentName:"p"},"file")," storage is to eliminate any possibility that the OS-specific key storage mechanism could prompt for user input unexpectedly, which can lead to unnecessary confusion."))}u.isMDXComponent=!0}}]);