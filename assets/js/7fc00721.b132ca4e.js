"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[88265],{28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(96540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}},95287:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"development/core-actionscript-classes/working-with-xml/traversing-xml-structures","title":"Traversing XML structures","description":"One of the powerful features of XML is its ability to provide complex, nested data via a linear string of text characters. When you load data into an XML object, ActionScript parses the data and loads its hierarchical structure into memory (or it sends a run-time error if the XML data is not well formed).","source":"@site/docs/development/core-actionscript-classes/working-with-xml/traversing-xml-structures.md","sourceDirName":"development/core-actionscript-classes/working-with-xml","slug":"/development/core-actionscript-classes/working-with-xml/traversing-xml-structures","permalink":"/docs/development/core-actionscript-classes/working-with-xml/traversing-xml-structures","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/core-actionscript-classes/working-with-xml/traversing-xml-structures.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Traversing XML structures","sidebar_position":8},"sidebar":"mainSidebar","previous":{"title":"Assembling and transforming XML objects","permalink":"/docs/development/core-actionscript-classes/working-with-xml/assembling-and-transforming-xml-objects"},"next":{"title":"Using XML namespaces","permalink":"/docs/development/core-actionscript-classes/working-with-xml/using-xml-namespaces"}}');var o=n(74848),s=n(28453);const r={title:"Traversing XML structures",sidebar_position:8},a=void 0,c={},l=[{value:"Accessing parent and child nodes",id:"accessing-parent-and-child-nodes",level:2},{value:"Accessing attributes",id:"accessing-attributes",level:2},{value:"Filtering by attribute or element value",id:"filtering-by-attribute-or-element-value",level:2},{value:"Using the for..in and the for each..in statements",id:"using-the-forin-and-the-for-eachin-statements",level:2}];function d(e){const t={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"One of the powerful features of XML is its ability to provide complex, nested data via a linear string of text characters. When you load data into an XML object, ActionScript parses the data and loads its hierarchical structure into memory (or it sends a run-time error if the XML data is not well formed)."}),"\n",(0,o.jsxs)(t.p,{children:["The operators and methods of the ",(0,o.jsx)(t.code,{children:"XML"})," and ",(0,o.jsx)(t.code,{children:"XMLList"})," objects make it easy to traverse the structure of XML data."]}),"\n",(0,o.jsx)(t.p,{children:"Use the dot (.) operator and the descendent accessor (..) operator to access child properties of an XML object. Consider the following XML object:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'var myXML:XML =\n<order>\n    <book ISBN="0942407296">\n        <title>Baking Extravagant Pastries with Kumquats</title>\n        <author>\n            <lastName>Contino</lastName>\n            <firstName>Chuck</firstName>\n        </author>\n        <pageCount>238</pageCount>\n    </book>\n    <book ISBN="0865436401">\n        <title>Emu Care and Breeding</title>\n        <editor>\n            <lastName>Case</lastName>\n            <firstName>Justin</firstName>\n        </editor>\n        <pageCount>115</pageCount>\n    </book>\n</order>\n'})}),"\n",(0,o.jsxs)(t.p,{children:["The object ",(0,o.jsx)(t.code,{children:"myXML.book"})," is an ",(0,o.jsx)(t.code,{children:"XMLList"})," object containing child properties of the ",(0,o.jsx)(t.code,{children:"myXML"})," object that have the name book . These are two XML objects, matching the two book properties of the myXML object."]}),"\n",(0,o.jsxs)(t.p,{children:["The object ",(0,o.jsx)(t.code,{children:"myXML..lastName"})," is an ",(0,o.jsx)(t.code,{children:"XMLList"})," object containing any descendent properties with the name lastName . These are two XML objects, matching the two lastName of the myXML object."]}),"\n",(0,o.jsxs)(t.p,{children:["The object ",(0,o.jsx)(t.code,{children:"myXML.book.editor.lastName"})," is an ",(0,o.jsx)(t.code,{children:"XMLList"})," object containing any children with the name lastName of children with the name editor of children with the name book of the ",(0,o.jsx)(t.code,{children:"myXML"}),' object: in this case, an XMLList object containing only one XML object (the lastName property with the value " Case ").']}),"\n",(0,o.jsx)(t.h2,{id:"accessing-parent-and-child-nodes",children:"Accessing parent and child nodes"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"parent()"})," method returns the parent of an XML object."]}),"\n",(0,o.jsxs)(t.p,{children:["You can use the ordinal index values of a child list to access specific child objects. For example, consider an XML object ",(0,o.jsx)(t.code,{children:"myXML"})," that has two child properties named book . Each child property named book has an index number associated with it:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"myXML.book[0]\nmyXML.book[1]\n"})}),"\n",(0,o.jsx)(t.p,{children:"To access a specific grandchild, you can specify index numbers for both the child and grandchild names:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"myXML.book[0].title[0]\n"})}),"\n",(0,o.jsxs)(t.p,{children:["However, if there is only one child of ",(0,o.jsx)(t.code,{children:"x.book[0]"})," that has the name ",(0,o.jsx)(t.code,{children:"title"})," , you can omit the ",(0,o.jsx)(t.code,{children:"index"})," reference, as follows:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"myXML.book[0].title\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Similarly, if there is only one book child of the object ",(0,o.jsx)(t.code,{children:"x"})," , and if that child object has only one ",(0,o.jsx)(t.code,{children:"title"})," object, you can omit both ",(0,o.jsx)(t.code,{children:"index"})," references, like this:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"myXML.book.title\n"})}),"\n",(0,o.jsxs)(t.p,{children:["You can use the ",(0,o.jsx)(t.code,{children:"child()"})," method to navigate to children with names based on a variable or expression, as the following example shows:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'var myXML:XML =\n        <order>\n            <book>\n                <title>Dictionary</title>\n            </book>\n        </order>;\n\nvar childName:String = "book";\n\ntrace(myXML.child(childName).title) // output: Dictionary\n'})}),"\n",(0,o.jsx)(t.h2,{id:"accessing-attributes",children:"Accessing attributes"}),"\n",(0,o.jsxs)(t.p,{children:["Use the ",(0,o.jsx)(t.code,{children:"@"})," symbol (the attribute identifier operator) to access attributes in an ",(0,o.jsx)(t.code,{children:"XML"})," or ",(0,o.jsx)(t.code,{children:"XMLList"})," object, as shown in the following code:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'var employee:XML =\n    <employee id="6401" code="233">\n        <lastName>Wu</lastName>\n        <firstName>Erin</firstName>\n    </employee>;\n\ntrace(employee.@id); // 6401\n'})}),"\n",(0,o.jsxs)(t.p,{children:["You can use the ",(0,o.jsx)(t.code,{children:"* "}),"wildcard symbol with the ",(0,o.jsx)(t.code,{children:"@"})," symbol to access all attributes of an ",(0,o.jsx)(t.code,{children:"XML"})," or ",(0,o.jsx)(t.code,{children:"XMLList"})," object, as in the following code:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'var employee:XML =\n    <employee id="6401" code="233">\n        <lastName>Wu</lastName>\n        <firstName>Erin</firstName>\n    </employee>;\n\ntrace(employee.@*.toXMLString());\n// 6401\n// 233\n'})}),"\n",(0,o.jsxs)(t.p,{children:["You can use the ",(0,o.jsx)(t.code,{children:"attribute()"})," or ",(0,o.jsx)(t.code,{children:"attributes()"})," method to access a specific attribute or all attributes of an ",(0,o.jsx)(t.code,{children:"XML"})," or ",(0,o.jsx)(t.code,{children:"XMLList"})," object, as in the following code:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'var employee:XML =\n    <employee id="6401" code="233">\n        <lastName>Wu</lastName>\n        <firstName>Erin</firstName>\n    </employee>;\n\ntrace(employee.attribute("id")); // 6401\ntrace(employee.attribute("*").toXMLString());\n// 6401\n// 233\ntrace(employee.attributes().toXMLString());\n// 6401\n// 233\n'})}),"\n",(0,o.jsx)(t.p,{children:"Note that you can also use the following syntax to access attributes, as the following example shows:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'employee.attribute("id")\nemployee["@id"]\nemployee.@["id"]\n'})}),"\n",(0,o.jsxs)(t.p,{children:["These are each equivalent to ",(0,o.jsx)(t.code,{children:"employee.@id"})," . However, the syntax ",(0,o.jsx)(t.code,{children:"employee.@id"})," is the preferred approach."]}),"\n",(0,o.jsx)(t.h2,{id:"filtering-by-attribute-or-element-value",children:"Filtering by attribute or element value"}),"\n",(0,o.jsx)(t.p,{children:"You can use the parentheses operators \u2014 ( and ) \u2014 to filter elements with a specific element name or attribute value. Consider the following XML object:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:'var x:XML =\n    <employeeList>\n        <employee id="347">\n            <lastName>Zmed</lastName>\n            <firstName>Sue</firstName>\n            <position>Data analyst</position>\n        </employee>\n        <employee id="348">\n            <lastName>McGee</lastName>\n            <firstName>Chuck</firstName>\n            <position>Jr. data analyst</position>\n        </employee>\n    </employeeList>\n'})}),"\n",(0,o.jsx)(t.p,{children:"The following expressions are all valid:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:'x.employee.(lastName == "McGee")'})," \u2014 This is the second employee node."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:'x.employee.(lastName == "McGee").firstName'})," \u2014 This is the firstName property of the second employee node."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:'x.employee.(lastName == "McGee").@id'})," \u2014 This is the value of the id attribute of the second employee node."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"x.employee.(@id == 347)"})," \u2014 The first employee node."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"x.employee.(@id == 347).lastName"})," \u2014 This is the lastName property of the first employee node."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"x.employee.(@id > 300)"})," \u2014 This is an XMLList with both employee properties."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:'x.employee.(position.toString().search("analyst") > -1)'})," \u2014 This is an XMLList with both position properties."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["If you try to filter on attributes or elements that do not exist, an exception is thrown. For example, the final line of the following code generates an error, because there is no ",(0,o.jsx)(t.code,{children:"id"})," attribute in the second ",(0,o.jsx)(t.code,{children:"p"})," element:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"var doc:XML =\n            <body>\n                <p id='123'>Hello, <b>Bob</b>.</p>\n                <p>Hello.</p>\n            </body>;\ntrace(doc.p.(@id == '123'));\n"})}),"\n",(0,o.jsx)(t.p,{children:"Similarly, the final line of following code generates an error because there is no b property of the second p element:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"var doc:XML =\n            <body>\n                <p id='123'>Hello, <b>Bob</b>.</p>\n                <p>Hello.</p>\n            </body>;\ntrace(doc.p.(b == 'Bob'));\n"})}),"\n",(0,o.jsxs)(t.p,{children:["To avoid these errors, you can identify the properties that have the matching attributes or elements by using the ",(0,o.jsx)(t.code,{children:"attribute()"})," and ",(0,o.jsx)(t.code,{children:"elements()"})," methods, as in the following code:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"var doc:XML =\n            <body>\n                <p id='123'>Hello, <b>Bob</b>.</p>\n                <p>Hello.</p>\n            </body>;\ntrace(doc.p.(attribute('id') == '123'));\ntrace(doc.p.(elements('b') == 'Bob'));\n"})}),"\n",(0,o.jsxs)(t.p,{children:["You can also use the ",(0,o.jsx)(t.code,{children:"hasOwnProperty()"})," method, as in the following code:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"var doc:XML =\n            <body>\n                <p id='123'>Hello, <b>Bob</b>.</p>\n                <p>Hello.</p>\n            </body>;\ntrace(doc.p.(hasOwnProperty('@id') && @id == '123'));\ntrace(doc.p.(hasOwnProperty('b') && b == 'Bob'));\n"})}),"\n",(0,o.jsx)(t.h2,{id:"using-the-forin-and-the-for-eachin-statements",children:"Using the for..in and the for each..in statements"}),"\n",(0,o.jsxs)(t.p,{children:["ActionScript 3.0 includes the ",(0,o.jsx)(t.code,{children:"for..in"})," statement and the ",(0,o.jsx)(t.code,{children:"for each..in"})," statement for iterating through XMLList objects. For example, consider the following XML object, ",(0,o.jsx)(t.code,{children:"myXML"})," , and the XMLList object, ",(0,o.jsx)(t.code,{children:"myXML.item"})," . The XMLList object, ",(0,o.jsx)(t.code,{children:"myXML.item"}),", consists of the two ",(0,o.jsx)(t.code,{children:"item"})," nodes of the XML object."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"var myXML:XML =\n    <order>\n        <item id='1' quantity='2'>\n            <menuName>burger</menuName>\n            <price>3.95</price>\n        </item>\n        <item id='2' quantity='2'>\n            <menuName>fries</menuName>\n            <price>1.45</price>\n        </item>\n    </order>;\n"})}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"for..in"})," statement lets you iterate over a set of property names in an XMLList:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"var total:Number = 0;\nfor (var pname:String in myXML.item)\n{\n    total += myXML.item.@quantity[pname] * myXML.item.price[pname];\n}\n"})}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"for each..in"})," statement lets you iterate through the properties in the XMLList:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-actionscript",children:"var total2:Number = 0;\nfor each (var prop:XML in myXML.item)\n{\n    total2 += prop.@quantity * prop.price;\n}\n"})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);