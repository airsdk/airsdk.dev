"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[48805],{11934:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"development/security/security-sandboxes","title":"Security sandboxes","description":"Client computers can obtain individual files containing code, content, and data","source":"@site/docs/development/security/security-sandboxes.md","sourceDirName":"development/security","slug":"/development/security/security-sandboxes","permalink":"/docs/development/security/security-sandboxes","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/security/security-sandboxes.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"mainSidebar","previous":{"title":"Flash Platform security overview","permalink":"/docs/development/security/flash-platform-security-overview"},"next":{"title":"Permission controls","permalink":"/docs/development/security/permission-controls"}}');var o=t(74848),s=t(28453);const a={sidebar_position:2},r="Security sandboxes",l={},c=[{value:"Remote sandboxes",id:"remote-sandboxes",level:2},{value:"Local sandboxes",id:"local-sandboxes",level:2},{value:"The AIR application sandbox",id:"the-air-application-sandbox",level:2},{value:"Restrictions for JavaScript inside AIR",id:"restrictions-for-javascript-inside-air",level:2},{value:"Setting the sandbox type of local SWF files",id:"setting-the-sandbox-type-of-local-swf-files",level:2},{value:"Adobe Flash Professional",id:"adobe-flash-professional",level:4},{value:"Adobe Flex",id:"adobe-flex",level:4},{value:"The Security.sandboxType property",id:"the-securitysandboxtype-property",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"security-sandboxes",children:"Security sandboxes"})}),"\n",(0,o.jsx)(n.p,{children:"Client computers can obtain individual files containing code, content, and data\nfrom a number of sources, such as from external websites, from a local file\nsystem, or from an installed AIR application. The Flash Player and AIR runtimes\nindividually assign code files and other resources, such as shared objects,\nbitmaps, sounds, videos, and data files, to security sandboxes based on their\norigin when they are loaded. The following sections describe the rules, enforced\nby the runtimes, that govern what a code or content executing within a given\nsandbox can access."}),"\n",(0,o.jsxs)(n.p,{children:['For more information on Flash Player security, see the Flash Player Developer\nCenter topic "Security" at\n',(0,o.jsx)(n.a,{href:"https://web.archive.org/web/20150422111248/http://www.adobe.com/devnet/flashplayer/security.html",children:"www.adobe.com/go/devnet_security_en"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"remote-sandboxes",children:"Remote sandboxes"}),"\n",(0,o.jsxs)(n.p,{children:["The Flash Player and AIR runtimes classify assets (including SWF files) from the\nInternet in separate sandboxes that correspond to their domain of origin. For\nexample, assets loaded from ",(0,o.jsx)(n.em,{children:"example.com"})," will be placed into a different\nsecurity sandbox than assets loaded from ",(0,o.jsx)(n.em,{children:"foo.org"}),". By default, these files are\nauthorized to access any resources from their own server. Remote SWF files can\nbe allowed to access additional data from other domains by explicit website and\nauthor permissions, such as URL policy files and the ",(0,o.jsx)(n.code,{children:"Security.allowDomain()"}),"\nmethod. For details, see\n",(0,o.jsx)(n.a,{href:"/docs/development/security/permission-controls#website-controls-policy-files",children:"Website controls (policy files)"}),"\nand\n",(0,o.jsx)(n.a,{href:"/docs/development/security/permission-controls#author-developer-controls",children:"Author (developer) controls"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Remote SWF files cannot load any local files or resources."}),"\n",(0,o.jsxs)(n.p,{children:['For more information on Flash Player security, see the Flash Player Developer\nCenter topic "Security" at\n',(0,o.jsx)(n.a,{href:"https://web.archive.org/web/20150422111248/http://www.adobe.com/devnet/flashplayer/security.html",children:"www.adobe.com/go/devnet_security_en"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"local-sandboxes",children:"Local sandboxes"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.em,{children:"Local file"})," describes any file that is referenced by using the ",(0,o.jsx)(n.code,{children:"file:"})," protocol\nor a Universal Naming Convention (UNC) path. Local SWF files are placed into one\nof four local sandboxes:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"The local-with-filesystem sandbox\u2014For security purposes, the Flash Player and\nAIR runtimes place all local files in the local-with-file-system sandbox, by\ndefault. From this sandbox, executable code can read local files (by using the\nURLLoader class, for example), but cannot communicate with the network in any\nway. This assures the user that local data cannot be leaked out to the network\nor otherwise inappropriately shared."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The local-with-networking sandbox\u2014When compiling a SWF file, you can specify\nthat it has network access when run as a local file (see\n",(0,o.jsx)(n.a,{href:"#setting-the-sandbox-type-of-local-swf-files",children:"Setting the sandbox type of local SWF files"}),").These\nfiles are placed in the local-with-networking sandbox. SWF files that are\nassigned to the local-with-networking sandbox forfeit their local file access.\nIn return, the SWF files are allowed to access data from the network. However,\na local-with-networking SWF file is still not allowed to read any\nnetwork-derived data unless permissions are present for that action, through a\nURL policy file or a call to the ",(0,o.jsx)(n.code,{children:"Security.allowDomain()"})," method. In order to\ngrant such permission, a URL policy file must grant permission to ",(0,o.jsx)(n.em,{children:"all"}),"\ndomains by using ",(0,o.jsx)(n.code,{children:'<allow-access-from domain="*"/>'})," or by using\n",(0,o.jsx)(n.code,{children:'Security.allowDomain("*")'}),". For more information, see\n",(0,o.jsx)(n.a,{href:"/docs/development/security/permission-controls#website-controls-policy-files",children:"Website controls (policy files)"}),"\nand\n",(0,o.jsx)(n.a,{href:"/docs/development/security/permission-controls#author-developer-controls",children:"Author (developer) controls"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The local-trusted sandbox\u2014Local SWF files that are registered as trusted (by\nusers or by installer programs) are placed in the local-trusted sandbox.\nSystem administrators and users also have the ability to reassign (move) a\nlocal SWF file to or from the local-trusted sandbox based on security\nconsiderations (see\n",(0,o.jsx)(n.a,{href:"/docs/development/security/permission-controls#administrator-controls",children:"Administrator controls"})," and\n",(0,o.jsx)(n.a,{href:"/docs/development/security/permission-controls#user-controls",children:"User controls"}),"). SWF files that are\nassigned to the local-trusted sandbox can interact with any other SWF files\nand can load data from anywhere (remote or local)."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"The AIR application sandbox\u2014This sandbox contains content that was installed\nwith the running AIR application. By default, code executing in the AIR\napplication sandbox can cross-script code from any domain. However, files\noutside the AIR application sandbox are not permitted to cross-script code in\nthe application sandbox. By default, code and content in the AIR application\nsandbox can load content and data from any domain."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Communication between the local-with-networking and local-with-filesystem\nsandboxes, as well as communication between the local-with-filesystem and remote\nsandboxes, is strictly forbidden. Permission to allow such communication cannot\nbe granted by an application running in Flash Player or by a user or\nadministrator."}),"\n",(0,o.jsx)(n.p,{children:"Scripting in either direction between local HTML files and local SWF files\u2014for\nexample, using the ExternalInterface class\u2014requires that both the HTML file and\nSWF file involved be in the local-trusted sandbox. This is because the local\nsecurity models for browsers differ from the Flash Player local security model."}),"\n",(0,o.jsx)(n.p,{children:"SWF files in the local-with-networking sandbox cannot load SWF files in the\nlocal-with-filesystem sandbox. SWF files in the local-with-filesystem sandbox\ncannot load SWF files in the local-with-networking sandbox."}),"\n",(0,o.jsx)(n.h2,{id:"the-air-application-sandbox",children:"The AIR application sandbox"}),"\n",(0,o.jsxs)(n.p,{children:["The Adobe AIR runtime adds an additional sandbox, called the ",(0,o.jsx)(n.em,{children:"application"}),"\nsandbox, to the Flash Player security sandbox model. Files installed as part of\nan AIR application load into the application sandbox. Any other files loaded by\nthe application have security restrictions corresponding to those specified by\nthe regular Flash Player security model."]}),"\n",(0,o.jsxs)(n.p,{children:["When an application is installed, all files included within an AIR package are\ninstalled onto the user's computer into an application directory. Developers can\nreference this directory in code through the ",(0,o.jsx)(n.code,{children:"app:/"})," URL scheme (see\n",(0,o.jsx)(n.a,{href:"/docs/development/networking-and-communication/http-communications/loading-external-data#uri-schemes",children:"URI schemes"}),").\nAll files within the application directory tree are assigned to the application\nsandbox when the application is run. Content in the application sandbox is\nblessed with the full privileges available to an AIR application, including\ninteraction with the local file system."]}),"\n",(0,o.jsx)(n.p,{children:"Many AIR applications use only these locally installed files to run the\napplication. However, AIR applications are not restricted to just the files\nwithin the application directory \u2014 they can load any type of file from any\nsource. This includes files local to the user's computer as well as files from\navailable external sources, such as those on a local network or on the Internet.\nFile type has no impact on security restrictions; loaded HTML files have the\nsame security privileges as loaded SWF files from the same source."}),"\n",(0,o.jsxs)(n.p,{children:["Content in the application security sandbox has access to AIR APIs that content\nin other sandboxes are prevented from using. For example, the\n",(0,o.jsx)(n.code,{children:"air.NativeApplication.nativeApplication.applicationDescriptor"})," property, which\nreturns the contents of the application descriptor file for the application, is\nrestricted to content in the application security sandbox. Another example of a\nrestricted API is the FileStream class, which contains methods for reading and\nwriting to the local file system."]}),"\n",(0,o.jsxs)(n.p,{children:["ActionScript APIs that are only available to content in the application security\nsandbox are indicated with the AIR logo in the\n",(0,o.jsx)(n.a,{href:"https://airsdk.dev/reference/actionscript/3.0/index.html",children:"ActionScript 3.0 Reference for the Adobe Flash Platform"}),".\nUsing these APIs in other sandboxes causes the runtime to throw a SecurityError\nexception."]}),"\n",(0,o.jsxs)(n.p,{children:["For HTML content (in an HTMLLoader object), all AIR JavaScript APIs (those that\nare available via the ",(0,o.jsx)(n.code,{children:"window.runtime"})," property, or via the ",(0,o.jsx)(n.code,{children:"air"})," object when\nusing the AIRAliases.js file) are available to content in the application\nsecurity sandbox. HTML content in another sandbox does not have access to the\n",(0,o.jsx)(n.code,{children:"window.runtime"})," property, so this content cannot access the AIR or Flash Player\nAPIs."]}),"\n",(0,o.jsx)(n.p,{children:"Content executing within the AIR application sandbox has the following\nadditional restrictions:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["For HTML content in the application security sandbox, there are limitations on\nusing APIs that can dynamically transform strings into executable code after\nthe code is loaded. This is to prevent the application from inadvertently\ninjecting (and executing) code from non-application sources (such as\npotentially insecure network domains). An example is the use of the ",(0,o.jsx)(n.code,{children:"eval()"}),"\nfunction. For details, see\n",(0,o.jsx)(n.a,{href:"/docs/development/security/air-security/html-security-in-adobe-air#code-restrictions-for-content-in-different-sandboxes",children:"Code restrictions for content in different sandboxes"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["To prevent possible phishing attacks, ",(0,o.jsx)(n.code,{children:"img"})," tags in HTML content in\nActionScript TextField objects are ignored in SWF content in the application\nsecurity sandbox."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Content in the application sandbox cannot use the ",(0,o.jsx)(n.code,{children:"asfunction"})," protocol in\nHTML content in ActionScript 2.0 text fields."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"SWF content in the application sandbox cannot use the cross-domain cache, a\nfeature that was added to Flash Player 9 Update 3. This feature lets Flash\nPlayer persistently cache Adobe platform component content and reuse it in\nloaded SWF content on demand (eliminating the need to reload the content\nmultiple times)."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"restrictions-for-javascript-inside-air",children:"Restrictions for JavaScript inside AIR"}),"\n",(0,o.jsxs)(n.p,{children:["Unlike content in the application security sandbox, JavaScript content in a\nnon-application security sandbox ",(0,o.jsx)(n.em,{children:"can"})," call the ",(0,o.jsx)(n.code,{children:"eval()"})," function to execute\ndynamically generated code at any time. However, there are restrictions on\nJavaScript running in a non-application security sandbox within AIR. These\ninclude:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["JavaScript code in a non-application sandbox does not have access to the\n",(0,o.jsx)(n.code,{children:"window.runtime"})," object, and as such this code cannot execute AIR APIs."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["By default, content in a non-application security sandbox cannot use\nXMLHttpRequest calls to load data from other domains other than the domain\ncalling the request. However, application code can grant non-application\ncontent permission to do so by setting an ",(0,o.jsx)(n.code,{children:"allowCrossdomainXHR"})," attribute in\nthe containing frame or iframe. For more information, see\n",(0,o.jsx)(n.a,{href:"/docs/development/security/air-security/html-security-in-adobe-air#code-restrictions-for-content-in-different-sandboxes",children:"Code restrictions for content in different sandboxes"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["There are restrictions on calling the JavaScript ",(0,o.jsx)(n.code,{children:"window.open()"})," method. For\ndetails, see\n",(0,o.jsx)(n.a,{href:"/docs/development/security/air-security/html-security-in-adobe-air#restrictions-on-calling-the-javascript-windowopen-method",children:"Restrictions on calling the JavaScript window.open() method"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["HTML content in remote (network) security sandboxes can only load CSS,\n",(0,o.jsx)(n.code,{children:"frame"}),", ",(0,o.jsx)(n.code,{children:"iframe"}),", and ",(0,o.jsx)(n.code,{children:"img"})," content from remote domains (from network URLs)."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["HTML content in local-with-filesystem, local-with-networking, or local-trusted\nsandboxes can only load CSS, ",(0,o.jsx)(n.code,{children:"frame"}),", ",(0,o.jsx)(n.code,{children:"iframe"}),", and ",(0,o.jsx)(n.code,{children:"img"})," content from local\nsandboxes (not from application or network URLs)."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For details, see\n",(0,o.jsx)(n.a,{href:"/docs/development/security/air-security/html-security-in-adobe-air#code-restrictions-for-content-in-different-sandboxes",children:"Code restrictions for content in different sandboxes"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"setting-the-sandbox-type-of-local-swf-files",children:"Setting the sandbox type of local SWF files"}),"\n",(0,o.jsxs)(n.p,{children:["An end user or the administrator of a computer can specify that a local SWF file\nis trusted, allowing it to load data from all domains, both local and network.\nThis is specified in the Global Flash Player Trust and User Flash Player Trust\ndirectories. For more information, see\n",(0,o.jsx)(n.a,{href:"/docs/development/security/permission-controls#administrator-controls",children:"Administrator controls"})," and\n",(0,o.jsx)(n.a,{href:"/docs/development/security/permission-controls#user-controls",children:"User controls"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["For more information on local sandboxes, see\n",(0,o.jsx)(n.a,{href:"#local-sandboxes",children:"Local sandboxes"}),"."]}),"\n",(0,o.jsx)(n.h4,{id:"adobe-flash-professional",children:"Adobe Flash Professional"}),"\n",(0,o.jsx)(n.p,{children:"You can configure a SWF file for the local-with-filesystem sandbox or the\nlocal-with-networking sandbox by setting the document's publish settings in the\nauthoring tool."}),"\n",(0,o.jsx)(n.h4,{id:"adobe-flex",children:"Adobe Flex"}),"\n",(0,o.jsxs)(n.p,{children:["You can configure a SWF file for the local-with-filesystem sandbox or the\nlocal-with-networking sandbox by setting the ",(0,o.jsx)(n.code,{children:"use-network"}),' flag in the Adobe\nFlex compiler. For more information, see "About the application compiler\noptions" in ',(0,o.jsx)(n.em,{children:"Building and Deploying Adobe Flex 3 Applications"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"the-securitysandboxtype-property",children:"The Security.sandboxType property"}),"\n",(0,o.jsxs)(n.p,{children:["An author of a SWF file can use the read-only static ",(0,o.jsx)(n.code,{children:"Security.sandboxType"}),"\nproperty to determine the type of sandbox to which the Flash Player or AIR\nruntime has assigned the SWF file. The Security class includes constants that\nrepresent possible values of the ",(0,o.jsx)(n.code,{children:"Security.sandboxType"})," property, as follows:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Security.REMOTE"})," \u2014The SWF file is from an Internet URL, and operates under\ndomain-based sandbox rules."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Security.LOCAL_WITH_FILE"})," \u2014The SWF file is a local file, but it has not been\ntrusted by the user and was not published with a networking designation. The\nSWF file can read from local data sources but cannot communicate with the\nInternet."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Security.LOCAL_WITH_NETWORK"})," \u2014The SWF file is a local file and has not been\ntrusted by the user, but it was published with a networking designation. The\nSWF file can communicate with the Internet but cannot read from local data\nsources."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Security.LOCAL_TRUSTED"})," \u2014The SWF file is a local file and has been trusted by\nthe user, using either the Settings Manager or a Flash Player trust\nconfiguration file. The SWF file can both read from local data sources and\ncommunicate with the Internet."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Security.APPLICATION"})," \u2014The SWF file is running in an AIR application, and it\nwas installed with the package (AIR file) for that application. By default,\nfiles in the AIR application sandbox can cross-script any file from any\ndomain. However, files outside the AIR application sandbox are not permitted\nto cross-script the AIR file. By default, files in the AIR application sandbox\ncan load content and data from any domain."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(96540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);