"use strict";(globalThis.webpackChunkairsdk_dev=globalThis.webpackChunkairsdk_dev||[]).push([[81702],{19281:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"development/display/using-the-drawing-api/drawing-api-example-algorithmic-visual-generator","title":"Drawing API example: Algorithmic Visual Generator","description":"The Algorithmic Visual Generator example dynamically draws to the stage several","source":"@site/docs/development/display/using-the-drawing-api/drawing-api-example-algorithmic-visual-generator.md","sourceDirName":"development/display/using-the-drawing-api","slug":"/development/display/using-the-drawing-api/drawing-api-example-algorithmic-visual-generator","permalink":"/docs/development/display/using-the-drawing-api/drawing-api-example-algorithmic-visual-generator","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/display/using-the-drawing-api/drawing-api-example-algorithmic-visual-generator.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Defining winding rules","permalink":"/docs/development/display/using-the-drawing-api/defining-winding-rules"},"next":{"title":"Drawing Paths","permalink":"/docs/development/display/using-the-drawing-api/drawing-paths"}}');var a=i(74848),s=i(28453);const r={},l="Drawing API example: Algorithmic Visual Generator",o={},h=[{value:"Setting the listeners",id:"setting-the-listeners",level:2},{value:"Creating the satellites",id:"creating-the-satellites",level:2},{value:"Updating the satellite position",id:"updating-the-satellite-position",level:2},{value:"Responding to user interaction",id:"responding-to-user-interaction",level:2},{value:"Customizing further",id:"customizing-further",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"drawing-api-example-algorithmic-visual-generator",children:"Drawing API example: Algorithmic Visual Generator"})}),"\n",(0,a.jsx)(t.p,{children:'The Algorithmic Visual Generator example dynamically draws to the stage several\n"satellites", or circles moving in a circular orbit. Among the features explored\nare:'}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Using the drawing API to draw a basic shape with dynamic appearances"}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Connecting user interaction with the properties that are used in a draw"}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Conveying animation by clearing the stage on each frame and redrawing"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:['The example in the previous subsection animated a solitary "satellite" using the\n',(0,a.jsx)(t.code,{children:"Event.ENTER_FRAME"})," event. This example expands upon this, building a control\npanel with series of sliders that immediately update the visual display of\nseveral satellites. This example formalizes the code into external classes and\nwraps the satellite creation code into a loop, storing a reference to each\nsatellite in a ",(0,a.jsx)(t.code,{children:"satellites"})," array."]}),"\n",(0,a.jsxs)(t.p,{children:["To get the application files for this sample, see\n",(0,a.jsx)(t.a,{href:"https://github.com/joshtynjala/flash-platform-as3-dev-guide-examples/releases/tag/original",children:(0,a.jsx)(t.em,{children:"FlashPlatformAS3DevGuideExamples.zip"})}),".\nThe application files can be found in the folder\nSamples/AlgorithmicVisualGenerator. This folder contains the following files:"]}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"File"}),(0,a.jsx)(t.th,{children:"Description"})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"AlgorithmicVisualGenerator.fla"}),(0,a.jsx)(t.td,{children:"The main application file in Flash Professional (FLA)."})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"com/example/programmingas3/algorithmic/AlgorithmicVisualGenerator.as"}),(0,a.jsx)(t.td,{children:"The class that provides the main functionality of the application, including drawing satellites on the stage and responding to events from the control panel to update the variables that affect the drawing of satellites."})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"com/example/programmingas3/algorithmic/ControlPanel.as"}),(0,a.jsx)(t.td,{children:"A class that manages user interaction with several sliders and dispatching events when this occurs."})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"com/example/programmingas3/algorithmic/Satellite.as"}),(0,a.jsx)(t.td,{children:"A class which represents the display object that rotates in an orbit around a central point and contains properties related to its current draw state."})]})]})]}),"\n",(0,a.jsx)(t.h2,{id:"setting-the-listeners",children:"Setting the listeners"}),"\n",(0,a.jsxs)(t.p,{children:["The application first creates three listeners. The first listens for a\ndispatched event from the control panel that a rebuild of the satellites is\nnecessary. The second listens to changes to the size of the SWF file's stage.\nThe third listens for each passing frame in the SWF file and to redraw using the\n",(0,a.jsx)(t.code,{children:"doEveryFrame()"})," function."]}),"\n",(0,a.jsx)(t.h2,{id:"creating-the-satellites",children:"Creating the satellites"}),"\n",(0,a.jsxs)(t.p,{children:["Once these listeners are set, the ",(0,a.jsx)(t.code,{children:"build()"})," function is called. This function\nfirst calls the ",(0,a.jsx)(t.code,{children:"clear()"})," function, which empties the ",(0,a.jsx)(t.code,{children:"satellites"})," array and\nclears any previous draws to the stage. This is necessary since the ",(0,a.jsx)(t.code,{children:"build()"}),"\nfunction could be recalled whenever the control panel sends an event to do so,\nsuch as when the color settings have been changed. In such a case, the\nsatellites must be removed and recreated."]}),"\n",(0,a.jsxs)(t.p,{children:["The function then creates the satellites, setting the initial properties needed\nfor creation, such as a the ",(0,a.jsx)(t.code,{children:"position"})," variable, which starts at a random\nposition in the orbit, and the ",(0,a.jsx)(t.code,{children:"color"})," variable, which in this example does not\nchange once the satellite has been created."]}),"\n",(0,a.jsxs)(t.p,{children:["As each satellite is created, a reference to it is added to the ",(0,a.jsx)(t.code,{children:"satellites"}),"\narray. When the ",(0,a.jsx)(t.code,{children:"doEveryFrame()"})," function is called, it will update to all\nsatellites in this array."]}),"\n",(0,a.jsx)(t.h2,{id:"updating-the-satellite-position",children:"Updating the satellite position"}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"doEveryFrame()"})," function is the heart of the application's animation\nprocess. It is called for every frame, at a rate equal the framerate of the SWF\nfile. Because the variables of the draw change slightly, this conveys the\nappearance of animation."]}),"\n",(0,a.jsxs)(t.p,{children:["The function first clears all previous draws and redraws the background. Then,\nit loops through each satellite container and increments the ",(0,a.jsx)(t.code,{children:"position"})," property\nof each satellite, and updates the ",(0,a.jsx)(t.code,{children:"radius"})," and ",(0,a.jsx)(t.code,{children:"orbitRadius"})," properties that\nmay have changed from user interaction with the control panel. Finally, the\nsatellite updates to its new position by calling the ",(0,a.jsx)(t.code,{children:"draw()"})," method of the\nSatellite class."]}),"\n",(0,a.jsxs)(t.p,{children:["Note that the counter, ",(0,a.jsx)(t.code,{children:"i"}),", only increments up to the ",(0,a.jsx)(t.code,{children:"visibleSatellites"}),"\nvariable. This is because if the user has limited the amount of satellites that\nare displayed through the control panel, the remaining satellites in the loop\nshould not be redrawn but should instead be hidden. This occurs in a loop which\nimmediately follows the loop responsible for drawing."]}),"\n",(0,a.jsxs)(t.p,{children:["When the doEveryFrame() function completes, the number of ",(0,a.jsx)(t.code,{children:"visibleSatellites"}),"\nupdate in position across the screen."]}),"\n",(0,a.jsx)(t.h2,{id:"responding-to-user-interaction",children:"Responding to user interaction"}),"\n",(0,a.jsxs)(t.p,{children:["User interaction occurs via the control panel, which is managed by the\nControlPanel class. This class sets a listener along with the individual\nminimum, maximum, and default values of each slider. As the user moves these\nsliders, the ",(0,a.jsx)(t.code,{children:"changeSetting()"})," function is called. This function updates the\nproperties of the control panel. If the change requires a rebuild of the\ndisplay, an event is dispatched which is then handled in the main application\nfile. As the control panel settings change, the ",(0,a.jsx)(t.code,{children:"doEveryFrame()"})," function draws\neach satellite with the updated variables."]}),"\n",(0,a.jsx)(t.h2,{id:"customizing-further",children:"Customizing further"}),"\n",(0,a.jsx)(t.p,{children:"This example is only a basic schematic of how to generate visuals using the\ndrawing API. It uses relatively few lines of code to create an interactive\nexperience that appears quite complex. Even so, this example could be extended\nwith minor changes. A few ideas:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"doEveryFrame()"})," function could increment the color value of the\nsatellite."]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"doEveryFrame()"})," function could shrink or expand the satellite radius over\ntime."]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"The satellite radius does not have to be circular; it could use the Math class\nto move according to a sine wave, for example."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"Satellites could use hit detection with other satellites."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"The drawing API can be used as an alternative to creating visual effects in the\nFlash authoring environment, drawing basic shapes at run time. But it can also\nbe used to create visual effects of a variety and scope that are not possible to\ncreate by hand. Using the drawing API and a bit of mathematics, the ActionScript\nauthor can give life to many unexpected creations."})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>l});var n=i(96540);const a={},s=n.createContext(a);function r(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);