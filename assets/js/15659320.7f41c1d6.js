"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[38760],{28453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>r});var o=n(96540);const i={},h=o.createContext(i);function c(e){const t=o.useContext(h);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),o.createElement(h.Provider,{value:t},e.children)}},59146:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"development/user-interaction/touch-multitouch-and-gesture-input/touch-event-handling","title":"Touch event handling","description":"Basic touch events are handled the same way you handle other events, like mouse","source":"@site/docs/development/user-interaction/touch-multitouch-and-gesture-input/touch-event-handling.md","sourceDirName":"development/user-interaction/touch-multitouch-and-gesture-input","slug":"/development/user-interaction/touch-multitouch-and-gesture-input/touch-event-handling","permalink":"/docs/development/user-interaction/touch-multitouch-and-gesture-input/touch-event-handling","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/user-interaction/touch-multitouch-and-gesture-input/touch-event-handling.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"mainSidebar","previous":{"title":"Touch support discovery","permalink":"/docs/development/user-interaction/touch-multitouch-and-gesture-input/touch-support-discovery"},"next":{"title":"Touch and drag","permalink":"/docs/development/user-interaction/touch-multitouch-and-gesture-input/touch-and-drag"}}');var i=n(74848),h=n(28453);const c={sidebar_position:3},r="Touch event handling",s={},d=[{value:"Touch Event properties",id:"touch-event-properties",level:2},{value:"Touch event phases",id:"touch-event-phases",level:2},{value:"Touch Point ID",id:"touch-point-id",level:3}];function a(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,h.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"touch-event-handling",children:"Touch event handling"})}),"\n",(0,i.jsxs)(t.p,{children:["Basic touch events are handled the same way you handle other events, like mouse\nevents, in ActionScript. You can listen for a series of touch events defined by\nthe event type constants in the\n",(0,i.jsx)(t.a,{href:"https://airsdk.dev/reference/actionscript/3.0/flash/ui/Multitouch.html",children:"TouchEvent class"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Note: For multiple touch point input (such as touching a device with more than\none finger), the first point of contact dispatches a mouse event and a touch\nevent."}),"\n",(0,i.jsx)(t.p,{children:"To handle a basic touch event:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Set your application to handle touch events by setting the"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"`flash.ui.Multitouch.inputMode` property to\n`MultitouchInputMode.TOUCH_POINT`.\n"})}),"\n",(0,i.jsxs)(t.ol,{start:"2",children:["\n",(0,i.jsx)(t.li,{children:"Attach an event listener to an instance of a class that inherits properties"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"from the InteractiveObject class, such as Sprite or TextField.\n"})}),"\n",(0,i.jsxs)(t.ol,{start:"3",children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Specify the type of touch event to handle."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Call an event handler function to do something in response to the event."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"For example, the following code displays a message when the square drawn on\nmySprite is tapped on a touch-enabled screen:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'Multitouch.inputMode=MultitouchInputMode.TOUCH_POINT;\n\nvar mySprite:Sprite = new Sprite();\nvar myTextField:TextField = new TextField();\n\nmySprite.graphics.beginFill(0x336699);\nmySprite.graphics.drawRect(0,0,40,40);\naddChild(mySprite);\n\nmySprite.addEventListener(TouchEvent.TOUCH_TAP, taphandler);\n\nfunction taphandler(evt:TouchEvent): void {\n\tmyTextField.text = "I\'ve been tapped";\n\tmyTextField.y = 50;\n\taddChild(myTextField);\n}\n'})}),"\n",(0,i.jsx)(t.h2,{id:"touch-event-properties",children:"Touch Event properties"}),"\n",(0,i.jsx)(t.p,{children:"When an event occurs, an event object is created. The TouchEvent object contains\ninformation about the location and conditions of the touch event. You can use\nthe properties of the event object to retrieve that information."}),"\n",(0,i.jsxs)(t.p,{children:["For example, the following code creates a TouchEvent object ",(0,i.jsx)(t.code,{children:"evt"}),", and then\ndisplays the ",(0,i.jsx)(t.code,{children:"stageX"})," property of the event object (the x-coordinate of the\npoint in the Stage space that the touch occurred) in the text field:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Multitouch.inputMode=MultitouchInputMode.TOUCH_POINT;\n\nvar mySprite:Sprite = new Sprite();\nvar myTextField:TextField = new TextField();\n\nmySprite.graphics.beginFill(0x336699);\nmySprite.graphics.drawRect(0,0,40,40);\naddChild(mySprite);\n\nmySprite.addEventListener(TouchEvent.TOUCH_TAP, taphandler);\n\nfunction taphandler(evt:TouchEvent): void {\n\tmyTextField.text = evt.stageX.toString;\n\tmyTextField.y = 50;\n\taddChild(myTextField);\n}\n"})}),"\n",(0,i.jsxs)(t.p,{children:["See the\n",(0,i.jsx)(t.a,{href:"https://airsdk.dev/reference/actionscript/3.0/flash/events/TouchEvent.html",children:"TouchEvent"}),"\nclass for the properties available through the event object."]}),"\n",(0,i.jsxs)(t.p,{children:["Note: Not all TouchEvent properties are supported in all runtime environments.\nFor example, not all touch-enabled devices are capable or detecting the amount\nof pressure the user is applying to the touch screen. So, the\n",(0,i.jsx)(t.code,{children:"TouchEvent.pressure"})," property is not supported on those devices. Try testing\nfor specific property support to ensure your application works, and see\n",(0,i.jsx)(t.a,{href:"/docs/development/user-interaction/touch-multitouch-and-gesture-input/troubleshooting",children:"Troubleshooting"})," for more information."]}),"\n",(0,i.jsx)(t.h2,{id:"touch-event-phases",children:"Touch event phases"}),"\n",(0,i.jsxs)(t.p,{children:["Track touch events through various stages over and outside an InteractiveObject\njust as you do for mouse events. And, track touch events through the beginning,\nmiddle, and end of a touch interaction. The TouchEvent class provides values for\nhandling ",(0,i.jsx)(t.code,{children:"touchBegin"}),", ",(0,i.jsx)(t.code,{children:"touchMove"}),", and ",(0,i.jsx)(t.code,{children:"touchEnd"})," events."]}),"\n",(0,i.jsxs)(t.p,{children:["For example, you could use ",(0,i.jsx)(t.code,{children:"touchBegin"}),", ",(0,i.jsx)(t.code,{children:"touchMove"}),", and ",(0,i.jsx)(t.code,{children:"touchEnd"})," events to\ngive the user visual feedback as they touch and move a display object:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'Multitouch.inputMode = MultitouchInputMode.TOUCH_POINT;\nvar mySprite:Sprite = new Sprite();\nmySprite.graphics.beginFill(0x336699);\nmySprite.graphics.drawRect(0,0,40,40);\naddChild(mySprite);\nvar myTextField:TextField = new TextField();\nmyTextField.width = 200;\nmyTextField.height = 20;\naddChild(myTextField);\n\nmySprite.addEventListener(TouchEvent.TOUCH_BEGIN, onTouchBegin);\nstage.addEventListener(TouchEvent.TOUCH_MOVE, onTouchMove);\nstage.addEventListener(TouchEvent.TOUCH_END, onTouchEnd);\nfunction onTouchBegin(event:TouchEvent) {\n\tmyTextField.text = "touch begin" + event.touchPointID;\n}\nfunction onTouchMove(event:TouchEvent) {\n\tmyTextField.text = "touch move" + event.touchPointID;\n}\nfunction onTouchEnd(event:TouchEvent) {\n\tmyTextField.text = "touch end" + event.touchPointID;\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"Note: The initial touch listener is attached to mySprite, but the listeners for\nmoving and ending the touch event are not. If the users's finger or pointing\ndevices moves ahead of the display object, the Stage continues to listen for the\ntouch event."}),"\n",(0,i.jsx)(t.h3,{id:"touch-point-id",children:"Touch Point ID"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"TouchEvent.touchPointID"})," property is an essential part of writing\napplications that respond to touch input. The Flash runtime assigns each point\nof touch a unique ",(0,i.jsx)(t.code,{children:"touchPointID"})," value. Whenever an application responds to the\nphases or movement of touch input, check the ",(0,i.jsx)(t.code,{children:"touchPointID"})," before handling the\nevent. The touch input dragging methods of the Sprite class use the\n",(0,i.jsx)(t.code,{children:"touchPointID"})," property as a parameter so the correct input instance is handled.\nThe ",(0,i.jsx)(t.code,{children:"touchPointID"})," property ensures that an event handler is responding to the\ncorrect touch point. Otherwise, the event handler responds to any instances of\nthe touch event type (such as all ",(0,i.jsx)(t.code,{children:"touchMove"})," events) on the device, producing\nunpredictable behavior. The property is especially important when the user is\ndragging objects."]}),"\n",(0,i.jsxs)(t.p,{children:["Use the ",(0,i.jsx)(t.code,{children:"touchPointID"})," property to manage an entire touch sequence. A touch\nsequence has one ",(0,i.jsx)(t.code,{children:"touchBegin"})," event, zero or more ",(0,i.jsx)(t.code,{children:"touchMove"})," events, and one\n",(0,i.jsx)(t.code,{children:"touchEnd"})," event that all have the same ",(0,i.jsx)(t.code,{children:"touchPointID"})," value."]}),"\n",(0,i.jsxs)(t.p,{children:["The following example establishes a variable ",(0,i.jsx)(t.code,{children:"touchMoveID"})," to test for the\ncorrect ",(0,i.jsx)(t.code,{children:"touchPointID"})," value before responding to a touch move event. Otherwise,\nother touch input triggers the event handler, too. Notice the listeners for the\nmove and end phases are on the stage, not the display object. The stage listens\nfor the move or end phases in case the user's touch moves beyond the display\nobject boundaries."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'Multitouch.inputMode = MultitouchInputMode.TOUCH_POINT;\nvar mySprite:Sprite = new Sprite();\nmySprite.graphics.beginFill(0x336699);\nmySprite.graphics.drawRect(0,0,40,40);\naddChild(mySprite);\nvar myTextField:TextField = new TextField();\naddChild(myTextField);\nmyTextField.width = 200;\nmyTextField.height = 20;\nvar touchMoveID:int = 0;\n\nmySprite.addEventListener(TouchEvent.TOUCH_BEGIN, onTouchBegin);\nfunction onTouchBegin(event:TouchEvent) {\n\tif(touchMoveID != 0) {\n\t\tmyTextField.text = "already moving. ignoring new touch";\n\t\treturn;\n\t}\n\ttouchMoveID = event.touchPointID;\n\n\tmyTextField.text = "touch begin" + event.touchPointID;\n\tstage.addEventListener(TouchEvent.TOUCH_MOVE, onTouchMove);\n\tstage.addEventListener(TouchEvent.TOUCH_END, onTouchEnd);\n}\nfunction onTouchMove(event:TouchEvent) {\n\tif(event.touchPointID != touchMoveID) {\n\t\tmyTextField.text = "ignoring unrelated touch";\n\t\treturn;\n\t}\n\tmySprite.x = event.stageX;\n\tmySprite.y = event.stageY;\n\tmyTextField.text = "touch move" + event.touchPointID;\n}\nfunction onTouchEnd(event:TouchEvent) {\n\tif(event.touchPointID != touchMoveID) {\n\t\tmyTextField.text = "ignoring unrelated touch end";\n\t\treturn;\n\t}\n\ttouchMoveID = 0;\n\tstage.removeEventListener(TouchEvent.TOUCH_MOVE, onTouchMove);\n\tstage.removeEventListener(TouchEvent.TOUCH_END, onTouchEnd);\n\tmyTextField.text = "touch end" + event.touchPointID;\n}\n'})})]})}function u(e={}){const{wrapper:t}={...(0,h.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);