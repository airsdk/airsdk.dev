"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[6439],{3905:(e,t,i)=>{i.d(t,{Zo:()=>d,kt:()=>g});var n=i(67294);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var p=n.createContext({}),s=function(e){var t=n.useContext(p),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},d=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var i=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=s(i),m=a,g=c["".concat(p,".").concat(m)]||c[m]||u[m]||r;return i?n.createElement(g,o(o({ref:t},d),{},{components:i})):n.createElement(g,o({ref:t},d))}));function g(e,t){var i=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=i.length,o=new Array(r);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<r;s++)o[s]=i[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,i)}m.displayName="MDXCreateElement"},59255:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var n=i(87462),a=(i(67294),i(3905));const r={title:"ADT -migrate",sidebar_label:"migrate",sidebar_position:4},o=void 0,l={unversionedId:"building/air-developer-tool/commands/migrate",id:"building/air-developer-tool/commands/migrate",title:"ADT -migrate",description:"The -migrate command applies a migration signature to an AIR file. A migration signature must be used when you renew or change your digital certificate and need to update applications signed with the old certificate.",source:"@site/docs/building/air-developer-tool/commands/migrate.md",sourceDirName:"building/air-developer-tool/commands",slug:"/building/air-developer-tool/commands/migrate",permalink:"/docs/building/air-developer-tool/commands/migrate",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/building/air-developer-tool/commands/migrate.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"ADT -migrate",sidebar_label:"migrate",sidebar_position:4},sidebar:"mainSidebar",previous:{title:"sign",permalink:"/docs/building/air-developer-tool/commands/sign"},next:{title:"checkstore",permalink:"/docs/building/air-developer-tool/commands/checkstore"}},p={},s=[{value:"<code>AIR_SIGNING_OPTIONS</code>",id:"air_signing_options",level:3},{value:"<code>input</code>",id:"input",level:3},{value:"<code>output</code>",id:"output",level:3}],d={toc:s},c="wrapper";function u(e){let{components:t,...i}=e;return(0,a.kt)(c,(0,n.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"-migrate")," command applies a migration signature to an AIR file. A migration signature must be used when you renew or change your digital certificate and need to update applications signed with the old certificate."),(0,a.kt)("p",null,"For more information about packaging AIR applications with a migration signature, see Signing an updated version of an AIR application."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The migration certificate must be applied within 365 days from the expiration of the certificate. Once this grace period has elapsed, your application updates can no longer be signed with a migration signature. Users can first update to a version of your application that was signed with a migration signature and then install the latest update, or they can uninstall the original application and install the new AIR package.")),(0,a.kt)("p",null,"To use a migration signature, first sign your AIR application using the new or renewed certificate (using the ",(0,a.kt)("a",{parentName:"p",href:"/docs/building/air-developer-tool/commands/package"},(0,a.kt)("inlineCode",{parentName:"a"},"-package"))," or ",(0,a.kt)("a",{parentName:"p",href:"/docs/building/air-developer-tool/commands/sign"},(0,a.kt)("inlineCode",{parentName:"a"},"-sign"))," commands), and then apply the migration signature using the old certificate and the ",(0,a.kt)("inlineCode",{parentName:"p"},"-migrate")," command."),(0,a.kt)("p",null,"The -migrate command uses the following syntax:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"adt -migrate AIR_SIGNING_OPTIONS input output\n")),(0,a.kt)("h3",{id:"air_signing_options"},(0,a.kt)("inlineCode",{parentName:"h3"},"AIR_SIGNING_OPTIONS")),(0,a.kt)("p",null,"The AIR signing options identifying the original certificate that was used to sign existing versions of the AIR application. The signing options are fully described in ",(0,a.kt)("a",{parentName:"p",href:"/docs/building/air-developer-tool/option-sets/code-signing-options"},"ADT code signing options"),"."),(0,a.kt)("h3",{id:"input"},(0,a.kt)("inlineCode",{parentName:"h3"},"input")),(0,a.kt)("p",null,"The AIR file already signed with the NEW application certificate."),(0,a.kt)("h3",{id:"output"},(0,a.kt)("inlineCode",{parentName:"h3"},"output")),(0,a.kt)("p",null,"The name of the final package bearing signatures from both the new and the old certificates."),(0,a.kt)("p",null,"The file names used for the input and output AIR files must be different."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The ADT migrate command cannot be used with AIR desktop applications that include native extensions, because those applications are packaged as native installers, not as ",(0,a.kt)("inlineCode",{parentName:"p"},".air")," files. To change certificates for an AIR desktop application that includes a native extension, package the application using the ",(0,a.kt)("a",{parentName:"p",href:"/docs/building/air-developer-tool/commands/package"},"ADT package command")," with the ",(0,a.kt)("inlineCode",{parentName:"p"},"-migrate")," flag.")))}u.isMDXComponent=!0}}]);