"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[30360],{6058:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>s,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects/the-position-property-of-a-filestream-object","title":"The position property of a FileStream object","description":"The position property of a FileStream object determines where data is read or","source":"@site/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects/the-position-property-of-a-filestream-object.md","sourceDirName":"development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects","slug":"/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects/the-position-property-of-a-filestream-object","permalink":"/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects/the-position-property-of-a-filestream-object","draft":false,"unlisted":false,"editUrl":"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects/the-position-property-of-a-filestream-object.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"mainSidebar","previous":{"title":"Initializing a FileStream object, and opening and closing files","permalink":"/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects/initializing-a-filestream-object-and-opening-and-closing-files"},"next":{"title":"The read buffer and the bytesAvailable property of a FileStream object","permalink":"/docs/development/files-and-data/working-with-the-file-system/using-the-air-file-system-api/reading-and-writing-files/working-with-filestream-objects/the-read-buffer-and-the-bytesavailable-property-of-a-filestream-object"}}');var r=i(74848),o=i(28453);const s={sidebar_position:3},a="The position property of a FileStream object",l={},d=[];function h(e){const t={code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"the-position-property-of-a-filestream-object",children:"The position property of a FileStream object"})}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"position"})," property of a FileStream object determines where data is read or\nwritten on the next read or write method."]}),"\n",(0,r.jsxs)(t.p,{children:["Before a read or write operation, set the ",(0,r.jsx)(t.code,{children:"position"})," property to any valid\nposition in the file."]}),"\n",(0,r.jsxs)(t.p,{children:["For example, the following code writes the string ",(0,r.jsx)(t.code,{children:'"hello"'})," (in UTF encoding) at\nposition 8 in the file:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'var myFile:File = File.documentsDirectory.resolvePath("AIR Test/test.txt");\nvar myFileStream:FileStream = new FileStream();\nmyFileStream.open(myFile, FileMode.UPDATE);\nmyFileStream.position = 8;\nmyFileStream.writeUTFBytes("hello");\n'})}),"\n",(0,r.jsxs)(t.p,{children:["When you first open a FileStream object, the ",(0,r.jsx)(t.code,{children:"position"})," property is set to 0."]}),"\n",(0,r.jsxs)(t.p,{children:["Before a read operation, the value of ",(0,r.jsx)(t.code,{children:"position"})," must be at least 0 and less\nthan the number of bytes in the file (which are existing positions in the file)."]}),"\n",(0,r.jsxs)(t.p,{children:["The value of the ",(0,r.jsx)(t.code,{children:"position"})," property is modified only in the following\nconditions:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["When you explicitly set the ",(0,r.jsx)(t.code,{children:"position"})," property."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"When you call a read method."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"When you call a write method."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["When you call a read or write method of a FileStream object, the ",(0,r.jsx)(t.code,{children:"position"}),"\nproperty is immediately incremented by the number of bytes that you read or\nwrite. Depending on the read method you use, the ",(0,r.jsx)(t.code,{children:"position"})," property is either\nincremented by the number of bytes you specify to read or by the number of bytes\navailable. When you call a read or write method subsequently, it reads or writes\nstarting at the new position."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'var myFile:File = File.documentsDirectory.resolvePath("AIR Test/test.txt");\nvar myFileStream:FileStream = new FileStream();\nmyFileStream.open(myFile, FileMode.UPDATE);\nmyFileStream.position = 4000;\ntrace(myFileStream.position); // 4000\nmyFileStream.writeBytes(myByteArray, 0, 200);\ntrace(myFileStream.position); // 4200\n'})}),"\n",(0,r.jsxs)(t.p,{children:["There is, however, one exception: for a FileStream opened in append mode, the\n",(0,r.jsx)(t.code,{children:"position"})," property is not changed after a call to a write method. (In append\nmode, data is always written to the end of the file, independent of the value of\nthe ",(0,r.jsx)(t.code,{children:"position"})," property.)"]}),"\n",(0,r.jsx)(t.p,{children:"For a file opened for asynchronous operations, the write operation does not\ncomplete before the next line of code is executed. However, you can call\nmultiple asynchronous methods sequentially, and the runtime executes them in\norder:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'var myFile:File = File.documentsDirectory.resolvePath("AIR Test/test.txt");\nvar myFileStream:FileStream = new FileStream();\nmyFileStream.openAsync(myFile, FileMode.WRITE);\nmyFileStream.writeUTFBytes("hello");\nmyFileStream.writeUTFBytes("world");\nmyFileStream.addEventListener(Event.CLOSE, closeHandler);\nmyFileStream.close();\ntrace("started.");\n\ncloseHandler(event:Event):void\n{\n\ttrace("finished.");\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"The trace output for this code is the following:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"started.\nfinished.\n"})}),"\n",(0,r.jsxs)(t.p,{children:["You ",(0,r.jsx)(t.em,{children:"can"})," specify the ",(0,r.jsx)(t.code,{children:"position"})," value immediately after you call a read or\nwrite method (or at any time), and the next read or write operation will take\nplace starting at that position. For example, note that the following code sets\nthe ",(0,r.jsx)(t.code,{children:"position"})," property right after a call to the ",(0,r.jsx)(t.code,{children:"writeBytes()"})," operation, and\nthe ",(0,r.jsx)(t.code,{children:"position"})," is set to that value (300) even after the write operation\ncompletes:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'var myFile:File = File.documentsDirectory.resolvePath("AIR Test/test.txt");\nvar myFileStream:FileStream = new FileStream();\nmyFileStream.openAsync(myFile, FileMode.UPDATE);\nmyFileStream.position = 4000;\ntrace(myFileStream.position); // 4000\nmyFileStream.writeBytes(myByteArray, 0, 200);\nmyFileStream.position = 300;\ntrace(myFileStream.position); // 300\n'})})]})}function c(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>s,x:()=>a});var n=i(96540);const r={},o=n.createContext(r);function s(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);